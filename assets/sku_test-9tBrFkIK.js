import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as p}from"./VAvatar-dB8KASTQ.js";import{V as k}from"./VAlert-BESoNloW.js";import{V,a as N,c as C}from"./VCard-OKCvD5FC.js";import{V as y}from"./VContainer-gyyw63QA.js";import{o as a,l,n as s,i as u,y as o,X as n,P as c,x as f}from"./index-DFfHnzbP.js";import"./density-BsbZuh53.js";import"./VGrid-CoQxen0d.js";import"./VImg-BXbMzzdb.js";const _={data(){return{sku:null,error:null}},methods:{async scanNfc(){if("NDEFReader"in window)try{const e=new NDEFReader;await e.scan(),e.onreading=r=>{const{serialNumber:i}=r;this.fetchSku(i)}}catch(e){this.error="NFC scan failed: "+e.message}else this.error="NFC is not supported on this device."},async fetchSku(e){const{data:r,error:i}=await this.$supabase.from("skus").select("*").eq("nfc_uid",e).single();i?this.error="SKU not found":this.sku=r}}};function x(e,r,i,w,t,d){return a(),l(y,null,{default:s(()=>[u(p,{onClick:d.scanNfc},{default:s(()=>r[0]||(r[0]=[o("Scan NFC Tag")])),_:1},8,["onClick"]),t.error?(a(),l(k,{key:0,type:"error"},{default:s(()=>[o(n(t.error),1)]),_:1})):c("",!0),t.sku?(a(),l(V,{key:1},{default:s(()=>[u(N,null,{default:s(()=>[o(n(t.sku.sku_name),1)]),_:1}),u(C,null,{default:s(()=>[o(" Description: "+n(t.sku.description),1),r[1]||(r[1]=f("br",null,null,-1)),o(" Price: "+n(t.sku.price),1),r[2]||(r[2]=f("br",null,null,-1)),o(" Quantity: "+n(t.sku.quantity),1),r[3]||(r[3]=f("br",null,null,-1))]),_:1})]),_:1})):c("",!0)]),_:1})}const E=m(_,[["render",x]]);export{E as default};
