import{L as hn,M as fr,g as K,C as hr,N as vr,m as ie,D as aa,_ as lt,r as U,O as _i,p as F,P as ee,b as Oe,c as we,Q as ue,R as Ue,S as ct,d as $e,T as Qe,s as ne,U as Je,u as wt,e as _,W as zt,t as D,h as Z,i as v,X as H,Y as xa,Z as Pe,$ as gr,a0 as St,a1 as fe,a2 as Tt,a3 as Ye,a4 as pe,a5 as Te,a6 as mr,H as Re,a7 as At,F as oe,a8 as ge,a9 as ve,aa as en,ab as It,ac as yr,ad as Ve,E as rt,ae as wi,af as Et,ag as vn,f as ot,ah as ae,ai as Si,aj as Ot,ak as $t,al as gn,am as ki,an as xe,ao as Nn,ap as Rt,aq as de,ar as Pi,as as xi,at as Ci,j as se,au as be,av as Yt,aw as Ti,ax as Me,w as Ne,ay as br,az as Ai,aA as Ca,aB as pr,aC as Ii,aD as Ei,aE as Oi,aF as $i,aG as Ri,aH as Vi,aI as Li,aJ as ji,aK as Di,aL as Bi,y as Un,aM as Ta,aN as Fi,aO as Mi,aP as tn,aQ as Ht,G as Aa,J as Ni,aR as _r,o as Ia,l as Ui,n as Ea,x as qt,q as zi,K as Hi}from"./index-wuCDMK4L.js";import{m as Vt,a as mn,b as dt,f as ra,c as yn,e as Lt,g as wr,V as he,h as jt,u as Dt,d as sa,_ as qi}from"./VIcon-hMlfZMah.js";import{V as Gi,m as bn,M as pn,I as Wi}from"./VImg-CN7N8xIF.js";import{m as ze,b as ft,a as Ge,u as ia,c as Xe,d as Ee,g as la,R as oa,e as Sr,f as kr,h as Ki,i as Pr,j as Ji,k as xr,p as Oa,l as In,n as En,o as $a,q as Ra,r as Qi,s as Yi,t as Cr,v as Tr,L as Ar,V as Xi}from"./VContainer-Dxv4ji5P.js";class Ke{constructor(n){let{x:t,y:a,width:r,height:s}=n;this.x=t,this.y=a,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Va(e,n){return{x:{before:Math.max(0,n.left-e.left),after:Math.max(0,e.right-n.right)},y:{before:Math.max(0,n.top-e.top),after:Math.max(0,e.bottom-n.bottom)}}}function Ir(e){return Array.isArray(e)?new Ke({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function ua(e){const n=e.getBoundingClientRect(),t=getComputedStyle(e),a=t.transform;if(a){let r,s,i,l,o;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),s=+r[0],i=+r[5],l=+r[12],o=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),s=+r[0],i=+r[3],l=+r[4],o=+r[5];else return new Ke(n);const u=t.transformOrigin,c=n.x-l-(1-s)*parseFloat(u),d=n.y-o-(1-i)*parseFloat(u.slice(u.indexOf(" ")+1)),f=s?n.width/s:e.offsetWidth+1,m=i?n.height/i:e.offsetHeight+1;return new Ke({x:c,y:d,width:f,height:m})}else return new Ke(n)}function st(e,n,t){if(typeof e.animate>"u")return{finished:Promise.resolve()};let a;try{a=e.animate(n,t)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(r=>{a.onfinish=()=>{r(a)}})),a}const Xt=new WeakMap;function Zi(e,n){Object.keys(n).forEach(t=>{if(hn(t)){const a=fr(t),r=Xt.get(e);if(n[t]==null)r==null||r.forEach(s=>{const[i,l]=s;i===a&&(e.removeEventListener(a,l),r.delete(s))});else if(!r||![...r].some(s=>s[0]===a&&s[1]===n[t])){e.addEventListener(a,n[t]);const s=r||new Set;s.add([a,n[t]]),Xt.has(e)||Xt.set(e,s)}}else n[t]==null?e.removeAttribute(t):e.setAttribute(t,n[t])})}function el(e,n){Object.keys(n).forEach(t=>{if(hn(t)){const a=fr(t),r=Xt.get(e);r==null||r.forEach(s=>{const[i,l]=s;i===a&&(e.removeEventListener(a,l),r.delete(s))})}else e.removeAttribute(t)})}function tl(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",t=arguments.length>2?arguments[2]:void 0;return K()({name:t??hr(vr(e.replace(/__/g,"-"))),props:{tag:{type:String,default:n},...ie()},setup(a,r){let{slots:s}=r;return()=>{var i;return aa(a.tag,{class:[e,a.class],style:a.style},(i=s.default)==null?void 0:i.call(s))}}})}function Er(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const n=e.getRootNode();return n!==document&&n.getRootNode({composed:!0})!==document?null:n}const nn="cubic-bezier(0.4, 0, 0.2, 1)",nl="cubic-bezier(0.0, 0, 0.2, 1)",al="cubic-bezier(0.4, 0, 1, 1)";function La(e,n,t){return Object.keys(e).filter(a=>hn(a)&&a.endsWith(n)).reduce((a,r)=>(a[r.slice(0,-n.length)]=s=>e[r](s,t(s)),a),{})}function Or(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(n?rl(e):ca(e))return e;e=e.parentElement}return document.scrollingElement}function an(e,n){const t=[];if(n&&e&&!n.contains(e))return t;for(;e&&(ca(e)&&t.push(e),e!==n);)e=e.parentElement;return t}function ca(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return n.overflowY==="scroll"||n.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function rl(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return["scroll","auto"].includes(n.overflowY)}function sl(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const il=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>lt(async()=>{const{default:a}=await Promise.resolve().then(()=>ht);return{default:a}},void 0).then(({default:a})=>a(...t)):n=fetch,(...t)=>n(...t)};class da extends Error{constructor(n,t="FunctionsError",a){super(n),this.name=t,this.context=a}}class ll extends da{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ol extends da{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class ul extends da{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var zn;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zn||(zn={}));var cl=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};class dl{constructor(n,{headers:t={},customFetch:a,region:r=zn.Any}={}){this.url=n,this.headers=t,this.region=r,this.fetch=il(a)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var a;return cl(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:i}=t;let l={},{region:o}=t;o||(o=this.region),o&&o!=="any"&&(l["x-region"]=o);let u;i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const c=yield this.fetch(`${this.url}/${n}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:u}).catch(h=>{throw new ll(h)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new ol(c);if(!c.ok)throw new ul(c);let f=((a=c.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield c.json():f==="application/octet-stream"?m=yield c.blob():f==="text/event-stream"?m=c:f==="multipart/form-data"?m=yield c.formData():m=yield c.text(),{data:m,error:null}}catch(r){return{data:null,error:r}}})}}var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fl(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}),t}var ke={},fa={},_n={},Bt={},wn={},Sn={},hl=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ut=hl();const vl=ut.fetch,$r=ut.fetch.bind(ut),Rr=ut.Headers,gl=ut.Request,ml=ut.Response,ht=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rr,Request:gl,Response:ml,default:$r,fetch:vl},Symbol.toStringTag,{value:"Module"})),yl=fl(ht);var ha={};Object.defineProperty(ha,"__esModule",{value:!0});class bl extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}ha.default=bl;var Vr=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sn,"__esModule",{value:!0});const pl=Vr(yl),_l=Vr(ha);let wl=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=pl.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let r=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,l,o;let u=null,c=null,d=null,f=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=b:c=JSON.parse(b))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await s.text();try{u=JSON.parse(y),Array.isArray(u)&&s.status===404&&(c=[],u=null,f=200,m="OK")}catch{s.status===404&&y===""?(f=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new _l.default(u)}return{error:u,data:c,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(r=r.catch(s=>{var i,l,o;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=s==null?void 0:s.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),r.then(n,t)}};Sn.default=wl;var Sl=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});const kl=Sl(Sn);let Pl=class extends kl.default{select(n){let t=!1;const a=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:a,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${n}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:a=t}={}){const r=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:a,referencedTable:r=a}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${n}`),this.url.searchParams.set(i,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:a=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var l;const o=[n?"analyze":null,t?"verbose":null,a?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${o};`,i==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wn.default=Pl;var xl=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});const Cl=xl(wn);let Tl=class extends Cl.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){const a=Array.from(new Set(t)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:a,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${s}fts${i}.${t}`),this}match(n){return Object.entries(n).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(n,t,a){return this.url.searchParams.append(n,`not.${t}.${a}`),this}or(n,{foreignTable:t,referencedTable:a=t}={}){const r=a?`${a}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,a){return this.url.searchParams.append(n,`${t}.${a}`),this}};Bt.default=Tl;var Al=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_n,"__esModule",{value:!0});const gt=Al(Bt);let Il=class{constructor(n,{headers:t={},schema:a,fetch:r}){this.url=n,this.headers=t,this.schema=a,this.fetch=r}select(n,{head:t=!1,count:a}={}){const r=t?"HEAD":"GET";let s=!1;const i=(n??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),a&&(this.headers.Prefer=`count=${a}`),new gt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:a=!0}={}){const r="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(n)){const i=n.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(i.length>0){const l=[...new Set(i)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new gt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:a=!1,count:r,defaultToNull:s=!0}={}){const i="POST",l=[`resolution=${a?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const o=n.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(o.length>0){const u=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new gt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){const a="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new gt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const t="DELETE",a=[];return n&&a.push(`count=${n}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new gt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_n.default=Il;var kn={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.version=void 0;Pn.version="0.0.0-automated";Object.defineProperty(kn,"__esModule",{value:!0});kn.DEFAULT_HEADERS=void 0;const El=Pn;kn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${El.version}`};var Lr=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,"__esModule",{value:!0});const Ol=Lr(_n),$l=Lr(Bt),Rl=kn;let Vl=class jr{constructor(n,{headers:t={},schema:a,fetch:r}={}){this.url=n,this.headers=Object.assign(Object.assign({},Rl.DEFAULT_HEADERS),t),this.schemaName=a,this.fetch=r}from(n){const t=new URL(`${this.url}/${n}`);return new Ol.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new jr(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:a=!1,get:r=!1,count:s}={}){let i;const l=new URL(`${this.url}/rpc/${n}`);let o;a||r?(i=a?"HEAD":"GET",Object.entries(t).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{l.searchParams.append(c,d)})):(i="POST",o=t);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new $l.default({method:i,url:l,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};fa.default=Vl;var Ft=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const Dr=Ft(fa);ke.PostgrestClient=Dr.default;const Br=Ft(_n);ke.PostgrestQueryBuilder=Br.default;const Fr=Ft(Bt);ke.PostgrestFilterBuilder=Fr.default;const Mr=Ft(wn);ke.PostgrestTransformBuilder=Mr.default;const Nr=Ft(Sn);ke.PostgrestBuilder=Nr.default;var Ll=ke.default={PostgrestClient:Dr.default,PostgrestQueryBuilder:Br.default,PostgrestFilterBuilder:Fr.default,PostgrestTransformBuilder:Mr.default,PostgrestBuilder:Nr.default};const{PostgrestClient:jl,PostgrestQueryBuilder:Bd,PostgrestFilterBuilder:Fd,PostgrestTransformBuilder:Md,PostgrestBuilder:Nd}=Ll,Dl="2.10.2",Bl={"X-Client-Info":`realtime-js/${Dl}`},Fl="1.0.0",Ur=1e4,Ml=1e3;var it;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(it||(it={}));var _e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_e||(_e={}));var Ie;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ie||(Ie={}));var Hn;(function(e){e.websocket="websocket"})(Hn||(Hn={}));var We;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(We||(We={}));class Nl{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),a=new TextDecoder;return this._decodeBroadcast(n,t,a)}_decodeBroadcast(n,t,a){const r=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const l=a.decode(n.slice(i,i+r));i=i+r;const o=a.decode(n.slice(i,i+s));i=i+s;const u=JSON.parse(a.decode(n.slice(i,n.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class zr{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const ja=(e,n,t={})=>{var a;const r=(a=t.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(n).reduce((s,i)=>(s[i]=Ul(i,e,n,r),s),{})},Ul=(e,n,t,a)=>{const r=n.find(l=>l.name===e),s=r==null?void 0:r.type,i=t[e];return s&&!a.includes(s)?Hr(s,i):qn(i)},Hr=(e,n)=>{if(e.charAt(0)==="_"){const t=e.slice(1,e.length);return Gl(n,t)}switch(e){case re.bool:return zl(n);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Hl(n);case re.json:case re.jsonb:return ql(n);case re.timestamp:return Wl(n);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return qn(n);default:return qn(n)}},qn=e=>e,zl=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hl=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},ql=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},Gl=(e,n)=>{if(typeof e!="string")return e;const t=e.length-1,a=e[t];if(e[0]==="{"&&a==="}"){let s;const i=e.slice(1,t);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>Hr(n,l))}return e},Wl=e=>typeof e=="string"?e.replace(" ","T"):e,qr=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class On{constructor(n,t,a={},r=Ur){this.channel=n,this.event=t,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var a;return this._hasReceived(n)&&t((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(a=>a.status===n).forEach(a=>a.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Da;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Da||(Da={}));class pt{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pt.syncState(this.state,r,s,i),this.pendingDiffs.forEach(o=>{this.state=pt.syncDiff(this.state,o,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},r=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=pt.syncDiff(this.state,r,s,i),l())}),this.onJoin((r,s,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:i})}),this.onLeave((r,s,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,a,r){const s=this.cloneDeep(n),i=this.transformState(t),l={},o={};return this.map(s,(u,c)=>{i[u]||(o[u]=c)}),this.map(i,(u,c)=>{const d=s[u];if(d){const f=c.map(g=>g.presence_ref),m=d.map(g=>g.presence_ref),h=c.filter(g=>m.indexOf(g.presence_ref)<0),y=d.filter(g=>f.indexOf(g.presence_ref)<0);h.length>0&&(l[u]=h),y.length>0&&(o[u]=y)}else l[u]=c}),this.syncDiff(s,{joins:l,leaves:o},a,r)}static syncDiff(n,t,a,r){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(s,(l,o)=>{var u;const c=(u=n[l])!==null&&u!==void 0?u:[];if(n[l]=this.cloneDeep(o),c.length>0){const d=n[l].map(m=>m.presence_ref),f=c.filter(m=>d.indexOf(m.presence_ref)<0);n[l].unshift(...f)}a(l,c,o)}),this.map(i,(l,o)=>{let u=n[l];if(!u)return;const c=o.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),n[l]=u,r(l,u,o),u.length===0&&delete n[l]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(a=>t(a,n[a]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,a)=>{const r=n[a];return"metas"in r?t[a]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[a]=r,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ba;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ba||(Ba={}));var Fa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(Fa||(Fa={}));var Ma;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ma||(Ma={}));class va{constructor(n,t={config:{}},a){this.topic=n,this.params=t,this.socket=a,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new On(this,Ie.join,this.params,this.timeout),this.rejoinTimer=new zr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ie.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new pt(this),this.broadcastEndpointURL=qr(this.socket.endPoint)+"/api/broadcast"}subscribe(n,t=this.timeout){var a,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:l}}=this.params;this._onError(c=>n&&n("CHANNEL_ERROR",c)),this._onClose(()=>n&&n("CLOSED"));const o={},u={broadcast:s,presence:i,postgres_changes:(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(c=>c.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){n&&n("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,h=[];for(let y=0;y<m;y++){const g=f[y],{filter:{event:b,schema:p,table:C,filter:T}}=g,S=c&&c[y];if(S&&S.event===b&&S.schema===p&&S.table===C&&S.filter===T)h.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,n&&n("SUBSCRIBED");return}}).receive("error",c=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,a){return this._on(n,t,a)}async send(n,t={}){var a,r;if(!this._canPush()&&n.type==="broadcast"){const{event:s,payload:i}=n,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=o.body)===null||r===void 0?void 0:r.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,o;const u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((o=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=_e.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ie.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const r=new On(this,Ie.leave,{},n);r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(n,t,a){const r=new AbortController,s=setTimeout(()=>r.abort(),a),i=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),i}_push(n,t,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new On(this,n,t,a);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(n,t,a){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,a){var r,s;const i=n.toLocaleLowerCase(),{close:l,error:o,leave:u,join:c}=Ie;if(a&&[l,o,u,c].indexOf(i)>=0&&a!==this._joinRef())return;let f=this._onMessage(i,t,a);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var h,y,g;return((h=m.filter)===null||h===void 0?void 0:h.event)==="*"||((g=(y=m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(m=>m.callback(f,a)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var h,y,g,b,p,C;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const T=m.id,S=(h=m.filter)===null||h===void 0?void 0:h.event;return T&&((y=t.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const T=(p=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return T==="*"||T===((C=t==null?void 0:t.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof f=="object"&&"ids"in f){const h=f.data,{schema:y,table:g,commit_timestamp:b,type:p,errors:C}=h;f=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:b,eventType:p,new:{},old:{},errors:C}),this._getPayloadRecords(h))}m.callback(f,a)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,a){const r=n.toLocaleLowerCase(),s={type:r,filter:t,callback:a};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(n,t){const a=n.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&va.isEqual(r.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const a in n)if(n[a]!==t[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ie.close,{},n)}_onError(n){this._on(Ie.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=ja(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=ja(n.columns,n.old_record)),t}}const Kl=()=>{},Jl=typeof WebSocket<"u";class Ql{constructor(n,t){var a;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Bl,this.params={},this.timeout=Ur,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Kl,this.conn=null,this.sendBuffer=[],this.serializer=new Nl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>lt(async()=>{const{default:o}=await Promise.resolve().then(()=>ht);return{default:o}},void 0).then(({default:o})=>o(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${n}/${Hn.websocket}`,this.httpEndpoint=qr(n),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=(a=t==null?void 0:t.params)===null||a===void 0?void 0:a.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,i)=>i(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zr(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Jl){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Yl(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),lt(async()=>{const{default:n}=await import("./browser-erC_CQBr.js").then(t=>t.b);return{default:n}},[]).then(({default:n})=>{this.conn=new n(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n}log(n,t,a){this.logger(n,t,a)}connectionState(){switch(this.conn&&this.conn.readyState){case it.connecting:return We.Connecting;case it.open:return We.Open;case it.closing:return We.Closing;default:return We.Closed}}isConnected(){return this.connectionState()===We.Open}channel(n,t={config:{}}){const a=new va(`realtime:${n}`,t,this);return this.channels.push(a),a}push(n){const{topic:t,event:a,payload:r,ref:s}=n,i=()=>{this.encode(n,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${t} ${a} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(n){this.accessToken=n,this.channels.forEach(t=>{n&&t.updateJoinPayload({access_token:n}),t.joinedOnce&&t._isJoined()&&t._push(Ie.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(a=>a.topic===n&&(a._isJoined()||a._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fl}))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:a,event:r,payload:s,ref:i}=t;(i&&i===this.pendingHeartbeatRef||r===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${a} ${r} ${i&&"("+i+")"||""}`,s),this.channels.filter(l=>l._isMember(a)).forEach(l=>l._trigger(r,s,i)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ie.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;const a=n.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${n}${a}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Ml,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Yl{constructor(n,t,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=it.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=a.close}}class ga extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Xl extends ga{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gn extends ga{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}var Zl=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const Gr=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>lt(async()=>{const{default:a}=await Promise.resolve().then(()=>ht);return{default:a}},void 0).then(({default:a})=>a(...t)):n=fetch,(...t)=>n(...t)},eo=()=>Zl(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lt(()=>Promise.resolve().then(()=>ht),void 0)).Response:Response}),Wn=e=>{if(Array.isArray(e))return e.map(t=>Wn(t));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([t,a])=>{const r=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));n[r]=Wn(a)}),n};var Ze=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const $n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),to=(e,n,t)=>Ze(void 0,void 0,void 0,function*(){const a=yield eo();e instanceof a&&!(t!=null&&t.noResolveJson)?e.json().then(r=>{n(new Xl($n(r),e.status||500))}).catch(r=>{n(new Gn($n(r),r))}):n(new Gn($n(e),e))}),no=(e,n,t,a)=>{const r={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),a&&(r.body=JSON.stringify(a)),Object.assign(Object.assign({},r),t))};function Mt(e,n,t,a,r,s){return Ze(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(t,no(n,a,r,s)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>i(o)).catch(o=>to(o,l,a))})})}function rn(e,n,t,a){return Ze(this,void 0,void 0,function*(){return Mt(e,"GET",n,t,a)})}function Be(e,n,t,a,r){return Ze(this,void 0,void 0,function*(){return Mt(e,"POST",n,a,r,t)})}function ao(e,n,t,a,r){return Ze(this,void 0,void 0,function*(){return Mt(e,"PUT",n,a,r,t)})}function ro(e,n,t,a){return Ze(this,void 0,void 0,function*(){return Mt(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),a)})}function Wr(e,n,t,a,r){return Ze(this,void 0,void 0,function*(){return Mt(e,"DELETE",n,a,r,t)})}var ye=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const so={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Na={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class io{constructor(n,t={},a,r){this.url=n,this.headers=t,this.bucketId=a,this.fetch=Gr(r)}uploadOrUpdate(n,t,a,r){return ye(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},Na),r);let l=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(i.upsert)});const o=i.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",a),o&&s.append("metadata",this.encodeMetadata(o))):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",i.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=a,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:n,body:s,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}upload(n,t,a){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,a)})}uploadToSignedUrl(n,t,a,r){return ye(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(n),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let o;const u=Object.assign({upsert:Na.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:o,headers:c}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(n,t){return ye(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n);const r=Object.assign({},this.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const s=yield Be(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:r}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new ga("No token returned by API");return{data:{signedUrl:i.toString(),path:n,token:l},error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}update(n,t,a){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,a)})}move(n,t,a){return ye(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}copy(n,t,a){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createSignedUrl(n,t,a){return ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),s=yield Be(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createSignedUrls(n,t,a){return ye(this,void 0,void 0,function*(){try{const r=yield Be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}download(n,t){return ye(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"";try{const l=this._getFinalPath(n);return{data:yield(yield rn(this.fetch,`${this.url}/${r}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}})}info(n){return ye(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const a=yield rn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Wn(a),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}exists(n){return ye(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield ro(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(ce(a)&&a instanceof Gn){const r=a.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:a}}throw a}})}getPublicUrl(n,t){const a=this._getFinalPath(n),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(n){return ye(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}list(n,t,a){return ye(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},so),t),{prefix:n||""});return{data:yield Be(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const lo="2.7.0",oo={"X-Client-Info":`storage-js/${lo}`};var tt=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};class uo{constructor(n,t={},a){this.url=n,this.headers=Object.assign(Object.assign({},oo),t),this.fetch=Gr(a)}listBuckets(){return tt(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}getBucket(n){return tt(this,void 0,void 0,function*(){try{return{data:yield rn(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return tt(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}updateBucket(n,t){return tt(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}emptyBucket(n){return tt(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}deleteBucket(n){return tt(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}}class co extends uo{constructor(n,t={},a){super(n,t,a)}from(n){return new io(this.url,this.headers,n,this.fetch)}}const fo="2.45.4";let bt="";typeof Deno<"u"?bt="deno":typeof document<"u"?bt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bt="react-native":bt="node";const ho={"X-Client-Info":`supabase-js-${bt}/${fo}`},vo={headers:ho},go={schema:"public"},mo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yo={};var bo=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const po=e=>{let n;return e?n=e:typeof fetch>"u"?n=$r:n=fetch,(...t)=>n(...t)},_o=()=>typeof Headers>"u"?Rr:Headers,wo=(e,n,t)=>{const a=po(t),r=_o();return(s,i)=>bo(void 0,void 0,void 0,function*(){var l;const o=(l=yield n())!==null&&l!==void 0?l:e;let u=new r(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(s,Object.assign(Object.assign({},i),{headers:u}))})};var So=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};function ko(e){return e.replace(/\/$/,"")}function Po(e,n){const{db:t,auth:a,realtime:r,global:s}=e,{db:i,auth:l,realtime:o,global:u}=n,c={db:Object.assign(Object.assign({},i),t),auth:Object.assign(Object.assign({},l),a),realtime:Object.assign(Object.assign({},o),r),global:Object.assign(Object.assign({},u),s),accessToken:()=>So(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Kr="2.65.0",xo="http://localhost:9999",Co="supabase.auth.token",To={"X-Client-Info":`gotrue-js/${Kr}`},Ua=10,Kn="X-Supabase-Api-Version",Jr={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ao(e){return Math.round(Date.now()/1e3)+e}function Io(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const Ae=()=>typeof document<"u",He={tested:!1,writable:!1},_t=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(He.tested)return He.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),He.tested=!0,He.writable=!0}catch{He.tested=!0,He.writable=!1}return He.writable};function Rn(e){const n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,s)=>{n[s]=r})}catch{}return t.searchParams.forEach((a,r)=>{n[r]=a}),n}const Qr=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>lt(async()=>{const{default:a}=await Promise.resolve().then(()=>ht);return{default:a}},void 0).then(({default:a})=>a(...t)):n=fetch,(...t)=>n(...t)},Eo=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yr=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},Gt=async(e,n)=>{const t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Wt=async(e,n)=>{await e.removeItem(n)};function Oo(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",a,r,s,i,l,o,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)i=n.indexOf(e.charAt(c++)),l=n.indexOf(e.charAt(c++)),o=n.indexOf(e.charAt(c++)),u=n.indexOf(e.charAt(c++)),a=i<<2|l>>4,r=(l&15)<<4|o>>2,s=(o&3)<<6|u,t=t+String.fromCharCode(a),o!=64&&r!=0&&(t=t+String.fromCharCode(r)),u!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class xn{constructor(){this.promise=new xn.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}xn.promiseConstructor=Promise;function za(e){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const a=t[1];return JSON.parse(Oo(a))}async function $o(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function Ro(e,n){return new Promise((a,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!n(s,null,i)){a(i);return}}catch(i){if(!n(s,i)){r(i);return}}})()})}function Vo(e){return("0"+e.toString(16)).substr(-2)}function Lo(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=t.length;let r="";for(let s=0;s<56;s++)r+=t.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(n),Array.from(n,Vo).join("")}async function jo(e){const t=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(a);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}function Do(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bo(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await jo(e);return Do(t)}async function nt(e,n,t=!1){const a=Lo();let r=a;t&&(r+="/PASSWORD_RECOVERY"),await Yr(e,`${n}-code-verifier`,r);const s=await Bo(a);return[s,a===s?"plain":"s256"]}const Fo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mo(e){const n=e.headers.get(Kn);if(!n||!n.match(Fo))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}class ma extends Error{constructor(n,t,a){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=a}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class No extends ma{constructor(n,t,a){super(n,t,a),this.name="AuthApiError",this.status=t,this.code=a}}function Uo(e){return W(e)&&e.name==="AuthApiError"}class Xr extends ma{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class et extends ma{constructor(n,t,a,r){super(n,a,r),this.name=t,this.status=a}}class je extends et{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zo(e){return W(e)&&e.name==="AuthSessionMissingError"}class Vn extends et{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kt extends et{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Jt extends et{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ha extends et{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jn extends et{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function Ln(e){return W(e)&&e.name==="AuthRetryableFetchError"}class qa extends et{constructor(n,t,a){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=a}}var Ho=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t};const qe=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qo=[502,503,504];async function Ga(e){var n;if(!Eo(e))throw new Jn(qe(e),0);if(qo.includes(e.status))throw new Jn(qe(e),e.status);let t;try{t=await e.json()}catch(s){throw new Xr(qe(s),s)}let a;const r=Mo(e);if(r&&r.getTime()>=Jr["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?a=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(a=t.error_code),a){if(a==="weak_password")throw new qa(qe(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(a==="session_not_found")throw new je}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new qa(qe(t),e.status,t.weak_password.reasons);throw new No(qe(t),e.status||500,a)}const Go=(e,n,t,a)=>{const r={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),t))};async function Y(e,n,t,a){var r;const s=Object.assign({},a==null?void 0:a.headers);s[Kn]||(s[Kn]=Jr["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const i=(r=a==null?void 0:a.query)!==null&&r!==void 0?r:{};a!=null&&a.redirectTo&&(i.redirect_to=a.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",o=await Wo(e,n,t+l,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function Wo(e,n,t,a,r,s){const i=Go(n,a,r,s);let l;try{l=await e(t,Object.assign({},i))}catch(o){throw console.error(o),new Jn(qe(o),0)}if(l.ok||await Ga(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await Ga(o)}}function De(e){var n;let t=null;Yo(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Ao(e.expires_in)));const a=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:a},error:null}}function Wa(e){const n=De(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,a)=>t&&typeof a=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Fe(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Ko(e){return{data:e,error:null}}function Jo(e){const{action_link:n,email_otp:t,hashed_token:a,redirect_to:r,verification_type:s}=e,i=Ho(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:n,email_otp:t,hashed_token:a,redirect_to:r,verification_type:s},o=Object.assign({},i);return{data:{properties:l,user:o},error:null}}function Qo(e){return e}function Yo(e){return e.access_token&&e.refresh_token&&e.expires_in}var Xo=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t};class Zo{constructor({url:n="",headers:t={},fetch:a}){this.url=n,this.headers=t,this.fetch=Qr(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,t="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(W(a))return{data:null,error:a};throw a}}async inviteUserByEmail(n,t={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fe})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async generateLink(n){try{const{options:t}=n,a=Xo(n,["options"]),r=Object.assign(Object.assign({},a),t);return"newEmail"in a&&(r.new_email=a==null?void 0:a.newEmail,delete r.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Jo,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(W(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Fe})}catch(t){if(W(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,a,r,s,i,l,o;try{const u={nextPage:null,lastPage:0,total:0},c=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=n==null?void 0:n.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(s=(r=n==null?void 0:n.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:Qo});if(c.error)throw c.error;const d=await c.json(),f=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(o=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(h=>{const y=parseInt(h.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(h.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(n){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Fe})}catch(t){if(W(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Fe})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async deleteUser(n,t=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fe})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async _listFactors(n){try{const{data:t,error:a}=await Y(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:a}}catch(t){if(W(t))return{data:null,error:t};throw t}}async _deleteFactor(n){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}}const eu={getItem:e=>_t()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{_t()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{_t()&&globalThis.localStorage.removeItem(e)}};function Ka(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function tu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const at={debug:!!(globalThis&&_t()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zr extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class nu extends Zr{}async function au(e,n,t){at.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const a=new globalThis.AbortController;return n>0&&setTimeout(()=>{a.abort(),at.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){at.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await t()}finally{at.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(n===0)throw at.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(at.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}tu();const ru={url:xo,storageKey:Co,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:To,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},mt=30*1e3,Ja=3;async function Qa(e,n,t){return await t()}class kt{constructor(n){var t,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kt.nextInstanceID,kt.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},ru),n);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Zo({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Qr(r.fetch),this.lock=r.lock||Qa,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ae()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=au:this.lock=Qa,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:_t()?this.storage=eu:(this.memoryStorage={},this.storage=Ka(this.memoryStorage)):(this.memoryStorage={},this.storage=Ka(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kr}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const n=Ae()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:a}=await this._getSessionFromURL(n);if(a)return this._debug("#_initialize()","error detecting session from URL",a),(a==null?void 0:a.message)==="Identity is already linked"||(a==null?void 0:a.message)==="Identity is already linked to another user"?{error:a}:(await this._removeSession(),{error:a});const{session:r,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",s),await this._saveSession(r),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?{error:n}:{error:new Xr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var t,a,r;try{const s=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(t=n==null?void 0:n.options)===null||t===void 0?void 0:t.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.captchaToken}},xform:De}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const o=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(n){var t,a,r;try{let s;if("email"in n){const{email:c,password:d,options:f}=n;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await nt(this.storage,this.storageKey)),s=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:h},xform:De})}else if("phone"in n){const{phone:c,password:d,options:f}=n;s=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:De})}else throw new Kt("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const o=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(n){try{let t;if("email"in n){const{email:s,password:i,options:l}=n;t=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wa})}else if("phone"in n){const{phone:s,password:i,options:l}=n;t=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wa})}else throw new Kt("You must provide either an email or phone number and a password");const{data:a,error:r}=t;return r?{data:{user:null,session:null},error:r}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Vn}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(n){var t,a,r,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(t=n.options)===null||t===void 0?void 0:t.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=n.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const t=await Gt(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(t??"").split("/");try{const{data:s,error:i}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:De});if(await Wt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Vn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:i})}catch(s){if(W(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(n){try{const{options:t,provider:a,token:r,access_token:s,nonce:i}=n,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:De}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Vn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(n){var t,a,r,s,i;try{if("email"in n){const{email:l,options:o}=n;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await nt(this.storage,this.storageKey));const{error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=o==null?void 0:o.data)!==null&&t!==void 0?t:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in n){const{phone:l,options:o}=n,{data:u,error:c}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(i=o==null?void 0:o.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Kt("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(n){var t,a;try{let r,s;"options"in n&&(r=(t=n.options)===null||t===void 0?void 0:t.redirectTo,s=(a=n.options)===null||a===void 0?void 0:a.captchaToken);const{data:i,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:De});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,u=i.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(n){var t,a,r;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await nt(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(t=n.options)===null||t===void 0?void 0:t.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=n==null?void 0:n.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Ko})}catch(s){if(W(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:t},error:a}=n;if(a)throw a;if(!t)throw new je;const{error:r}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const t=`${this.url}/resend`;if("email"in n){const{email:a,type:r,options:s}=n,{error:i}=await Y(this.fetch,"POST",t,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in n){const{phone:a,type:r,options:s}=n,{data:i,error:l}=await Y(this.fetch,"POST",t,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Kt("You must provide either an email or phone number and a type")}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(n,t){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=t();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await n(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const t=await Gt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?n=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const a=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.storage.isServer){let i=this.suppressGetSessionWarning;n=new Proxy(n,{get:(o,u,c)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,c))})}return{data:{session:n},error:null}}const{session:r,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Fe}):await this._useSession(async t=>{var a,r,s;const{data:i,error:l}=t;if(l)throw l;return!(!((a=i.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new je}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:Fe})})}catch(t){if(W(t))return zo(t)&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:t};throw t}}async updateUser(n,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,t))}async _updateUser(n,t={}){try{return await this._useSession(async a=>{const{data:r,error:s}=a;if(s)throw s;if(!r.session)throw new je;const i=r.session;let l=null,o=null;this.flowType==="pkce"&&n.email!=null&&([l,o]=await nt(this.storage,this.storageKey));const{data:u,error:c}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:o}),jwt:i.access_token,xform:Fe});if(c)throw c;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}_decodeJWT(n){return za(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new je;const t=Date.now()/1e3;let a=t,r=!0,s=null;const i=za(n.access_token);if(i.exp&&(a=i.exp,r=a<=t),r){const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(n.access_token);if(o)throw o;s={access_token:n.access_token,refresh_token:n.refresh_token,user:l.user,token_type:"bearer",expires_in:a-t,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(W(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async t=>{var a;if(!n){const{data:i,error:l}=t;if(l)throw l;n=(a=i.session)!==null&&a!==void 0?a:void 0}if(!(n!=null&&n.refresh_token))throw new je;const{session:r,error:s}=await this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(n){try{if(!Ae())throw new Jt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Jt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Ha("Not a valid PKCE flow url.");const t=Rn(window.location.href);if(n){if(!t.code)throw new Ha("No code detected.");const{data:p,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:p.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Jt(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:a,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:l,expires_at:o,token_type:u}=t;if(!s||!l||!i||!u)throw new Jt("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let f=c+d;o&&(f=parseInt(o));const m=f-c;m*1e3<=mt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const h=f-d;c-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,f,c):c-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,f,c);const{data:y,error:g}=await this._getUser(s);if(g)throw g;const b={provider_token:a,provider_refresh_token:r,access_token:s,expires_in:d,expires_at:f,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(t){if(W(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const n=Rn(window.location.href);return!!(Ae()&&(n.access_token||n.error_description))}async _isPKCEFlow(){const n=Rn(window.location.href),t=await Gt(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&t)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async t=>{var a;const{data:r,error:s}=t;if(s)return{error:s};const i=(a=r.session)===null||a===void 0?void 0:a.access_token;if(i){const{error:l}=await this.admin.signOut(i,n);if(l&&!(Uo(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return n!=="others"&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(n){const t=Io(),a={id:t,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:a}}}async _emitInitialSession(n){return await this._useSession(async t=>{var a,r;try{const{data:{session:s},error:i}=t;if(i)throw i;await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,t={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await nt(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(W(s))return{data:null,error:s};throw s}}async getUserIdentities(){var n;try{const{data:t,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(n=t.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}async linkIdentity(n){var t;try{const{data:a,error:r}=await this._useSession(async s=>{var i,l,o,u,c;const{data:d,error:f}=s;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Ae()&&!(!((t=n.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:n.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(W(a))return{data:{provider:n.provider,url:null},error:a};throw a}}async unlinkIdentity(n){try{return await this._useSession(async t=>{var a,r;const{data:s,error:i}=t;if(i)throw i;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(r=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _refreshAccessToken(n){const t=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await Ro(async r=>(r>0&&await $o(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:De})),(r,s)=>{const i=200*Math.pow(2,r);return s&&Ln(s)&&Date.now()+i-a<mt})}catch(a){if(this._debug(t,"error",a),W(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,t){const a=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",t,"url",a),Ae()&&!t.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}}async _recoverAndRefresh(){var n;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const a=await Gt(this.storage,this.storageKey);if(this._debug(t,"session from storage",a),!this._isValidSession(a)){this._debug(t,"session is not valid"),a!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),s=((n=a.expires_at)!==null&&n!==void 0?n:1/0)<r+Ua;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Ua}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Ln(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(t,"error",a),console.error(a);return}finally{this._debug(t,"end")}}async _callRefreshToken(n){var t,a;if(!n)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new xn;const{data:s,error:i}=await this._refreshAccessToken(n);if(i)throw i;if(!s.session)throw new je;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(r,"error",s),W(s)){const i={session:null,error:s};return Ln(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(n,t,a=!0){const r=`#_notifyAllSubscribers(${n})`;this._debug(r,"begin",t,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(n,t)}catch(o){s.push(o)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Yr(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await Wt(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),mt);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async t=>{const{data:{session:a}}=t;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-n)/mt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${mt}ms, refresh threshold is ${Ja} ticks`),r<=Ja&&await this._callRefreshToken(a.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Zr)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const t=`#_onVisibilityChanged(${n})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,t,a){const r=[`provider=${encodeURIComponent(t)}`];if(a!=null&&a.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,i]=await nt(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(l.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);r.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${r.join("&")}`}async _unenroll(n){try{return await this._useSession(async t=>{var a;const{data:r,error:s}=t;return s?{data:null,error:s}:await Y(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _enroll(n){try{return await this._useSession(async t=>{var a,r;const{data:s,error:i}=t;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:o,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(n.factorType==="phone"&&delete o.totp,n.factorType==="totp"&&(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(t){if(W(t))return{data:null,error:t};throw t}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:r,error:s}=t;return s?{data:null,error:s}:await Y(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(W(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(n){const{data:t,error:a}=await this._challenge({factorId:n.factorId});return a?{data:null,error:a}:await this._verify({factorId:n.factorId,challengeId:t.id,code:n.code})}async _listFactors(){const{data:{user:n},error:t}=await this.getUser();if(t)return{data:null,error:t};const a=(n==null?void 0:n.factors)||[],r=a.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=a.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:a,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var t,a;const{data:{session:r},error:s}=n;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let l=null;i.aal&&(l=i.aal);let o=l;((a=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:c},error:null}}))}}kt.nextInstanceID=0;const su=kt;class iu extends su{constructor(n){super(n)}}var lu=function(e,n,t,a){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};class ou{constructor(n,t,a){var r,s,i;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=ko(n);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const o=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:go,realtime:yo,auth:Object.assign(Object.assign({},mo),{storageKey:o}),global:vo},c=Po(a??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=c.auth)!==null&&i!==void 0?i:{},this.headers,c.global.fetch),this.fetch=wo(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new jl(`${l}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new dl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new co(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},a={}){return this.rest.rpc(n,t,a)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return lu(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:r,storageKey:s,flowType:i,lock:l,debug:o},u,c){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iu({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:r,flowType:i,lock:l,debug:o,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(n){return new Ql(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,a)=>{this._handleTokenChanged(t,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(n,t,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.realtime.setAuth(a??null),this.changedAccessToken=a):n==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uu=(e,n,t)=>new ou(e,n,t),cu=uu("https://xowegfmkiindptpnsscg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhvd2VnZm1raWluZHB0cG5zc2NnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg0OTE0MzksImV4cCI6MjA0NDA2NzQzOX0._rrgcRNIZYDMqdQaqEWgrHNvFp4jGkk-dFF4ohxroq0");function du(){const e=U([]);_i(()=>e.value=[]);function n(t,a){e.value[a]=t}return{refs:e,updateRef:n}}const fu=F({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:ee,default:"$first"},prevIcon:{type:ee,default:"$prev"},nextIcon:{type:ee,default:"$next"},lastIcon:{type:ee,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Vt(),...ie(),...ze(),...mn(),...dt(),...ra(),...Oe({tag:"nav"}),...we(),...ft({variant:"text"})},"VPagination"),Ya=K()({name:"VPagination",props:fu(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,n){let{slots:t,emit:a}=n;const r=ue(e,"modelValue"),{t:s,n:i}=Ue(),{isRtl:l}=ct(),{themeClasses:o}=$e(e),{width:u}=Qe(),c=ne(-1);Je(void 0,{scoped:!0});const{resizeRef:d}=wt(w=>{if(!w.length)return;const{target:k,contentRect:j}=w[0],$=k.querySelector(".v-pagination__list > *");if(!$)return;const V=j.width,E=$.offsetWidth+parseFloat(getComputedStyle($).marginRight)*2;c.value=y(V,E)}),f=_(()=>parseInt(e.length,10)),m=_(()=>parseInt(e.start,10)),h=_(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:y(u.value,58));function y(w,k){const j=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((w-k*j)/k).toFixed(2)))}const g=_(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(h.value<=0)return[];if(h.value===1)return[r.value];if(f.value<=h.value)return zt(f.value,m.value);const w=h.value%2===0,k=w?h.value/2:Math.floor(h.value/2),j=w?k:k+1,$=f.value-k;if(j-r.value>=0)return[...zt(Math.max(1,h.value-1),m.value),e.ellipsis,f.value];if(r.value-$>=(w?1:0)){const V=h.value-1,E=f.value-V+m.value;return[m.value,e.ellipsis,...zt(V,E)]}else{const V=Math.max(1,h.value-3),E=V===1?r.value:r.value-Math.ceil(V/2)+m.value;return[m.value,e.ellipsis,...zt(V,E),e.ellipsis,f.value]}});function b(w,k,j){w.preventDefault(),r.value=k,j&&a(j,k)}const{refs:p,updateRef:C}=du();Je({VPaginationBtn:{color:D(e,"color"),border:D(e,"border"),density:D(e,"density"),size:D(e,"size"),variant:D(e,"variant"),rounded:D(e,"rounded"),elevation:D(e,"elevation")}});const T=_(()=>g.value.map((w,k)=>{const j=$=>C($,k);if(typeof w=="string")return{isActive:!1,key:`ellipsis-${k}`,page:w,props:{ref:j,ellipsis:!0,icon:!0,disabled:!0}};{const $=w===r.value;return{isActive:$,key:w,page:i(w),props:{ref:j,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:$?e.activeColor:e.color,"aria-current":$,"aria-label":s($?e.currentPageAriaLabel:e.pageAriaLabel,w),onClick:V=>b(V,w)}}}})),S=_(()=>{const w=!!e.disabled||r.value<=m.value,k=!!e.disabled||r.value>=m.value+f.value-1;return{first:e.showFirstLastPage?{icon:l.value?e.lastIcon:e.firstIcon,onClick:j=>b(j,m.value,"first"),disabled:w,"aria-label":s(e.firstAriaLabel),"aria-disabled":w}:void 0,prev:{icon:l.value?e.nextIcon:e.prevIcon,onClick:j=>b(j,r.value-1,"prev"),disabled:w,"aria-label":s(e.previousAriaLabel),"aria-disabled":w},next:{icon:l.value?e.prevIcon:e.nextIcon,onClick:j=>b(j,r.value+1,"next"),disabled:k,"aria-label":s(e.nextAriaLabel),"aria-disabled":k},last:e.showFirstLastPage?{icon:l.value?e.firstIcon:e.lastIcon,onClick:j=>b(j,m.value+f.value-1,"last"),disabled:k,"aria-label":s(e.lastAriaLabel),"aria-disabled":k}:void 0}});function O(){var k;const w=r.value-m.value;(k=p.value[w])==null||k.$el.focus()}function I(w){w.key===xa.left&&!e.disabled&&r.value>+e.start?(r.value=r.value-1,Pe(O)):w.key===xa.right&&!e.disabled&&r.value<m.value+f.value-1&&(r.value=r.value+1,Pe(O))}return Z(()=>v(e.tag,{ref:d,class:["v-pagination",o.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:I,"data-test":"v-pagination-root"},{default:()=>[v("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&v("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(S.value.first):v(Ge,H({_as:"VPaginationBtn"},S.value.first),null)]),v("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(S.value.prev):v(Ge,H({_as:"VPaginationBtn"},S.value.prev),null)]),T.value.map((w,k)=>v("li",{key:w.key,class:["v-pagination__item",{"v-pagination__item--is-active":w.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(w):v(Ge,H({_as:"VPaginationBtn"},w.props),{default:()=>[w.page]})])),v("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(S.value.next):v(Ge,H({_as:"VPaginationBtn"},S.value.next),null)]),e.showFirstLastPage&&v("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(S.value.last):v(Ge,H({_as:"VPaginationBtn"},S.value.last),null)])])]})),{}}}),hu=F({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Se(e,n,t){return K()({name:e,props:hu({mode:t,origin:n}),setup(a,r){let{slots:s}=r;const i={onBeforeEnter(l){a.origin&&(l.style.transformOrigin=a.origin)},onLeave(l){if(a.leaveAbsolute){const{offsetTop:o,offsetLeft:u,offsetWidth:c,offsetHeight:d}=l;l._transitionInitialStyles={position:l.style.position,top:l.style.top,left:l.style.left,width:l.style.width,height:l.style.height},l.style.position="absolute",l.style.top=`${o}px`,l.style.left=`${u}px`,l.style.width=`${c}px`,l.style.height=`${d}px`}a.hideOnLeave&&l.style.setProperty("display","none","important")},onAfterLeave(l){if(a.leaveAbsolute&&(l!=null&&l._transitionInitialStyles)){const{position:o,top:u,left:c,width:d,height:f}=l._transitionInitialStyles;delete l._transitionInitialStyles,l.style.position=o||"",l.style.top=u||"",l.style.left=c||"",l.style.width=d||"",l.style.height=f||""}}};return()=>{const l=a.group?gr:St;return aa(l,{name:a.disabled?"":e,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:i},s.default)}}})}function es(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return K()({name:e,props:{mode:{type:String,default:t},disabled:Boolean,group:Boolean},setup(a,r){let{slots:s}=r;const i=a.group?gr:St;return()=>aa(i,{name:a.disabled?"":e,css:!a.disabled,...a.disabled?{}:n},s.default)}})}function ts(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=vr(`offset-${t}`);return{onBeforeEnter(i){i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,overflow:i.style.overflow,[t]:i.style[t]}},onEnter(i){const l=i._initialStyle;i.style.setProperty("transition","none","important"),i.style.overflow="hidden";const o=`${i[a]}px`;i.style[t]="0",i.offsetHeight,i.style.transition=l.transition,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[t]=o})},onAfterEnter:s,onEnterCancelled:s,onLeave(i){i._initialStyle={transition:"",overflow:i.style.overflow,[t]:i.style[t]},i.style.overflow="hidden",i.style[t]=`${i[a]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[t]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(i){e&&i._parent&&i._parent.classList.remove(e),s(i)}function s(i){const l=i._initialStyle[t];i.style.overflow=i._initialStyle.overflow,l!=null&&(i.style[t]=l),delete i._initialStyle}}const vu=F({target:[Object,Array]},"v-dialog-transition"),ns=K()({name:"VDialogTransition",props:vu(),setup(e,n){let{slots:t}=n;const a={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){var f;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),r.style.visibility="";const{x:i,y:l,sx:o,sy:u,speed:c}=Za(e.target,r),d=st(r,[{transform:`translate(${i}px, ${l}px) scale(${o}, ${u})`,opacity:0},{}],{duration:225*c,easing:nl});(f=Xa(r))==null||f.forEach(m=>{st(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:nn})}),d.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){var f;await new Promise(m=>requestAnimationFrame(m));const{x:i,y:l,sx:o,sy:u,speed:c}=Za(e.target,r);st(r,[{},{transform:`translate(${i}px, ${l}px) scale(${o}, ${u})`,opacity:0}],{duration:125*c,easing:al}).finished.then(()=>s()),(f=Xa(r))==null||f.forEach(m=>{st(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:nn})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?v(St,H({name:"dialog-transition"},a,{css:!1}),t):v(St,{name:"dialog-transition"},t)}});function Xa(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function Za(e,n){const t=Ir(e),a=ua(n),[r,s]=getComputedStyle(n).transformOrigin.split(" ").map(b=>parseFloat(b)),[i,l]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let o=t.left+t.width/2;i==="left"||l==="left"?o-=t.width/2:(i==="right"||l==="right")&&(o+=t.width/2);let u=t.top+t.height/2;i==="top"||l==="top"?u-=t.height/2:(i==="bottom"||l==="bottom")&&(u+=t.height/2);const c=t.width/a.width,d=t.height/a.height,f=Math.max(1,c,d),m=c/f||0,h=d/f||0,y=a.width*a.height/(window.innerWidth*window.innerHeight),g=y>.12?Math.min(1.5,(y-.12)*10+1):1;return{x:o-(r+a.left),y:u-(s+a.top),sx:m,sy:h,speed:g}}Se("fab-transition","center center","out-in");Se("dialog-bottom-transition");Se("dialog-top-transition");const er=Se("fade-transition");Se("scale-transition");Se("scroll-x-transition");Se("scroll-x-reverse-transition");Se("scroll-y-transition");Se("scroll-y-reverse-transition");Se("slide-x-transition");Se("slide-x-reverse-transition");const as=Se("slide-y-transition");Se("slide-y-reverse-transition");const gu=es("expand-transition",ts()),rs=es("expand-x-transition",ts("",!0)),mu=F({start:Boolean,end:Boolean,icon:ee,image:String,text:String,...Vt(),...ie(),...ze(),...dt(),...ra(),...Oe(),...we(),...ft({variant:"flat"})},"VAvatar"),Pt=K()({name:"VAvatar",props:mu(),setup(e,n){let{slots:t}=n;const{themeClasses:a}=$e(e),{borderClasses:r}=yn(e),{colorClasses:s,colorStyles:i,variantClasses:l}=ia(e),{densityClasses:o}=Xe(e),{roundedClasses:u}=Lt(e),{sizeClasses:c,sizeStyles:d}=wr(e);return Z(()=>v(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},a.value,r.value,s.value,o.value,u.value,c.value,l.value,e.class],style:[i.value,d.value,e.style]},{default:()=>[t.default?v(Ee,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[t.default()]}):e.image?v(Gi,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?v(he,{key:"icon",icon:e.icon},null):e.text,la(!1,"v-avatar")]})),{}}}),yu=F({text:String,onClick:fe(),...ie(),...we()},"VLabel"),ss=K()({name:"VLabel",props:yu(),setup(e,n){let{slots:t}=n;return Z(()=>{var a;return v("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(a=t.default)==null?void 0:a.call(t)])}),{}}}),is=Symbol.for("vuetify:selection-control-group"),ls=F({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ee,trueIcon:ee,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Tt},...ie(),...ze(),...we()},"SelectionControlGroup"),bu=F({...ls({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");K()({name:"VSelectionControlGroup",props:bu(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=ue(e,"modelValue"),r=Ye(),s=_(()=>e.id||`v-selection-control-group-${r}`),i=_(()=>e.name||s.value),l=new Set;return pe(is,{modelValue:a,forceUpdate:()=>{l.forEach(o=>o())},onForceUpdate:o=>{l.add(o),Te(()=>{l.delete(o)})}}),Je({[e.defaultsTarget]:{color:D(e,"color"),disabled:D(e,"disabled"),density:D(e,"density"),error:D(e,"error"),inline:D(e,"inline"),modelValue:a,multiple:_(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:i,falseIcon:D(e,"falseIcon"),trueIcon:D(e,"trueIcon"),readonly:D(e,"readonly"),ripple:D(e,"ripple"),type:D(e,"type"),valueComparator:D(e,"valueComparator")}}),Z(()=>{var o;return v("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(o=t.default)==null?void 0:o.call(t)])}),{}}});const os=F({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...ie(),...ls()},"VSelectionControl");function pu(e){const n=ge(is,void 0),{densityClasses:t}=Xe(e),a=ue(e,"modelValue"),r=_(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=_(()=>e.falseValue!==void 0?e.falseValue:!1),i=_(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),l=_({get(){const m=n?n.modelValue.value:a.value;return i.value?ve(m).some(h=>e.valueComparator(h,r.value)):e.valueComparator(m,r.value)},set(m){if(e.readonly)return;const h=m?r.value:s.value;let y=h;i.value&&(y=m?[...ve(a.value),h]:ve(a.value).filter(g=>!e.valueComparator(g,r.value))),n?n.modelValue.value=y:a.value=y}}),{textColorClasses:o,textColorStyles:u}=jt(_(()=>{if(!(e.error||e.disabled))return l.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:d}=Dt(_(()=>l.value&&!e.error&&!e.disabled?e.color:e.baseColor)),f=_(()=>l.value?e.trueIcon:e.falseIcon);return{group:n,densityClasses:t,trueValue:r,falseValue:s,model:l,textColorClasses:o,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:f}}const tr=K()({name:"VSelectionControl",directives:{Ripple:oa},inheritAttrs:!1,props:os(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{group:r,densityClasses:s,icon:i,model:l,textColorClasses:o,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:f}=pu(e),m=Ye(),h=ne(!1),y=ne(!1),g=U(),b=_(()=>e.id||`input-${m}`),p=_(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{g.value&&(g.value.checked=l.value)});function C(I){p.value&&(h.value=!0,en(I.target,":focus-visible")!==!1&&(y.value=!0))}function T(){h.value=!1,y.value=!1}function S(I){I.stopPropagation()}function O(I){if(!p.value){g.value&&(g.value.checked=l.value);return}e.readonly&&r&&Pe(()=>r.forceUpdate()),l.value=I.target.checked}return Z(()=>{var $,V;const I=a.label?a.label({label:e.label,props:{for:b.value}}):e.label,[w,k]=mr(t),j=v("input",H({ref:g,checked:l.value,disabled:!!e.disabled,id:b.value,onBlur:T,onFocus:C,onInput:O,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?l.value:void 0},k),null);return v("div",H({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":y.value,"v-selection-control--inline":e.inline},s.value,e.class]},w,{style:e.style}),[v("div",{class:["v-selection-control__wrapper",o.value],style:u.value},[($=a.default)==null?void 0:$.call(a,{backgroundColorClasses:c,backgroundColorStyles:d}),Re(v("div",{class:["v-selection-control__input"]},[((V=a.input)==null?void 0:V.call(a,{model:l,textColorClasses:o,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:j,icon:i.value,props:{onFocus:C,onBlur:T,id:b.value}}))??v(oe,null,[i.value&&v(he,{key:"icon",icon:i.value},null),j])]),[[At("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),I&&v(ss,{for:b.value,onClick:S},{default:()=>[I]})])}),{isFocused:h,input:g}}}),_u=F({indeterminate:Boolean,indeterminateIcon:{type:ee,default:"$checkboxIndeterminate"},...os({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Cn=K()({name:"VCheckboxBtn",props:_u(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:t}=n;const a=ue(e,"indeterminate"),r=ue(e,"modelValue");function s(o){a.value&&(a.value=!1)}const i=_(()=>a.value?e.indeterminateIcon:e.falseIcon),l=_(()=>a.value?e.indeterminateIcon:e.trueIcon);return Z(()=>{const o=It(tr.filterProps(e),["modelValue"]);return v(tr,H(o,{modelValue:r.value,"onUpdate:modelValue":[u=>r.value=u,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:l.value,"aria-checked":a.value?"mixed":void 0}),t)}),{}}});function us(e){const{t:n}=Ue();function t(a){let{name:r}=a;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],i=e[`onClick:${r}`],l=i&&s?n(`$vuetify.input.${s}`,e.label??""):void 0;return v(he,{icon:e[`${r}Icon`],"aria-label":l,onClick:i},null)}return{InputIcon:t}}const wu=F({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ie(),...bn({transition:{component:as,leaveAbsolute:!0,group:!0}})},"VMessages"),Su=K()({name:"VMessages",props:wu(),setup(e,n){let{slots:t}=n;const a=_(()=>ve(e.messages)),{textColorClasses:r,textColorStyles:s}=jt(_(()=>e.color));return Z(()=>v(pn,{transition:e.transition,tag:"div",class:["v-messages",r.value,e.class],style:[s.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&a.value.map((i,l)=>v("div",{class:"v-messages__message",key:`${l}-${a.value}`},[t.message?t.message({message:i}):i]))]})),{}}}),cs=F({focused:Boolean,"onUpdate:focused":fe()},"focus");function ds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yr();const t=ue(e,"focused"),a=_(()=>({[`${n}--focused`]:t.value}));function r(){t.value=!0}function s(){t.value=!1}return{focusClasses:a,isFocused:t,focus:r,blur:s}}const ku=Symbol.for("vuetify:form");function fs(){return ge(ku,null)}const Pu=F({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...cs()},"validation");function xu(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yr(),t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ye();const a=ue(e,"modelValue"),r=_(()=>e.validationValue===void 0?a.value:e.validationValue),s=fs(),i=U([]),l=ne(!0),o=_(()=>!!(ve(a.value===""?null:a.value).length||ve(r.value===""?null:r.value).length)),u=_(()=>!!(e.disabled??(s==null?void 0:s.isDisabled.value))),c=_(()=>!!(e.readonly??(s==null?void 0:s.isReadonly.value))),d=_(()=>{var S;return(S=e.errorMessages)!=null&&S.length?ve(e.errorMessages).concat(i.value).slice(0,Math.max(0,+e.maxErrors)):i.value}),f=_(()=>{let S=(e.validateOn??(s==null?void 0:s.validateOn.value))||"input";S==="lazy"&&(S="input lazy"),S==="eager"&&(S="input eager");const O=new Set((S==null?void 0:S.split(" "))??[]);return{input:O.has("input"),blur:O.has("blur")||O.has("input")||O.has("invalid-input"),invalidInput:O.has("invalid-input"),lazy:O.has("lazy"),eager:O.has("eager")}}),m=_(()=>{var S;return e.error||(S=e.errorMessages)!=null&&S.length?!1:e.rules.length?l.value?i.value.length||f.value.lazy?null:!0:!i.value.length:!0}),h=ne(!1),y=_(()=>({[`${n}--error`]:m.value===!1,[`${n}--dirty`]:o.value,[`${n}--disabled`]:u.value,[`${n}--readonly`]:c.value})),g=Ve("validation"),b=_(()=>e.name??rt(t));wi(()=>{s==null||s.register({id:b.value,vm:g,validate:T,reset:p,resetValidation:C})}),Et(()=>{s==null||s.unregister(b.value)}),vn(async()=>{f.value.lazy||await T(!f.value.eager),s==null||s.update(b.value,m.value,d.value)}),ot(()=>f.value.input||f.value.invalidInput&&m.value===!1,()=>{ae(r,()=>{if(r.value!=null)T();else if(e.focused){const S=ae(()=>e.focused,O=>{O||T(),S()})}})}),ot(()=>f.value.blur,()=>{ae(()=>e.focused,S=>{S||T()})}),ae([m,d],()=>{s==null||s.update(b.value,m.value,d.value)});async function p(){a.value=null,await Pe(),await C()}async function C(){l.value=!0,f.value.lazy?i.value=[]:await T(!f.value.eager)}async function T(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=[];h.value=!0;for(const I of e.rules){if(O.length>=+(e.maxErrors??1))break;const k=await(typeof I=="function"?I:()=>I)(r.value);if(k!==!0){if(k!==!1&&typeof k!="string"){console.warn(`${k} is not a valid value. Rule functions must return boolean true or a string.`);continue}O.push(k||"")}}return i.value=O,h.value=!1,l.value=S,i.value}return{errorMessages:d,isDirty:o,isDisabled:u,isReadonly:c,isPristine:l,isValid:m,isValidating:h,reset:p,resetValidation:C,validate:T,validationClasses:y}}const hs=F({id:String,appendIcon:ee,centerAffix:{type:Boolean,default:!0},prependIcon:ee,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":fe(),"onClick:append":fe(),...ie(),...ze(),...Si(Ot(),["maxWidth","minWidth","width"]),...we(),...Pu()},"VInput"),nr=K()({name:"VInput",props:{...hs()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:a,emit:r}=n;const{densityClasses:s}=Xe(e),{dimensionStyles:i}=$t(e),{themeClasses:l}=$e(e),{rtlClasses:o}=ct(),{InputIcon:u}=us(e),c=Ye(),d=_(()=>e.id||`input-${c}`),f=_(()=>`${d.value}-messages`),{errorMessages:m,isDirty:h,isDisabled:y,isReadonly:g,isPristine:b,isValid:p,isValidating:C,reset:T,resetValidation:S,validate:O,validationClasses:I}=xu(e,"v-input",d),w=_(()=>({id:d,messagesId:f,isDirty:h,isDisabled:y,isReadonly:g,isPristine:b,isValid:p,isValidating:C,reset:T,resetValidation:S,validate:O})),k=_(()=>{var j;return(j=e.errorMessages)!=null&&j.length||!b.value&&m.value.length?m.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Z(()=>{var L,M,N,G;const j=!!(a.prepend||e.prependIcon),$=!!(a.append||e.appendIcon),V=k.value.length>0,E=!e.hideDetails||e.hideDetails==="auto"&&(V||!!a.details);return v("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,l.value,o.value,I.value,e.class],style:[i.value,e.style]},[j&&v("div",{key:"prepend",class:"v-input__prepend"},[(L=a.prepend)==null?void 0:L.call(a,w.value),e.prependIcon&&v(u,{key:"prepend-icon",name:"prepend"},null)]),a.default&&v("div",{class:"v-input__control"},[(M=a.default)==null?void 0:M.call(a,w.value)]),$&&v("div",{key:"append",class:"v-input__append"},[e.appendIcon&&v(u,{key:"append-icon",name:"append"},null),(N=a.append)==null?void 0:N.call(a,w.value)]),E&&v("div",{class:"v-input__details"},[v(Su,{id:f.value,active:V,messages:k.value},{message:a.message}),(G=a.details)==null?void 0:G.call(a,w.value)])])}),{reset:T,resetValidation:S,validate:O,isValid:p,errorMessages:m}}});function Cu(e){let{selectedElement:n,containerElement:t,isRtl:a,isHorizontal:r}=e;const s=xt(r,t),i=vs(r,a,t),l=xt(r,n),o=gs(r,n),u=l*.4;return i>o?o-u:i+s<o+l?o-s+l+u:i}function Tu(e){let{selectedElement:n,containerElement:t,isHorizontal:a}=e;const r=xt(a,t),s=gs(a,n),i=xt(a,n);return s-r/2+i/2}function ar(e,n){const t=e?"scrollWidth":"scrollHeight";return(n==null?void 0:n[t])||0}function Au(e,n){const t=e?"clientWidth":"clientHeight";return(n==null?void 0:n[t])||0}function vs(e,n,t){if(!t)return 0;const{scrollLeft:a,offsetWidth:r,scrollWidth:s}=t;return e?n?s-r+a:a:t.scrollTop}function xt(e,n){const t=e?"offsetWidth":"offsetHeight";return(n==null?void 0:n[t])||0}function gs(e,n){const t=e?"offsetLeft":"offsetTop";return(n==null?void 0:n[t])||0}const Iu=Symbol.for("vuetify:v-slide-group"),ms=F({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Iu},nextIcon:{type:ee,default:"$next"},prevIcon:{type:ee,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ie(),...gn({mobile:null}),...Oe(),...Sr({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),rr=K()({name:"VSlideGroup",props:ms(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isRtl:a}=ct(),{displayClasses:r,mobile:s}=Qe(e),i=kr(e,e.symbol),l=ne(!1),o=ne(0),u=ne(0),c=ne(0),d=_(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:m}=wt(),{resizeRef:h,contentRect:y}=wt(),g=ki(),b=_(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),p=_(()=>i.selected.value.length?i.items.value.findIndex(x=>x.id===i.selected.value[0]):-1),C=_(()=>i.selected.value.length?i.items.value.findIndex(x=>x.id===i.selected.value[i.selected.value.length-1]):-1);if(xe){let x=-1;ae(()=>[i.selected.value,m.value,y.value,d.value],()=>{cancelAnimationFrame(x),x=requestAnimationFrame(()=>{if(m.value&&y.value){const A=d.value?"width":"height";u.value=m.value[A],c.value=y.value[A],l.value=u.value+1<c.value}if(p.value>=0&&h.el){const A=h.el.children[C.value];S(A,e.centerActive)}})})}const T=ne(!1);function S(x,A){let R=0;A?R=Tu({containerElement:f.el,isHorizontal:d.value,selectedElement:x}):R=Cu({containerElement:f.el,isHorizontal:d.value,isRtl:a.value,selectedElement:x}),O(R)}function O(x){if(!xe||!f.el)return;const A=xt(d.value,f.el),R=vs(d.value,a.value,f.el);if(!(ar(d.value,f.el)<=A||Math.abs(x-R)<16)){if(d.value&&a.value&&f.el){const{scrollWidth:z,offsetWidth:X}=f.el;x=z-X-x}d.value?g.horizontal(x,b.value):g(x,b.value)}}function I(x){const{scrollTop:A,scrollLeft:R}=x.target;o.value=d.value?R:A}function w(x){if(T.value=!0,!(!l.value||!h.el)){for(const A of x.composedPath())for(const R of h.el.children)if(R===A){S(R);return}}}function k(x){T.value=!1}let j=!1;function $(x){var A;!j&&!T.value&&!(x.relatedTarget&&((A=h.el)!=null&&A.contains(x.relatedTarget)))&&L(),j=!1}function V(){j=!0}function E(x){if(!h.el)return;function A(R){x.preventDefault(),L(R)}d.value?x.key==="ArrowRight"?A(a.value?"prev":"next"):x.key==="ArrowLeft"&&A(a.value?"next":"prev"):x.key==="ArrowDown"?A("next"):x.key==="ArrowUp"&&A("prev"),x.key==="Home"?A("first"):x.key==="End"&&A("last")}function L(x){var R,J;if(!h.el)return;let A;if(!x)A=Nn(h.el)[0];else if(x==="next"){if(A=(R=h.el.querySelector(":focus"))==null?void 0:R.nextElementSibling,!A)return L("first")}else if(x==="prev"){if(A=(J=h.el.querySelector(":focus"))==null?void 0:J.previousElementSibling,!A)return L("last")}else x==="first"?A=h.el.firstElementChild:x==="last"&&(A=h.el.lastElementChild);A&&A.focus({preventScroll:!0})}function M(x){const A=d.value&&a.value?-1:1,R=(x==="prev"?-A:A)*u.value;let J=o.value+R;if(d.value&&a.value&&f.el){const{scrollWidth:z,offsetWidth:X}=f.el;J+=z-X}O(J)}const N=_(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),G=_(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return l.value||Math.abs(o.value)>0;case"mobile":return s.value||l.value||Math.abs(o.value)>0;default:return!s.value&&(l.value||Math.abs(o.value)>0)}}),q=_(()=>Math.abs(o.value)>1),P=_(()=>{if(!f.value)return!1;const x=ar(d.value,f.el),A=Au(d.value,f.el);return x-A-Math.abs(o.value)>1});return Z(()=>v(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":G.value,"v-slide-group--is-overflowing":l.value},r.value,e.class],style:e.style,tabindex:T.value||i.selected.value.length?-1:0,onFocus:$},{default:()=>{var x,A,R;return[G.value&&v("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!q.value}],onMousedown:V,onClick:()=>q.value&&M("prev")},[((x=t.prev)==null?void 0:x.call(t,N.value))??v(er,null,{default:()=>[v(he,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),v("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:I},[v("div",{ref:h,class:"v-slide-group__content",onFocusin:w,onFocusout:k,onKeydown:E},[(A=t.default)==null?void 0:A.call(t,N.value)])]),G.value&&v("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!P.value}],onMousedown:V,onClick:()=>P.value&&M("next")},[((R=t.next)==null?void 0:R.call(t,N.value))??v(er,null,{default:()=>[v(he,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:M,scrollOffset:o,focus:L,hasPrev:q,hasNext:P}}}),ys=Symbol.for("vuetify:v-chip-group"),Eu=F({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Tt},...ms(),...ie(),...Sr({selectedClass:"v-chip--selected"}),...Oe(),...we(),...ft({variant:"tonal"})},"VChipGroup");K()({name:"VChipGroup",props:Eu(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:a}=$e(e),{isSelected:r,select:s,next:i,prev:l,selected:o}=kr(e,ys);return Je({VChip:{color:D(e,"color"),disabled:D(e,"disabled"),filter:D(e,"filter"),variant:D(e,"variant")}}),Z(()=>{const u=rr.filterProps(e);return v(rr,H(u,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>{var c;return[(c=t.default)==null?void 0:c.call(t,{isSelected:r,select:s,next:i,prev:l,selected:o.value})]}})}),{}}});const Ou=F({activeClass:String,appendAvatar:String,appendIcon:ee,closable:Boolean,closeIcon:{type:ee,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ee,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:fe(),onClickOnce:fe(),...Vt(),...ie(),...ze(),...mn(),...Ki(),...dt(),...Pr(),...ra(),...Oe({tag:"span"}),...we(),...ft({variant:"tonal"})},"VChip"),bs=K()({name:"VChip",directives:{Ripple:oa},props:Ou(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:t,emit:a,slots:r}=n;const{t:s}=Ue(),{borderClasses:i}=yn(e),{colorClasses:l,colorStyles:o,variantClasses:u}=ia(e),{densityClasses:c}=Xe(e),{elevationClasses:d}=sa(e),{roundedClasses:f}=Lt(e),{sizeClasses:m}=wr(e),{themeClasses:h}=$e(e),y=ue(e,"modelValue"),g=Ji(e,ys,!1),b=xr(e,t),p=_(()=>e.link!==!1&&b.isLink.value),C=_(()=>!e.disabled&&e.link!==!1&&(!!g||e.link||b.isClickable.value)),T=_(()=>({"aria-label":s(e.closeLabel),onClick(I){I.preventDefault(),I.stopPropagation(),y.value=!1,a("click:close",I)}}));function S(I){var w;a("click",I),C.value&&((w=b.navigate)==null||w.call(b,I),g==null||g.toggle())}function O(I){(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),S(I))}return()=>{const I=b.isLink.value?"a":e.tag,w=!!(e.appendIcon||e.appendAvatar),k=!!(w||r.append),j=!!(r.close||e.closable),$=!!(r.filter||e.filter)&&g,V=!!(e.prependIcon||e.prependAvatar),E=!!(V||r.prepend),L=!g||g.isSelected.value;return y.value&&Re(v(I,H({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":C.value,"v-chip--filter":$,"v-chip--pill":e.pill},h.value,i.value,L?l.value:void 0,c.value,d.value,f.value,m.value,u.value,g==null?void 0:g.selectedClass.value,e.class],style:[L?o.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:C.value?0:void 0,onClick:S,onKeydown:C.value&&!p.value&&O},b.linkProps),{default:()=>{var M;return[la(C.value,"v-chip"),$&&v(rs,{key:"filter"},{default:()=>[Re(v("div",{class:"v-chip__filter"},[r.filter?v(Ee,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):v(he,{key:"filter-icon",icon:e.filterIcon},null)]),[[Rt,g.isSelected.value]])]}),E&&v("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?v(Ee,{key:"prepend-defaults",disabled:!V,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):v(oe,null,[e.prependIcon&&v(he,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&v(Pt,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),v("div",{class:"v-chip__content","data-no-activator":""},[((M=r.default)==null?void 0:M.call(r,{isSelected:g==null?void 0:g.isSelected.value,selectedClass:g==null?void 0:g.selectedClass.value,select:g==null?void 0:g.select,toggle:g==null?void 0:g.toggle,value:g==null?void 0:g.value.value,disabled:e.disabled}))??e.text]),k&&v("div",{key:"append",class:"v-chip__append"},[r.append?v(Ee,{key:"append-defaults",disabled:!w,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):v(oe,null,[e.appendIcon&&v(he,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&v(Pt,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),j&&v("button",H({key:"close",class:"v-chip__close",type:"button"},T.value),[r.close?v(Ee,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):v(he,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[At("ripple"),C.value&&e.ripple,null]])}}}),Qn=Symbol.for("vuetify:list");function ps(){const e=ge(Qn,{hasPrepend:ne(!1),updateHasPrepend:()=>null}),n={hasPrepend:ne(!1),updateHasPrepend:t=>{t&&(n.hasPrepend.value=t)}};return pe(Qn,n),e}function _s(){return ge(Qn,null)}const ya=e=>{const n={activate:t=>{let{id:a,value:r,activated:s}=t;return a=de(a),e&&!r&&s.size===1&&s.has(a)||(r?s.add(a):s.delete(a)),s},in:(t,a,r)=>{let s=new Set;if(t!=null)for(const i of ve(t))s=n.activate({id:i,value:!0,activated:new Set(s),children:a,parents:r});return s},out:t=>Array.from(t)};return n},ws=e=>{const n=ya(e);return{activate:a=>{let{activated:r,id:s,...i}=a;s=de(s);const l=r.has(s)?new Set([s]):new Set;return n.activate({...i,id:s,activated:l})},in:(a,r,s)=>{let i=new Set;if(a!=null){const l=ve(a);l.length&&(i=n.in(l.slice(0,1),r,s))}return i},out:(a,r,s)=>n.out(a,r,s)}},$u=e=>{const n=ya(e);return{activate:a=>{let{id:r,activated:s,children:i,...l}=a;return r=de(r),i.has(r)?s:n.activate({id:r,activated:s,children:i,...l})},in:n.in,out:n.out}},Ru=e=>{const n=ws(e);return{activate:a=>{let{id:r,activated:s,children:i,...l}=a;return r=de(r),i.has(r)?s:n.activate({id:r,activated:s,children:i,...l})},in:n.in,out:n.out}},Vu={open:e=>{let{id:n,value:t,opened:a,parents:r}=e;if(t){const s=new Set;s.add(n);let i=r.get(n);for(;i!=null;)s.add(i),i=r.get(i);return s}else return a.delete(n),a},select:()=>null},Ss={open:e=>{let{id:n,value:t,opened:a,parents:r}=e;if(t){let s=r.get(n);for(a.add(n);s!=null&&s!==n;)a.add(s),s=r.get(s);return a}else a.delete(n);return a},select:()=>null},Lu={open:Ss.open,select:e=>{let{id:n,value:t,opened:a,parents:r}=e;if(!t)return a;const s=[];let i=r.get(n);for(;i!=null;)s.push(i),i=r.get(i);return new Set(s)}},ba=e=>{const n={select:t=>{let{id:a,value:r,selected:s}=t;if(a=de(a),e&&!r){const i=Array.from(s.entries()).reduce((l,o)=>{let[u,c]=o;return c==="on"&&l.push(u),l},[]);if(i.length===1&&i[0]===a)return s}return s.set(a,r?"on":"off"),s},in:(t,a,r)=>{let s=new Map;for(const i of t||[])s=n.select({id:i,value:!0,selected:new Map(s),children:a,parents:r});return s},out:t=>{const a=[];for(const[r,s]of t.entries())s==="on"&&a.push(r);return a}};return n},ks=e=>{const n=ba(e);return{select:a=>{let{selected:r,id:s,...i}=a;s=de(s);const l=r.has(s)?new Map([[s,r.get(s)]]):new Map;return n.select({...i,id:s,selected:l})},in:(a,r,s)=>{let i=new Map;return a!=null&&a.length&&(i=n.in(a.slice(0,1),r,s)),i},out:(a,r,s)=>n.out(a,r,s)}},ju=e=>{const n=ba(e);return{select:a=>{let{id:r,selected:s,children:i,...l}=a;return r=de(r),i.has(r)?s:n.select({id:r,selected:s,children:i,...l})},in:n.in,out:n.out}},Du=e=>{const n=ks(e);return{select:a=>{let{id:r,selected:s,children:i,...l}=a;return r=de(r),i.has(r)?s:n.select({id:r,selected:s,children:i,...l})},in:n.in,out:n.out}},Bu=e=>{const n={select:t=>{let{id:a,value:r,selected:s,children:i,parents:l}=t;a=de(a);const o=new Map(s),u=[a];for(;u.length;){const d=u.shift();s.set(de(d),r?"on":"off"),i.has(d)&&u.push(...i.get(d))}let c=de(l.get(a));for(;c;){const d=i.get(c),f=d.every(h=>s.get(de(h))==="on"),m=d.every(h=>!s.has(de(h))||s.get(de(h))==="off");s.set(c,f?"on":m?"off":"indeterminate"),c=de(l.get(c))}return e&&!r&&Array.from(s.entries()).reduce((f,m)=>{let[h,y]=m;return y==="on"&&f.push(h),f},[]).length===0?o:s},in:(t,a,r)=>{let s=new Map;for(const i of t||[])s=n.select({id:i,value:!0,selected:new Map(s),children:a,parents:r});return s},out:(t,a)=>{const r=[];for(const[s,i]of t.entries())i==="on"&&!a.has(s)&&r.push(s);return r}};return n},Ct=Symbol.for("vuetify:nested"),Ps={id:ne(),root:{register:()=>null,unregister:()=>null,parents:U(new Map),children:U(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:U(!1),selectable:U(!1),opened:U(new Set),activated:U(new Set),selected:U(new Map),selectedValues:U([]),getPath:()=>[]}},Fu=F({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Mu=e=>{let n=!1;const t=U(new Map),a=U(new Map),r=ue(e,"opened",e.opened,h=>new Set(h),h=>[...h.values()]),s=_(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return $u(e.mandatory);case"single-leaf":return Ru(e.mandatory);case"independent":return ya(e.mandatory);case"single-independent":default:return ws(e.mandatory)}}),i=_(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return Du(e.mandatory);case"leaf":return ju(e.mandatory);case"independent":return ba(e.mandatory);case"single-independent":return ks(e.mandatory);case"classic":default:return Bu(e.mandatory)}}),l=_(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Lu;case"single":return Vu;case"multiple":default:return Ss}}),o=ue(e,"activated",e.activated,h=>s.value.in(h,t.value,a.value),h=>s.value.out(h,t.value,a.value)),u=ue(e,"selected",e.selected,h=>i.value.in(h,t.value,a.value),h=>i.value.out(h,t.value,a.value));Et(()=>{n=!0});function c(h){const y=[];let g=h;for(;g!=null;)y.unshift(g),g=a.value.get(g);return y}const d=Ve("nested"),f=new Set,m={id:ne(),root:{opened:r,activatable:D(e,"activatable"),selectable:D(e,"selectable"),activated:o,selected:u,selectedValues:_(()=>{const h=[];for(const[y,g]of u.value.entries())g==="on"&&h.push(y);return h}),register:(h,y,g)=>{if(f.has(h)){c(h).join(" -> "),c(y).concat(h).join(" -> ");return}else f.add(h);y&&h!==y&&a.value.set(h,y),g&&t.value.set(h,[]),y!=null&&t.value.set(y,[...t.value.get(y)||[],h])},unregister:h=>{if(n)return;f.delete(h),t.value.delete(h);const y=a.value.get(h);if(y){const g=t.value.get(y)??[];t.value.set(y,g.filter(b=>b!==h))}a.value.delete(h)},open:(h,y,g)=>{d.emit("click:open",{id:h,value:y,path:c(h),event:g});const b=l.value.open({id:h,value:y,opened:new Set(r.value),children:t.value,parents:a.value,event:g});b&&(r.value=b)},openOnSelect:(h,y,g)=>{const b=l.value.select({id:h,value:y,selected:new Map(u.value),opened:new Set(r.value),children:t.value,parents:a.value,event:g});b&&(r.value=b)},select:(h,y,g)=>{d.emit("click:select",{id:h,value:y,path:c(h),event:g});const b=i.value.select({id:h,value:y,selected:new Map(u.value),children:t.value,parents:a.value,event:g});b&&(u.value=b),m.root.openOnSelect(h,y,g)},activate:(h,y,g)=>{if(!e.activatable)return m.root.select(h,!0,g);d.emit("click:activate",{id:h,value:y,path:c(h),event:g});const b=s.value.activate({id:h,value:y,activated:new Set(o.value),children:t.value,parents:a.value,event:g});b&&(o.value=b)},children:t,parents:a,getPath:c}};return pe(Ct,m),m.root},xs=(e,n)=>{const t=ge(Ct,Ps),a=Symbol(Ye()),r=_(()=>e.value!==void 0?e.value:a),s={...t,id:r,open:(i,l)=>t.root.open(r.value,i,l),openOnSelect:(i,l)=>t.root.openOnSelect(r.value,i,l),isOpen:_(()=>t.root.opened.value.has(r.value)),parent:_(()=>t.root.parents.value.get(r.value)),activate:(i,l)=>t.root.activate(r.value,i,l),isActivated:_(()=>t.root.activated.value.has(de(r.value))),select:(i,l)=>t.root.select(r.value,i,l),isSelected:_(()=>t.root.selected.value.get(de(r.value))==="on"),isIndeterminate:_(()=>t.root.selected.value.get(r.value)==="indeterminate"),isLeaf:_(()=>!t.root.children.value.get(r.value)),isGroupActivator:t.isGroupActivator};return!t.isGroupActivator&&t.root.register(r.value,t.id.value,n),Et(()=>{!t.isGroupActivator&&t.root.unregister(r.value)}),n&&pe(Ct,s),s},Nu=()=>{const e=ge(Ct,Ps);pe(Ct,{...e,isGroupActivator:!0})},Uu=Pi({name:"VListGroupActivator",setup(e,n){let{slots:t}=n;return Nu(),()=>{var a;return(a=t.default)==null?void 0:a.call(t)}}}),zu=F({activeColor:String,baseColor:String,color:String,collapseIcon:{type:ee,default:"$collapse"},expandIcon:{type:ee,default:"$expand"},prependIcon:ee,appendIcon:ee,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ie(),...Oe()},"VListGroup"),sr=K()({name:"VListGroup",props:zu(),setup(e,n){let{slots:t}=n;const{isOpen:a,open:r,id:s}=xs(D(e,"value"),!0),i=_(()=>`v-list-group--id-${String(s.value)}`),l=_s(),{isBooted:o}=xi();function u(m){m.stopPropagation(),r(!a.value,m)}const c=_(()=>({onClick:u,class:"v-list-group__header",id:i.value})),d=_(()=>a.value?e.collapseIcon:e.expandIcon),f=_(()=>({VListItem:{active:a.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&d.value,appendIcon:e.appendIcon||!e.subgroup&&d.value,title:e.title,value:e.value}}));return Z(()=>v(e.tag,{class:["v-list-group",{"v-list-group--prepend":l==null?void 0:l.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":a.value},e.class],style:e.style},{default:()=>[t.activator&&v(Ee,{defaults:f.value},{default:()=>[v(Uu,null,{default:()=>[t.activator({props:c.value,isOpen:a.value})]})]}),v(pn,{transition:{component:gu},disabled:!o.value},{default:()=>{var m;return[Re(v("div",{class:"v-list-group__items",role:"group","aria-labelledby":i.value},[(m=t.default)==null?void 0:m.call(t)]),[[Rt,a.value]])]}})]})),{isOpen:a}}}),Hu=F({opacity:[Number,String],...ie(),...Oe()},"VListItemSubtitle"),qu=K()({name:"VListItemSubtitle",props:Hu(),setup(e,n){let{slots:t}=n;return Z(()=>v(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},t)),{}}}),Gu=tl("v-list-item-title"),Wu=F({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:ee,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:ee,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:fe(),onClickOnce:fe(),...Vt(),...ie(),...ze(),...Ot(),...mn(),...dt(),...Pr(),...Oe(),...we(),...ft({variant:"text"})},"VListItem"),sn=K()({name:"VListItem",directives:{Ripple:oa},props:Wu(),emits:{click:e=>!0},setup(e,n){let{attrs:t,slots:a,emit:r}=n;const s=xr(e,t),i=_(()=>e.value===void 0?s.href.value:e.value),{activate:l,isActivated:o,select:u,isOpen:c,isSelected:d,isIndeterminate:f,isGroupActivator:m,root:h,parent:y,openOnSelect:g,id:b}=xs(i,!1),p=_s(),C=_(()=>{var R;return e.active!==!1&&(e.active||((R=s.isActive)==null?void 0:R.value)||(h.activatable.value?o.value:d.value))}),T=_(()=>e.link!==!1&&s.isLink.value),S=_(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||!!p&&(h.selectable.value||h.activatable.value||e.value!=null))),O=_(()=>e.rounded||e.nav),I=_(()=>e.color??e.activeColor),w=_(()=>({color:C.value?I.value??e.baseColor:e.baseColor,variant:e.variant}));ae(()=>{var R;return(R=s.isActive)==null?void 0:R.value},R=>{R&&y.value!=null&&h.open(y.value,!0),R&&g(R)},{immediate:!0});const{themeClasses:k}=$e(e),{borderClasses:j}=yn(e),{colorClasses:$,colorStyles:V,variantClasses:E}=ia(w),{densityClasses:L}=Xe(e),{dimensionStyles:M}=$t(e),{elevationClasses:N}=sa(e),{roundedClasses:G}=Lt(O),q=_(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),P=_(()=>({isActive:C.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:f.value}));function x(R){var J;r("click",R),S.value&&((J=s.navigate)==null||J.call(s,R),!m&&(h.activatable.value?l(!o.value,R):(h.selectable.value||e.value!=null)&&u(!d.value,R)))}function A(R){(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),R.target.dispatchEvent(new MouseEvent("click",R)))}return Z(()=>{const R=T.value?"a":e.tag,J=a.title||e.title!=null,z=a.subtitle||e.subtitle!=null,X=!!(e.appendAvatar||e.appendIcon),B=!!(X||a.append),Q=!!(e.prependAvatar||e.prependIcon),le=!!(Q||a.prepend);return p==null||p.updateHasPrepend(le),e.activeColor&&Ci("active-color",["color","base-color"]),Re(v(R,H({class:["v-list-item",{"v-list-item--active":C.value,"v-list-item--disabled":e.disabled,"v-list-item--link":S.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!le&&(p==null?void 0:p.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&C.value},k.value,j.value,$.value,L.value,N.value,q.value,G.value,E.value,e.class],style:[V.value,M.value,e.style],tabindex:S.value?p?-2:0:void 0,onClick:x,onKeydown:S.value&&!T.value&&A},s.linkProps),{default:()=>{var me;return[la(S.value||C.value,"v-list-item"),le&&v("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?v(Ee,{key:"prepend-defaults",disabled:!Q,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var te;return[(te=a.prepend)==null?void 0:te.call(a,P.value)]}}):v(oe,null,[e.prependAvatar&&v(Pt,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&v(he,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),v("div",{class:"v-list-item__spacer"},null)]),v("div",{class:"v-list-item__content","data-no-activator":""},[J&&v(Gu,{key:"title"},{default:()=>{var te;return[((te=a.title)==null?void 0:te.call(a,{title:e.title}))??e.title]}}),z&&v(qu,{key:"subtitle"},{default:()=>{var te;return[((te=a.subtitle)==null?void 0:te.call(a,{subtitle:e.subtitle}))??e.subtitle]}}),(me=a.default)==null?void 0:me.call(a,P.value)]),B&&v("div",{key:"append",class:"v-list-item__append"},[a.append?v(Ee,{key:"append-defaults",disabled:!X,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var te;return[(te=a.append)==null?void 0:te.call(a,P.value)]}}):v(oe,null,[e.appendIcon&&v(he,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&v(Pt,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),v("div",{class:"v-list-item__spacer"},null)])]}}),[[At("ripple"),S.value&&e.ripple]])}),{activate:l,isActivated:o,isGroupActivator:m,isSelected:d,list:p,select:u,root:h,id:b}}}),Ku=F({color:String,inset:Boolean,sticky:Boolean,title:String,...ie(),...Oe()},"VListSubheader"),Ju=K()({name:"VListSubheader",props:Ku(),setup(e,n){let{slots:t}=n;const{textColorClasses:a,textColorStyles:r}=jt(D(e,"color"));return Z(()=>{const s=!!(t.default||e.title);return v(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},a.value,e.class],style:[{textColorStyles:r},e.style]},{default:()=>{var i;return[s&&v("div",{class:"v-list-subheader__text"},[((i=t.default)==null?void 0:i.call(t))??e.title])]}})}),{}}}),Qu=F({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ie(),...we()},"VDivider"),pa=K()({name:"VDivider",props:Qu(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:r}=$e(e),{textColorClasses:s,textColorStyles:i}=jt(D(e,"color")),l=_(()=>{const o={};return e.length&&(o[e.vertical?"height":"width"]=se(e.length)),e.thickness&&(o[e.vertical?"borderRightWidth":"borderTopWidth"]=se(e.thickness)),o});return Z(()=>{const o=v("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[l.value,i.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!t.role||t.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${t.role||"separator"}`},null);return a.default?v("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[o,v("div",{class:"v-divider__content"},[a.default()]),o]):o}),{}}}),Yu=F({items:Array,returnObject:Boolean},"VListChildren"),Cs=K()({name:"VListChildren",props:Yu(),setup(e,n){let{slots:t}=n;return ps(),()=>{var a,r;return((a=t.default)==null?void 0:a.call(t))??((r=e.items)==null?void 0:r.map(s=>{var f,m;let{children:i,props:l,type:o,raw:u}=s;if(o==="divider")return((f=t.divider)==null?void 0:f.call(t,{props:l}))??v(pa,l,null);if(o==="subheader")return((m=t.subheader)==null?void 0:m.call(t,{props:l}))??v(Ju,l,null);const c={subtitle:t.subtitle?h=>{var y;return(y=t.subtitle)==null?void 0:y.call(t,{...h,item:u})}:void 0,prepend:t.prepend?h=>{var y;return(y=t.prepend)==null?void 0:y.call(t,{...h,item:u})}:void 0,append:t.append?h=>{var y;return(y=t.append)==null?void 0:y.call(t,{...h,item:u})}:void 0,title:t.title?h=>{var y;return(y=t.title)==null?void 0:y.call(t,{...h,item:u})}:void 0},d=sr.filterProps(l);return i?v(sr,H({value:l==null?void 0:l.value},d),{activator:h=>{let{props:y}=h;const g={...l,...y,value:e.returnObject?u:l.value};return t.header?t.header({props:g}):v(sn,g,c)},default:()=>v(Cs,{items:i,returnObject:e.returnObject},t)}):t.item?t.item({props:l}):v(sn,H(l,{value:e.returnObject?u:l.value}),c)}))}}}),Ts=F({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Tt}},"list-items");function Yn(e,n){const t=be(n,e.itemTitle,n),a=be(n,e.itemValue,t),r=be(n,e.itemChildren),s=e.itemProps===!0?typeof n=="object"&&n!=null&&!Array.isArray(n)?"children"in n?It(n,["children"]):n:void 0:be(n,e.itemProps),i={title:t,value:a,...s};return{title:String(i.title??""),value:i.value,props:i,children:Array.isArray(r)?As(e,r):void 0,raw:n}}function As(e,n){const t=[];for(const a of n)t.push(Yn(e,a));return t}function Xu(e){const n=_(()=>As(e,e.items)),t=_(()=>n.value.some(s=>s.value===null));function a(s){return t.value||(s=s.filter(i=>i!==null)),s.map(i=>e.returnObject&&typeof i=="string"?Yn(e,i):n.value.find(l=>e.valueComparator(i,l.value))||Yn(e,i))}function r(s){return e.returnObject?s.map(i=>{let{raw:l}=i;return l}):s.map(i=>{let{value:l}=i;return l})}return{items:n,transformIn:a,transformOut:r}}function Zu(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function ec(e,n){const t=be(n,e.itemType,"item"),a=Zu(n)?n:be(n,e.itemTitle),r=be(n,e.itemValue,void 0),s=be(n,e.itemChildren),i=e.itemProps===!0?It(n,["children"]):be(n,e.itemProps),l={title:a,value:r,...i};return{type:t,title:l.title,value:l.value,props:l,children:t==="item"&&s?Is(e,s):void 0,raw:n}}function Is(e,n){const t=[];for(const a of n)t.push(ec(e,a));return t}function tc(e){return{items:_(()=>Is(e,e.items))}}const nc=F({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":fe(),"onClick:select":fe(),"onUpdate:opened":fe(),...Fu({selectStrategy:"single-leaf",openStrategy:"list"}),...Vt(),...ie(),...ze(),...Ot(),...mn(),itemType:{type:String,default:"type"},...Ts(),...dt(),...Oe(),...we(),...ft({variant:"text"})},"VList"),ac=K()({name:"VList",props:nc(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,n){let{slots:t}=n;const{items:a}=tc(e),{themeClasses:r}=$e(e),{backgroundColorClasses:s,backgroundColorStyles:i}=Dt(D(e,"bgColor")),{borderClasses:l}=yn(e),{densityClasses:o}=Xe(e),{dimensionStyles:u}=$t(e),{elevationClasses:c}=sa(e),{roundedClasses:d}=Lt(e),{children:f,open:m,parents:h,select:y,getPath:g}=Mu(e),b=_(()=>e.lines?`v-list--${e.lines}-line`:void 0),p=D(e,"activeColor"),C=D(e,"baseColor"),T=D(e,"color");ps(),Je({VListGroup:{activeColor:p,baseColor:C,color:T,expandIcon:D(e,"expandIcon"),collapseIcon:D(e,"collapseIcon")},VListItem:{activeClass:D(e,"activeClass"),activeColor:p,baseColor:C,color:T,density:D(e,"density"),disabled:D(e,"disabled"),lines:D(e,"lines"),nav:D(e,"nav"),slim:D(e,"slim"),variant:D(e,"variant")}});const S=ne(!1),O=U();function I(E){S.value=!0}function w(E){S.value=!1}function k(E){var L;!S.value&&!(E.relatedTarget&&((L=O.value)!=null&&L.contains(E.relatedTarget)))&&V()}function j(E){const L=E.target;if(!(!O.value||["INPUT","TEXTAREA"].includes(L.tagName))){if(E.key==="ArrowDown")V("next");else if(E.key==="ArrowUp")V("prev");else if(E.key==="Home")V("first");else if(E.key==="End")V("last");else return;E.preventDefault()}}function $(E){S.value=!0}function V(E){if(O.value)return Yt(O.value,E)}return Z(()=>v(e.tag,{ref:O,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,s.value,l.value,o.value,c.value,b.value,d.value,e.class],style:[i.value,u.value,e.style],tabindex:e.disabled||S.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:I,onFocusout:w,onFocus:k,onKeydown:j,onMousedown:$},{default:()=>[v(Cs,{items:a.value,returnObject:e.returnObject},t)]})),{open:m,select:y,focus:V,children:f,parents:h,getPath:g}}});function jn(e,n){return{x:e.x+n.x,y:e.y+n.y}}function rc(e,n){return{x:e.x-n.x,y:e.y-n.y}}function ir(e,n){if(e.side==="top"||e.side==="bottom"){const{side:t,align:a}=e,r=a==="left"?0:a==="center"?n.width/2:a==="right"?n.width:a,s=t==="top"?0:t==="bottom"?n.height:t;return jn({x:r,y:s},n)}else if(e.side==="left"||e.side==="right"){const{side:t,align:a}=e,r=t==="left"?0:t==="right"?n.width:t,s=a==="top"?0:a==="center"?n.height/2:a==="bottom"?n.height:a;return jn({x:r,y:s},n)}return jn({x:n.width/2,y:n.height/2},n)}const Es={static:lc,connected:uc},sc=F({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Es},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function ic(e,n){const t=U({}),a=U();xe&&ot(()=>!!(n.isActive.value&&e.locationStrategy),s=>{var i,l;ae(()=>e.locationStrategy,s),Te(()=>{window.removeEventListener("resize",r),a.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?a.value=(i=e.locationStrategy(n,e,t))==null?void 0:i.updateLocation:a.value=(l=Es[e.locationStrategy](n,e,t))==null?void 0:l.updateLocation});function r(s){var i;(i=a.value)==null||i.call(a,s)}return{contentStyles:t,updateLocation:a}}function lc(){}function oc(e,n){const t=ua(e);return n?t.x+=parseFloat(e.style.right||0):t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function uc(e,n,t){(Array.isArray(e.target.value)||sl(e.target.value))&&Object.assign(t.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=Ti(()=>{const h=Oa(n.location,e.isRtl.value),y=n.origin==="overlap"?h:n.origin==="auto"?In(h):Oa(n.origin,e.isRtl.value);return h.side===y.side&&h.align===En(y).align?{preferredAnchor:$a(h),preferredOrigin:$a(y)}:{preferredAnchor:h,preferredOrigin:y}}),[i,l,o,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(h=>_(()=>{const y=parseFloat(n[h]);return isNaN(y)?1/0:y})),c=_(()=>{if(Array.isArray(n.offset))return n.offset;if(typeof n.offset=="string"){const h=n.offset.split(" ").map(parseFloat);return h.length<2&&h.push(0),h}return typeof n.offset=="number"?[n.offset,0]:[0,0]});let d=!1;const f=new ResizeObserver(()=>{d&&m()});ae([e.target,e.contentEl],(h,y)=>{let[g,b]=h,[p,C]=y;p&&!Array.isArray(p)&&f.unobserve(p),g&&!Array.isArray(g)&&f.observe(g),C&&f.unobserve(C),b&&f.observe(b)},{immediate:!0}),Te(()=>{f.disconnect()});function m(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;const h=Ir(e.target.value),y=oc(e.contentEl.value,e.isRtl.value),g=an(e.contentEl.value),b=12;g.length||(g.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(y.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),y.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const p=g.reduce(($,V)=>{const E=V.getBoundingClientRect(),L=new Ke({x:V===document.documentElement?0:E.x,y:V===document.documentElement?0:E.y,width:V.clientWidth,height:V.clientHeight});return $?new Ke({x:Math.max($.left,L.left),y:Math.max($.top,L.top),width:Math.min($.right,L.right)-Math.max($.left,L.left),height:Math.min($.bottom,L.bottom)-Math.max($.top,L.top)}):L},void 0);p.x+=b,p.y+=b,p.width-=b*2,p.height-=b*2;let C={anchor:r.value,origin:s.value};function T($){const V=new Ke(y),E=ir($.anchor,h),L=ir($.origin,V);let{x:M,y:N}=rc(E,L);switch($.anchor.side){case"top":N-=c.value[0];break;case"bottom":N+=c.value[0];break;case"left":M-=c.value[0];break;case"right":M+=c.value[0];break}switch($.anchor.align){case"top":N-=c.value[1];break;case"bottom":N+=c.value[1];break;case"left":M-=c.value[1];break;case"right":M+=c.value[1];break}return V.x+=M,V.y+=N,V.width=Math.min(V.width,o.value),V.height=Math.min(V.height,u.value),{overflows:Va(V,p),x:M,y:N}}let S=0,O=0;const I={x:0,y:0},w={x:!1,y:!1};let k=-1;for(;!(k++>10);){const{x:$,y:V,overflows:E}=T(C);S+=$,O+=V,y.x+=$,y.y+=V;{const L=Ra(C.anchor),M=E.x.before||E.x.after,N=E.y.before||E.y.after;let G=!1;if(["x","y"].forEach(q=>{if(q==="x"&&M&&!w.x||q==="y"&&N&&!w.y){const P={anchor:{...C.anchor},origin:{...C.origin}},x=q==="x"?L==="y"?En:In:L==="y"?In:En;P.anchor=x(P.anchor),P.origin=x(P.origin);const{overflows:A}=T(P);(A[q].before<=E[q].before&&A[q].after<=E[q].after||A[q].before+A[q].after<(E[q].before+E[q].after)/2)&&(C=P,G=w[q]=!0)}}),G)continue}E.x.before&&(S+=E.x.before,y.x+=E.x.before),E.x.after&&(S-=E.x.after,y.x-=E.x.after),E.y.before&&(O+=E.y.before,y.y+=E.y.before),E.y.after&&(O-=E.y.after,y.y-=E.y.after);{const L=Va(y,p);I.x=p.width-L.x.before-L.x.after,I.y=p.height-L.y.before-L.y.after,S+=L.x.before,y.x+=L.x.before,O+=L.y.before,y.y+=L.y.before}break}const j=Ra(C.anchor);return Object.assign(t.value,{"--v-overlay-anchor-origin":`${C.anchor.side} ${C.anchor.align}`,transformOrigin:`${C.origin.side} ${C.origin.align}`,top:se(Dn(O)),left:e.isRtl.value?void 0:se(Dn(S)),right:e.isRtl.value?se(Dn(-S)):void 0,minWidth:se(j==="y"?Math.min(i.value,h.width):i.value),maxWidth:se(lr(Me(I.x,i.value===1/0?0:i.value,o.value))),maxHeight:se(lr(Me(I.y,l.value===1/0?0:l.value,u.value)))}),{available:I,contentBox:y}}return ae(()=>[r.value,s.value,n.offset,n.minWidth,n.minHeight,n.maxWidth,n.maxHeight],()=>m()),Pe(()=>{const h=m();if(!h)return;const{available:y,contentBox:g}=h;g.height>y.y&&requestAnimationFrame(()=>{m(),requestAnimationFrame(()=>{m()})})}),{updateLocation:m}}function Dn(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function lr(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Xn=!0;const ln=[];function cc(e){!Xn||ln.length?(ln.push(e),Zn()):(Xn=!1,e(),Zn())}let or=-1;function Zn(){cancelAnimationFrame(or),or=requestAnimationFrame(()=>{const e=ln.shift();e&&e(),ln.length?Zn():Xn=!0})}const Zt={none:null,close:hc,block:vc,reposition:gc},dc=F({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Zt}},"VOverlay-scroll-strategies");function fc(e,n){if(!xe)return;let t;Ne(async()=>{t==null||t.stop(),n.isActive.value&&e.scrollStrategy&&(t=br(),await new Promise(a=>setTimeout(a)),t.active&&t.run(()=>{var a;typeof e.scrollStrategy=="function"?e.scrollStrategy(n,e,t):(a=Zt[e.scrollStrategy])==null||a.call(Zt,n,e,t)}))}),Te(()=>{t==null||t.stop()})}function hc(e){function n(t){e.isActive.value=!1}Os(e.targetEl.value??e.contentEl.value,n)}function vc(e,n){var i;const t=(i=e.root.value)==null?void 0:i.offsetParent,a=[...new Set([...an(e.targetEl.value,n.contained?t:void 0),...an(e.contentEl.value,n.contained?t:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(l=>ca(l)&&l)(t||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((l,o)=>{l.style.setProperty("--v-body-scroll-x",se(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",se(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",se(r)),l.classList.add("v-overlay-scroll-blocked")}),Te(()=>{a.forEach((l,o)=>{const u=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),d=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-u,l.scrollTop=-c,l.style.scrollBehavior=d}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function gc(e,n,t){let a=!1,r=-1,s=-1;function i(l){cc(()=>{var c,d;const o=performance.now();(d=(c=e.updateLocation).value)==null||d.call(c,l),a=(performance.now()-o)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?l=>l():requestIdleCallback)(()=>{t.run(()=>{Os(e.targetEl.value??e.contentEl.value,l=>{a?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{i(l)})})):i(l)})})}),Te(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function Os(e,n){const t=[document,...an(e)];t.forEach(a=>{a.addEventListener("scroll",n,{passive:!0})}),Te(()=>{t.forEach(a=>{a.removeEventListener("scroll",n)})})}const ea=Symbol.for("vuetify:v-menu"),mc=F({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function yc(e,n){let t=()=>{};function a(i){t==null||t();const l=Number(i?e.openDelay:e.closeDelay);return new Promise(o=>{t=Ai(l,()=>{n==null||n(i),o(i)})})}function r(){return a(!0)}function s(){return a(!1)}return{clearDelay:t,runOpenDelay:r,runCloseDelay:s}}const bc=F({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...mc()},"VOverlay-activator");function pc(e,n){let{isActive:t,isTop:a,contentEl:r}=n;const s=Ve("useActivator"),i=U();let l=!1,o=!1,u=!0;const c=_(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=_(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:f,runCloseDelay:m}=yc(e,w=>{w===(e.openOnHover&&l||c.value&&o)&&!(e.openOnHover&&t.value&&!a.value)&&(t.value!==w&&(u=!0),t.value=w)}),h=U(),y={onClick:w=>{w.stopPropagation(),i.value=w.currentTarget||w.target,t.value||(h.value=[w.clientX,w.clientY]),t.value=!t.value},onMouseenter:w=>{var k;(k=w.sourceCapabilities)!=null&&k.firesTouchEvents||(l=!0,i.value=w.currentTarget||w.target,f())},onMouseleave:w=>{l=!1,m()},onFocus:w=>{en(w.target,":focus-visible")!==!1&&(o=!0,w.stopPropagation(),i.value=w.currentTarget||w.target,f())},onBlur:w=>{o=!1,w.stopPropagation(),m()}},g=_(()=>{const w={};return d.value&&(w.onClick=y.onClick),e.openOnHover&&(w.onMouseenter=y.onMouseenter,w.onMouseleave=y.onMouseleave),c.value&&(w.onFocus=y.onFocus,w.onBlur=y.onBlur),w}),b=_(()=>{const w={};if(e.openOnHover&&(w.onMouseenter=()=>{l=!0,f()},w.onMouseleave=()=>{l=!1,m()}),c.value&&(w.onFocusin=()=>{o=!0,f()},w.onFocusout=()=>{o=!1,m()}),e.closeOnContentClick){const k=ge(ea,null);w.onClick=()=>{t.value=!1,k==null||k.closeParents()}}return w}),p=_(()=>{const w={};return e.openOnHover&&(w.onMouseenter=()=>{u&&(l=!0,u=!1,f())},w.onMouseleave=()=>{l=!1,m()}),w});ae(a,w=>{var k;w&&(e.openOnHover&&!l&&(!c.value||!o)||c.value&&!o&&(!e.openOnHover||!l))&&!((k=r.value)!=null&&k.contains(document.activeElement))&&(t.value=!1)}),ae(t,w=>{w||setTimeout(()=>{h.value=void 0})},{flush:"post"});const C=Ca();Ne(()=>{C.value&&Pe(()=>{i.value=C.el})});const T=Ca(),S=_(()=>e.target==="cursor"&&h.value?h.value:T.value?T.el:$s(e.target,s)||i.value),O=_(()=>Array.isArray(S.value)?void 0:S.value);let I;return ae(()=>!!e.activator,w=>{w&&xe?(I=br(),I.run(()=>{_c(e,s,{activatorEl:i,activatorEvents:g})})):I&&I.stop()},{flush:"post",immediate:!0}),Te(()=>{I==null||I.stop()}),{activatorEl:i,activatorRef:C,target:S,targetEl:O,targetRef:T,activatorEvents:g,contentEvents:b,scrimEvents:p}}function _c(e,n,t){let{activatorEl:a,activatorEvents:r}=t;ae(()=>e.activator,(o,u)=>{if(u&&o!==u){const c=l(u);c&&i(c)}o&&Pe(()=>s())},{immediate:!0}),ae(()=>e.activatorProps,()=>{s()}),Te(()=>{i()});function s(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;o&&Zi(o,H(r.value,u))}function i(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;o&&el(o,H(r.value,u))}function l(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=$s(o,n);return a.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,a.value}}function $s(e,n){var a,r;if(!e)return;let t;if(e==="parent"){let s=(r=(a=n==null?void 0:n.proxy)==null?void 0:a.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;t=s}else typeof e=="string"?t=document.querySelector(e):"$el"in e?t=e.$el:t=e;return t}function wc(){if(!xe)return ne(!1);const{ssr:e}=Qe();if(e){const n=ne(!1);return vn(()=>{n.value=!0}),n}else return ne(!0)}const Sc=F({eager:Boolean},"lazy");function kc(e,n){const t=ne(!1),a=_(()=>t.value||e.eager||n.value);ae(n,()=>t.value=!0);function r(){e.eager||(t.value=!1)}return{isBooted:t,hasContent:a,onAfterLeave:r}}function Rs(){const n=Ve("useScopeId").vnode.scopeId;return{scopeId:n?{[n]:""}:void 0}}const ur=Symbol.for("vuetify:stack"),yt=pr([]);function Pc(e,n,t){const a=Ve("useStack"),r=!t,s=ge(ur,void 0),i=pr({activeChildren:new Set});pe(ur,i);const l=ne(+n.value);ot(e,()=>{var d;const c=(d=yt.at(-1))==null?void 0:d[1];l.value=c?c+10:+n.value,r&&yt.push([a.uid,l.value]),s==null||s.activeChildren.add(a.uid),Te(()=>{if(r){const f=de(yt).findIndex(m=>m[0]===a.uid);yt.splice(f,1)}s==null||s.activeChildren.delete(a.uid)})});const o=ne(!0);r&&Ne(()=>{var d;const c=((d=yt.at(-1))==null?void 0:d[0])===a.uid;setTimeout(()=>o.value=c)});const u=_(()=>!i.activeChildren.size);return{globalTop:Ii(o),localTop:u,stackStyles:_(()=>({zIndex:l.value}))}}function xc(e){return{teleportTarget:_(()=>{const t=e();if(t===!0||!xe)return;const a=t===!1?document.body:typeof t=="string"?document.querySelector(t):t;if(a==null)return;let r=[...a.children].find(s=>s.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",a.appendChild(r)),r})}}function Cc(){return!0}function Vs(e,n,t){if(!e||Ls(e,t)===!1)return!1;const a=Er(n);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const r=(typeof t.value=="object"&&t.value.include||(()=>[]))();return r.push(n),!r.some(s=>s==null?void 0:s.contains(e.target))}function Ls(e,n){return(typeof n.value=="object"&&n.value.closeConditional||Cc)(e)}function Tc(e,n,t){const a=typeof t.value=="function"?t.value:t.value.handler;e.shadowTarget=e.target,n._clickOutside.lastMousedownWasOutside&&Vs(e,n,t)&&setTimeout(()=>{Ls(e,t)&&a&&a(e)},0)}function cr(e,n){const t=Er(e);n(document),typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&n(t)}const Ac={mounted(e,n){const t=r=>Tc(r,e,n),a=r=>{e._clickOutside.lastMousedownWasOutside=Vs(r,e,n)};cr(e,r=>{r.addEventListener("click",t,!0),r.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[n.instance.$.uid]={onClick:t,onMousedown:a}},beforeUnmount(e,n){e._clickOutside&&(cr(e,t=>{var s;if(!t||!((s=e._clickOutside)!=null&&s[n.instance.$.uid]))return;const{onClick:a,onMousedown:r}=e._clickOutside[n.instance.$.uid];t.removeEventListener("click",a,!0),t.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[n.instance.$.uid])}};function Ic(e){const{modelValue:n,color:t,...a}=e;return v(St,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&v("div",H({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const js=F({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...bc(),...ie(),...Ot(),...Sc(),...sc(),...dc(),...we(),...bn()},"VOverlay"),dr=K()({name:"VOverlay",directives:{ClickOutside:Ac},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...js()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{slots:t,attrs:a,emit:r}=n;const s=Ve("VOverlay"),i=U(),l=U(),o=U(),u=ue(e,"modelValue"),c=_({get:()=>u.value,set:B=>{B&&e.disabled||(u.value=B)}}),{themeClasses:d}=$e(e),{rtlClasses:f,isRtl:m}=ct(),{hasContent:h,onAfterLeave:y}=kc(e,c),g=Dt(_(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:b,localTop:p,stackStyles:C}=Pc(c,D(e,"zIndex"),e._disableGlobalStack),{activatorEl:T,activatorRef:S,target:O,targetEl:I,targetRef:w,activatorEvents:k,contentEvents:j,scrimEvents:$}=pc(e,{isActive:c,isTop:p,contentEl:o}),{teleportTarget:V}=xc(()=>{var le,me,te;const B=e.attach||e.contained;if(B)return B;const Q=((le=T==null?void 0:T.value)==null?void 0:le.getRootNode())||((te=(me=s.proxy)==null?void 0:me.$el)==null?void 0:te.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:E}=$t(e),L=wc(),{scopeId:M}=Rs();ae(()=>e.disabled,B=>{B&&(c.value=!1)});const{contentStyles:N,updateLocation:G}=ic(e,{isRtl:m,contentEl:o,target:O,isActive:c});fc(e,{root:i,contentEl:o,targetEl:I,isActive:c,updateLocation:G});function q(B){r("click:outside",B),e.persistent?J():c.value=!1}function P(B){return c.value&&b.value&&(!e.scrim||B.target===l.value||B instanceof MouseEvent&&B.shadowTarget===l.value)}xe&&ae(c,B=>{B?window.addEventListener("keydown",x):window.removeEventListener("keydown",x)},{immediate:!0}),Et(()=>{xe&&window.removeEventListener("keydown",x)});function x(B){var Q,le;B.key==="Escape"&&b.value&&(e.persistent?J():(c.value=!1,(Q=o.value)!=null&&Q.contains(document.activeElement)&&((le=T.value)==null||le.focus())))}const A=Qi();ot(()=>e.closeOnBack,()=>{Yi(A,B=>{b.value&&c.value?(B(!1),e.persistent?J():c.value=!1):B()})});const R=U();ae(()=>c.value&&(e.absolute||e.contained)&&V.value==null,B=>{if(B){const Q=Or(i.value);Q&&Q!==document.scrollingElement&&(R.value=Q.scrollTop)}});function J(){e.noClickAnimation||o.value&&st(o.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:nn})}function z(){r("afterEnter")}function X(){y(),r("afterLeave")}return Z(()=>{var B;return v(oe,null,[(B=t.activator)==null?void 0:B.call(t,{isActive:c.value,targetRef:w,props:H({ref:S},k.value,e.activatorProps)}),L.value&&h.value&&v(Ei,{disabled:!V.value,to:V.value},{default:()=>[v("div",H({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},d.value,f.value,e.class],style:[C.value,{"--v-overlay-opacity":e.opacity,top:se(R.value)},e.style],ref:i},M,a),[v(Ic,H({color:g,modelValue:c.value&&!!e.scrim,ref:l},$.value),null),v(pn,{appear:!0,persisted:!0,transition:e.transition,target:O.value,onAfterEnter:z,onAfterLeave:X},{default:()=>{var Q;return[Re(v("div",H({ref:o,class:["v-overlay__content",e.contentClass],style:[E.value,N.value]},j.value,e.contentProps),[(Q=t.default)==null?void 0:Q.call(t,{isActive:c})]),[[Rt,c.value],[At("click-outside"),{handler:q,closeConditional:P,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,scrimEl:l,target:O,animateClick:J,contentEl:o,globalTop:b,localTop:p,updateLocation:G}}}),Bn=Symbol("Forwarded refs");function Fn(e,n){let t=e;for(;t;){const a=Reflect.getOwnPropertyDescriptor(t,n);if(a)return a;t=Object.getPrototypeOf(t)}}function _a(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return e[Bn]=t,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const i of t)if(i.value&&Reflect.has(i.value,s)){const l=Reflect.get(i.value,s);return typeof l=="function"?l.bind(i.value):l}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const i of t)if(i.value&&Reflect.has(i.value,s))return!0;return!1},set(r,s,i){if(Reflect.has(r,s))return Reflect.set(r,s,i);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const l of t)if(l.value&&Reflect.has(l.value,s))return Reflect.set(l.value,s,i);return!1},getOwnPropertyDescriptor(r,s){var l;const i=Reflect.getOwnPropertyDescriptor(r,s);if(i)return i;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of t){if(!o.value)continue;const u=Fn(o.value,s)??("_"in o.value?Fn((l=o.value._)==null?void 0:l.setupState,s):void 0);if(u)return u}for(const o of t){const u=o.value&&o.value[Bn];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),f=Fn(d.value,s);if(f)return f;const m=d.value&&d.value[Bn];m&&c.push(...m)}}}}})}const Ec=F({id:String,submenu:Boolean,...It(js({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ns}}),["absolute"])},"VMenu"),Oc=K()({name:"VMenu",props:Ec(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=ue(e,"modelValue"),{scopeId:r}=Rs(),{isRtl:s}=ct(),i=Ye(),l=_(()=>e.id||`v-menu-${i}`),o=U(),u=ge(ea,null),c=ne(new Set);pe(ea,{register(){c.value.add(i)},unregister(){c.value.delete(i)},closeParents(g){setTimeout(()=>{var b;!c.value.size&&!e.persistent&&(g==null||(b=o.value)!=null&&b.contentEl&&!Oi(g,o.value.contentEl))&&(a.value=!1,u==null||u.closeParents())},40)}}),Et(()=>u==null?void 0:u.unregister()),$i(()=>a.value=!1);async function d(g){var C,T,S;const b=g.relatedTarget,p=g.target;await Pe(),a.value&&b!==p&&((C=o.value)!=null&&C.contentEl)&&((T=o.value)!=null&&T.globalTop)&&![document,o.value.contentEl].includes(p)&&!o.value.contentEl.contains(p)&&((S=Nn(o.value.contentEl)[0])==null||S.focus())}ae(a,g=>{g?(u==null||u.register(),document.addEventListener("focusin",d,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",d))});function f(g){u==null||u.closeParents(g)}function m(g){var b,p,C,T,S;if(!e.disabled)if(g.key==="Tab"||g.key==="Enter"&&!e.closeOnContentClick){if(g.key==="Enter"&&(g.target instanceof HTMLTextAreaElement||g.target instanceof HTMLInputElement&&g.target.closest("form")))return;g.key==="Enter"&&g.preventDefault(),Ri(Nn((b=o.value)==null?void 0:b.contentEl,!1),g.shiftKey?"prev":"next",I=>I.tabIndex>=0)||(a.value=!1,(C=(p=o.value)==null?void 0:p.activatorEl)==null||C.focus())}else e.submenu&&g.key===(s.value?"ArrowRight":"ArrowLeft")&&(a.value=!1,(S=(T=o.value)==null?void 0:T.activatorEl)==null||S.focus())}function h(g){var p;if(e.disabled)return;const b=(p=o.value)==null?void 0:p.contentEl;b&&a.value?g.key==="ArrowDown"?(g.preventDefault(),g.stopImmediatePropagation(),Yt(b,"next")):g.key==="ArrowUp"?(g.preventDefault(),g.stopImmediatePropagation(),Yt(b,"prev")):e.submenu&&(g.key===(s.value?"ArrowRight":"ArrowLeft")?a.value=!1:g.key===(s.value?"ArrowLeft":"ArrowRight")&&(g.preventDefault(),Yt(b,"first"))):(e.submenu?g.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(g.key))&&(a.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>h(g))))}const y=_(()=>H({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":l.value,onKeydown:h},e.activatorProps));return Z(()=>{const g=dr.filterProps(e);return v(dr,H({ref:o,id:l.value,class:["v-menu",e.class],style:e.style},g,{modelValue:a.value,"onUpdate:modelValue":b=>a.value=b,absolute:!0,activatorProps:y.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:m},r),{activator:t.activator,default:function(){for(var b=arguments.length,p=new Array(b),C=0;C<b;C++)p[C]=arguments[C];return v(Ee,{root:"VMenu"},{default:()=>{var T;return[(T=t.default)==null?void 0:T.call(t,...p)]}})}})}),_a({id:l,ΨopenChildren:c},o)}}),$c=F({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ie(),...bn({transition:{component:as}})},"VCounter"),Rc=K()({name:"VCounter",functional:!0,props:$c(),setup(e,n){let{slots:t}=n;const a=_(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Z(()=>v(pn,{transition:e.transition},{default:()=>[Re(v("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[t.default?t.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[Rt,e.active]])]})),{}}}),Vc=F({floating:Boolean,...ie()},"VFieldLabel"),Qt=K()({name:"VFieldLabel",props:Vc(),setup(e,n){let{slots:t}=n;return Z(()=>v(ss,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),Lc=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ds=F({appendInnerIcon:ee,bgColor:String,clearable:Boolean,clearIcon:{type:ee,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ee,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Lc.includes(e)},"onClick:clear":fe(),"onClick:appendInner":fe(),"onClick:prependInner":fe(),...ie(),...Cr(),...dt(),...we()},"VField"),Bs=K()({name:"VField",inheritAttrs:!1,props:{id:String,...cs(),...Ds()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:r}=n;const{themeClasses:s}=$e(e),{loaderClasses:i}=Tr(e),{focusClasses:l,isFocused:o,focus:u,blur:c}=ds(e),{InputIcon:d}=us(e),{roundedClasses:f}=Lt(e),{rtlClasses:m}=ct(),h=_(()=>e.dirty||e.active),y=_(()=>!e.singleLine&&!!(e.label||r.label)),g=Ye(),b=_(()=>e.id||`input-${g}`),p=_(()=>`${b.value}-messages`),C=U(),T=U(),S=U(),O=_(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:I,backgroundColorStyles:w}=Dt(D(e,"bgColor")),{textColorClasses:k,textColorStyles:j}=jt(_(()=>e.error||e.disabled?void 0:h.value&&o.value?e.color:e.baseColor));ae(h,L=>{if(y.value){const M=C.value.$el,N=T.value.$el;requestAnimationFrame(()=>{const G=ua(M),q=N.getBoundingClientRect(),P=q.x-G.x,x=q.y-G.y-(G.height/2-q.height/2),A=q.width/.75,R=Math.abs(A-G.width)>1?{maxWidth:se(A)}:void 0,J=getComputedStyle(M),z=getComputedStyle(N),X=parseFloat(J.transitionDuration)*1e3||150,B=parseFloat(z.getPropertyValue("--v-field-label-scale")),Q=z.getPropertyValue("color");M.style.visibility="visible",N.style.visibility="hidden",st(M,{transform:`translate(${P}px, ${x}px) scale(${B})`,color:Q,...R},{duration:X,easing:nn,direction:L?"normal":"reverse"}).finished.then(()=>{M.style.removeProperty("visibility"),N.style.removeProperty("visibility")})})}},{flush:"post"});const $=_(()=>({isActive:h,isFocused:o,controlRef:S,blur:c,focus:u}));function V(L){L.target!==document.activeElement&&L.preventDefault()}function E(L){var M;L.key!=="Enter"&&L.key!==" "||(L.preventDefault(),L.stopPropagation(),(M=e["onClick:clear"])==null||M.call(e,new MouseEvent("click")))}return Z(()=>{var P,x,A;const L=e.variant==="outlined",M=!!(r["prepend-inner"]||e.prependInnerIcon),N=!!(e.clearable||r.clear),G=!!(r["append-inner"]||e.appendInnerIcon||N),q=()=>r.label?r.label({...$.value,label:e.label,props:{for:b.value}}):e.label;return v("div",H({class:["v-field",{"v-field--active":h.value,"v-field--appended":G,"v-field--center-affix":e.centerAffix??!O.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":M,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!q(),[`v-field--variant-${e.variant}`]:!0},s.value,I.value,l.value,i.value,f.value,m.value,e.class],style:[w.value,e.style],onClick:V},t),[v("div",{class:"v-field__overlay"},null),v(Ar,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),M&&v("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&v(d,{key:"prepend-icon",name:"prependInner"},null),(P=r["prepend-inner"])==null?void 0:P.call(r,$.value)]),v("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&y.value&&v(Qt,{key:"floating-label",ref:T,class:[k.value],floating:!0,for:b.value,style:j.value},{default:()=>[q()]}),v(Qt,{ref:C,for:b.value},{default:()=>[q()]}),(x=r.default)==null?void 0:x.call(r,{...$.value,props:{id:b.value,class:"v-field__input","aria-describedby":p.value},focus:u,blur:c})]),N&&v(rs,{key:"clear"},{default:()=>[Re(v("div",{class:"v-field__clearable",onMousedown:R=>{R.preventDefault(),R.stopPropagation()}},[v(Ee,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...$.value,props:{onKeydown:E,onFocus:u,onBlur:c,onClick:e["onClick:clear"]}}):v(d,{name:"clear",onKeydown:E,onFocus:u,onBlur:c},null)]})]),[[Rt,e.dirty]])]}),G&&v("div",{key:"append",class:"v-field__append-inner"},[(A=r["append-inner"])==null?void 0:A.call(r,$.value),e.appendInnerIcon&&v(d,{key:"append-icon",name:"appendInner"},null)]),v("div",{class:["v-field__outline",k.value],style:j.value},[L&&v(oe,null,[v("div",{class:"v-field__outline__start"},null),y.value&&v("div",{class:"v-field__outline__notch"},[v(Qt,{ref:T,floating:!0,for:b.value},{default:()=>[q()]})]),v("div",{class:"v-field__outline__end"},null)]),O.value&&y.value&&v(Qt,{ref:T,floating:!0,for:b.value},{default:()=>[q()]})])])}),{controlRef:S}}});function jc(e){const n=Object.keys(Bs.props).filter(t=>!hn(t)&&t!=="class"&&t!=="style");return Vi(e,n)}const Dc=["color","file","time","date","datetime-local","week","month"],Fs=F({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...hs(),...Ds()},"VTextField"),ta=K()({name:"VTextField",directives:{Intersect:Wi},inheritAttrs:!1,props:Fs(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:r}=n;const s=ue(e,"modelValue"),{isFocused:i,focus:l,blur:o}=ds(e),u=_(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),c=_(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=_(()=>["plain","underlined"].includes(e.variant));function f(O,I){var w,k;!e.autofocus||!O||(k=(w=I[0].target)==null?void 0:w.focus)==null||k.call(w)}const m=U(),h=U(),y=U(),g=_(()=>Dc.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function b(){var O;y.value!==document.activeElement&&((O=y.value)==null||O.focus()),i.value||l()}function p(O){a("mousedown:control",O),O.target!==y.value&&(b(),O.preventDefault())}function C(O){b(),a("click:control",O)}function T(O){O.stopPropagation(),b(),Pe(()=>{s.value=null,ji(e["onClick:clear"],O)})}function S(O){var w;const I=O.target;if(s.value=I.value,(w=e.modelModifiers)!=null&&w.trim&&["text","search","password","tel","url"].includes(e.type)){const k=[I.selectionStart,I.selectionEnd];Pe(()=>{I.selectionStart=k[0],I.selectionEnd=k[1]})}}return Z(()=>{const O=!!(r.counter||e.counter!==!1&&e.counter!=null),I=!!(O||r.details),[w,k]=mr(t),{modelValue:j,...$}=nr.filterProps(e),V=jc(e);return v(nr,H({ref:m,modelValue:s.value,"onUpdate:modelValue":E=>s.value=E,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},w,$,{centerAffix:!d.value,focused:i.value}),{...r,default:E=>{let{id:L,isDisabled:M,isDirty:N,isReadonly:G,isValid:q}=E;return v(Bs,H({ref:h,onMousedown:p,onClick:C,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},V,{id:L.value,active:g.value||N.value,dirty:N.value||e.dirty,disabled:M.value,focused:i.value,error:q.value===!1}),{...r,default:P=>{let{props:{class:x,...A}}=P;const R=Re(v("input",H({ref:y,value:s.value,onInput:S,autofocus:e.autofocus,readonly:G.value,disabled:M.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:b,onBlur:o},A,k),null),[[At("intersect"),{handler:f},null,{once:!0}]]);return v(oe,null,[e.prefix&&v("span",{class:"v-text-field__prefix"},[v("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?v("div",{class:x,"data-no-activator":""},[r.default(),R]):Li(R,{class:x}),e.suffix&&v("span",{class:"v-text-field__suffix"},[v("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:I?E=>{var L;return v(oe,null,[(L=r.details)==null?void 0:L.call(r,E),O&&v(oe,null,[v("span",null,null),v(Rc,{active:e.persistentCounter||i.value,value:u.value,max:c.value,disabled:e.disabled},r.counter)])])}:void 0})}),_a({},m,h,y)}}),Bc=F({renderless:Boolean,...ie()},"VVirtualScrollItem"),Fc=K()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Bc(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:r}=n;const{resizeRef:s,contentRect:i}=wt(void 0,"border");ae(()=>{var l;return(l=i.value)==null?void 0:l.height},l=>{l!=null&&a("update:height",l)}),Z(()=>{var l,o;return e.renderless?v(oe,null,[(l=r.default)==null?void 0:l.call(r,{itemRef:s})]):v("div",H({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(o=r.default)==null?void 0:o.call(r)])})}}),Mc=-1,Nc=1,Mn=100,Uc=F({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function zc(e,n){const t=Qe(),a=ne(0);Ne(()=>{a.value=parseFloat(e.itemHeight||0)});const r=ne(0),s=ne(Math.ceil((parseInt(e.height)||t.height.value)/(a.value||16))||1),i=ne(0),l=ne(0),o=U(),u=U();let c=0;const{resizeRef:d,contentRect:f}=wt();Ne(()=>{d.value=o.value});const m=_(()=>{var P;return o.value===document.documentElement?t.height.value:((P=f.value)==null?void 0:P.height)||parseInt(e.height)||0}),h=_(()=>!!(o.value&&u.value&&m.value&&a.value));let y=Array.from({length:n.value.length}),g=Array.from({length:n.value.length});const b=ne(0);let p=-1;function C(P){return y[P]||a.value}const T=Di(()=>{const P=performance.now();g[0]=0;const x=n.value.length;for(let A=1;A<=x-1;A++)g[A]=(g[A-1]||0)+C(A-1);b.value=Math.max(b.value,performance.now()-P)},b),S=ae(h,P=>{P&&(S(),c=u.value.offsetTop,T.immediate(),M(),~p&&Pe(()=>{xe&&window.requestAnimationFrame(()=>{G(p),p=-1})}))});Te(()=>{T.clear()});function O(P,x){const A=y[P],R=a.value;a.value=R?Math.min(a.value,x):x,(A!==x||R!==a.value)&&(y[P]=x,T())}function I(P){return P=Me(P,0,n.value.length-1),g[P]||0}function w(P){return Hc(g,P)}let k=0,j=0,$=0;ae(m,(P,x)=>{x&&(M(),P<x&&requestAnimationFrame(()=>{j=0,M()}))});function V(){if(!o.value||!u.value)return;const P=o.value.scrollTop,x=performance.now();x-$>500?(j=Math.sign(P-k),c=u.value.offsetTop):j=P-k,k=P,$=x,M()}function E(){!o.value||!u.value||(j=0,$=0,M())}let L=-1;function M(){cancelAnimationFrame(L),L=requestAnimationFrame(N)}function N(){if(!o.value||!m.value)return;const P=k-c,x=Math.sign(j),A=Math.max(0,P-Mn),R=Me(w(A),0,n.value.length),J=P+m.value+Mn,z=Me(w(J)+1,R+1,n.value.length);if((x!==Mc||R<r.value)&&(x!==Nc||z>s.value)){const X=I(r.value)-I(R),B=I(z)-I(s.value);Math.max(X,B)>Mn?(r.value=R,s.value=z):(R<=0&&(r.value=R),z>=n.value.length&&(s.value=z))}i.value=I(r.value),l.value=I(n.value.length)-I(s.value)}function G(P){const x=I(P);!o.value||P&&!x?p=P:o.value.scrollTop=x}const q=_(()=>n.value.slice(r.value,s.value).map((P,x)=>({raw:P,index:x+r.value})));return ae(n,()=>{y=Array.from({length:n.value.length}),g=Array.from({length:n.value.length}),T.immediate(),M()},{deep:!0}),{calculateVisibleItems:M,containerRef:o,markerRef:u,computedItems:q,paddingTop:i,paddingBottom:l,scrollToIndex:G,handleScroll:V,handleScrollend:E,handleItemResize:O}}function Hc(e,n){let t=e.length-1,a=0,r=0,s=null,i=-1;if(e[t]<n)return t;for(;a<=t;)if(r=a+t>>1,s=e[r],s>n)t=r-1;else if(s<n)i=r,a=r+1;else return s===n?r:a;return i}const qc=F({items:{type:Array,default:()=>[]},renderless:Boolean,...Uc(),...ie(),...Ot()},"VVirtualScroll"),Gc=K()({name:"VVirtualScroll",props:qc(),setup(e,n){let{slots:t}=n;const a=Ve("VVirtualScroll"),{dimensionStyles:r}=$t(e),{calculateVisibleItems:s,containerRef:i,markerRef:l,handleScroll:o,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:f,paddingBottom:m,computedItems:h}=zc(e,D(e,"items"));return ot(()=>e.renderless,()=>{function y(){var p,C;const b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[b]("scroll",o,{passive:!0}),document[b]("scrollend",u)):((p=i.value)==null||p[b]("scroll",o,{passive:!0}),(C=i.value)==null||C[b]("scrollend",u))}vn(()=>{i.value=Or(a.vnode.el,!0),y(!0)}),Te(y)}),Z(()=>{const y=h.value.map(g=>v(Fc,{key:g.index,renderless:e.renderless,"onUpdate:height":b=>c(g.index,b)},{default:b=>{var p;return(p=t.default)==null?void 0:p.call(t,{item:g.raw,index:g.index,...b})}}));return e.renderless?v(oe,null,[v("div",{ref:l,class:"v-virtual-scroll__spacer",style:{paddingTop:se(f.value)}},null),y,v("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:se(m.value)}},null)]):v("div",{ref:i,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:u,style:[r.value,e.style]},[v("div",{ref:l,class:"v-virtual-scroll__container",style:{paddingTop:se(f.value),paddingBottom:se(m.value)}},[y])])}),{calculateVisibleItems:s,scrollToIndex:d}}});function Wc(e,n){const t=ne(!1);let a;function r(l){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function s(){await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>{if(t.value){const o=ae(t,()=>{o(),l()})}else l()})}async function i(l){var c,d;if(l.key==="Tab"&&((c=n.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(l.key))return;const o=(d=e.value)==null?void 0:d.$el;if(!o)return;(l.key==="Home"||l.key==="End")&&o.scrollTo({top:l.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await s();const u=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(l.key==="PageDown"||l.key==="Home"){const f=o.getBoundingClientRect().top;for(const m of u)if(m.getBoundingClientRect().top>=f){m.focus();break}}else{const f=o.getBoundingClientRect().bottom;for(const m of[...u].reverse())if(m.getBoundingClientRect().bottom<=f){m.focus();break}}}return{onScrollPassive:r,onKeydown:i}}const Kc=F({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ee,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Ts({itemChildren:!1})},"Select"),Jc=F({...Kc(),...It(Fs({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...bn({transition:{component:ns}})},"VSelect"),Ms=K()({name:"VSelect",props:Jc(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:a}=Ue(),r=U(),s=U(),i=U(),l=ue(e,"menu"),o=_({get:()=>l.value,set:P=>{var x;l.value&&!P&&((x=s.value)!=null&&x.ΨopenChildren.size)||(l.value=P)}}),{items:u,transformIn:c,transformOut:d}=Xu(e),f=ue(e,"modelValue",[],P=>c(P===null?[null]:ve(P)),P=>{const x=d(P);return e.multiple?x:x[0]??null}),m=_(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),h=fs(),y=_(()=>f.value.map(P=>P.value)),g=ne(!1),b=_(()=>o.value?e.closeText:e.openText);let p="",C;const T=_(()=>e.hideSelected?u.value.filter(P=>!f.value.some(x=>e.valueComparator(x,P))):u.value),S=_(()=>e.hideNoData&&!T.value.length||e.readonly||(h==null?void 0:h.isReadonly.value)),O=_(()=>{var P;return{...e.menuProps,activatorProps:{...((P=e.menuProps)==null?void 0:P.activatorProps)||{},"aria-haspopup":"listbox"}}}),I=U(),w=Wc(I,r);function k(P){e.openOnClear&&(o.value=!0)}function j(){S.value||(o.value=!o.value)}function $(P){Ta(P)&&V(P)}function V(P){var J,z;if(!P.key||e.readonly||h!=null&&h.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(P.key)&&P.preventDefault(),["Enter","ArrowDown"," "].includes(P.key)&&(o.value=!0),["Escape","Tab"].includes(P.key)&&(o.value=!1),P.key==="Home"?(J=I.value)==null||J.focus("first"):P.key==="End"&&((z=I.value)==null||z.focus("last"));const x=1e3;if(e.multiple||!Ta(P))return;const A=performance.now();A-C>x&&(p=""),p+=P.key.toLowerCase(),C=A;const R=u.value.find(X=>X.title.toLowerCase().startsWith(p));if(R!==void 0){f.value=[R];const X=T.value.indexOf(R);xe&&window.requestAnimationFrame(()=>{var B;X>=0&&((B=i.value)==null||B.scrollToIndex(X))})}}function E(P){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!P.props.disabled)if(e.multiple){const A=f.value.findIndex(J=>e.valueComparator(J.value,P.value)),R=x??!~A;if(~A){const J=R?[...f.value,P]:[...f.value];J.splice(A,1),f.value=J}else R&&(f.value=[...f.value,P])}else{const A=x!==!1;f.value=A?[P]:[],Pe(()=>{o.value=!1})}}function L(P){var x;(x=I.value)!=null&&x.$el.contains(P.relatedTarget)||(o.value=!1)}function M(){var P;e.eager&&((P=i.value)==null||P.calculateVisibleItems())}function N(){var P;g.value&&((P=r.value)==null||P.focus())}function G(P){g.value=!0}function q(P){if(P==null)f.value=[];else if(en(r.value,":autofill")||en(r.value,":-webkit-autofill")){const x=u.value.find(A=>A.title===P);x&&E(x)}else r.value&&(r.value.value="")}return ae(o,()=>{if(!e.hideSelected&&o.value&&f.value.length){const P=T.value.findIndex(x=>f.value.some(A=>e.valueComparator(A.value,x.value)));xe&&window.requestAnimationFrame(()=>{var x;P>=0&&((x=i.value)==null||x.scrollToIndex(P))})}}),ae(()=>e.items,(P,x)=>{o.value||g.value&&!x.length&&P.length&&(o.value=!0)}),Z(()=>{const P=!!(e.chips||t.chip),x=!!(!e.hideNoData||T.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),A=f.value.length>0,R=ta.filterProps(e),J=A||!g.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return v(ta,H({ref:r},R,{modelValue:f.value.map(z=>z.props.value).join(", "),"onUpdate:modelValue":q,focused:g.value,"onUpdate:focused":z=>g.value=z,validationValue:f.externalValue,counterValue:m.value,dirty:A,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:J,"onClick:clear":k,"onMousedown:control":j,onBlur:L,onKeydown:V,"aria-label":a(b.value),title:a(b.value)}),{...t,default:()=>v(oe,null,[v(Oc,H({ref:s,modelValue:o.value,"onUpdate:modelValue":z=>o.value=z,activator:"parent",contentClass:"v-select__content",disabled:S.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:M,onAfterLeave:N},O.value),{default:()=>[x&&v(ac,H({ref:I,selected:y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:z=>z.preventDefault(),onKeydown:$,onFocusin:G,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},w,e.listProps),{default:()=>{var z,X,B;return[(z=t["prepend-item"])==null?void 0:z.call(t),!T.value.length&&!e.hideNoData&&(((X=t["no-data"])==null?void 0:X.call(t))??v(sn,{title:a(e.noDataText)},null)),v(Gc,{ref:i,renderless:!0,items:T.value},{default:Q=>{var vt;let{item:le,index:me,itemRef:te}=Q;const Le=H(le.props,{ref:te,key:me,onClick:()=>E(le,null)});return((vt=t.item)==null?void 0:vt.call(t,{item:le,index:me,props:Le}))??v(sn,H(Le,{role:"option"}),{prepend:Nt=>{let{isSelected:Ut}=Nt;return v(oe,null,[e.multiple&&!e.hideSelected?v(Cn,{key:le.value,modelValue:Ut,ripple:!1,tabindex:"-1"},null):void 0,le.props.prependAvatar&&v(Pt,{image:le.props.prependAvatar},null),le.props.prependIcon&&v(he,{icon:le.props.prependIcon},null)])}})}}),(B=t["append-item"])==null?void 0:B.call(t)]}})]}),f.value.map((z,X)=>{function B(te){te.stopPropagation(),te.preventDefault(),E(z,!1)}const Q={"onClick:close":B,onKeydown(te){te.key!=="Enter"&&te.key!==" "||(te.preventDefault(),te.stopPropagation(),B(te))},onMousedown(te){te.preventDefault(),te.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},le=P?!!t.chip:!!t.selection,me=le?Bi(P?t.chip({item:z,index:X,props:Q}):t.selection({item:z,index:X})):void 0;if(!(le&&!me))return v("div",{key:z.value,class:"v-select__selection"},[P?t.chip?v(Ee,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:z.title}}},{default:()=>[me]}):v(bs,H({key:"chip",closable:e.closableChips,size:"small",text:z.title,disabled:z.props.disabled},Q),null):me??v("span",{class:"v-select__selection-text"},[z.title,e.multiple&&X<f.value.length-1&&v("span",{class:"v-select__selection-comma"},[Un(",")])])])})]),"append-inner":function(){var Q;for(var z=arguments.length,X=new Array(z),B=0;B<z;B++)X[B]=arguments[B];return v(oe,null,[(Q=t["append-inner"])==null?void 0:Q.call(t,...X),e.menuIcon?v(he,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),_a({isFocused:g,menu:o,select:E},r)}}),Ns=F({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Us=Symbol.for("vuetify:data-table-pagination");function zs(e){const n=ue(e,"page",void 0,a=>+(a??1)),t=ue(e,"itemsPerPage",void 0,a=>+(a??10));return{page:n,itemsPerPage:t}}function Hs(e){const{page:n,itemsPerPage:t,itemsLength:a}=e,r=_(()=>t.value===-1?0:t.value*(n.value-1)),s=_(()=>t.value===-1?a.value:Math.min(a.value,r.value+t.value)),i=_(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));Ne(()=>{n.value>i.value&&(n.value=i.value)});function l(f){t.value=f,n.value=1}function o(){n.value=Me(n.value+1,1,i.value)}function u(){n.value=Me(n.value-1,1,i.value)}function c(f){n.value=Me(f,1,i.value)}const d={page:n,itemsPerPage:t,startIndex:r,stopIndex:s,pageCount:i,itemsLength:a,nextPage:o,prevPage:u,setPage:c,setItemsPerPage:l};return pe(Us,d),d}function Qc(){const e=ge(Us);if(!e)throw new Error("Missing pagination!");return e}function Yc(e){const n=Ve("usePaginatedItems"),{items:t,startIndex:a,stopIndex:r,itemsPerPage:s}=e,i=_(()=>s.value<=0?t.value:t.value.slice(a.value,r.value));return ae(i,l=>{n.emit("update:currentItems",l)}),{paginatedItems:i}}const wa=F({prevIcon:{type:ee,default:"$prev"},nextIcon:{type:ee,default:"$next"},firstIcon:{type:ee,default:"$first"},lastIcon:{type:ee,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),on=K()({name:"VDataTableFooter",props:wa(),setup(e,n){let{slots:t}=n;const{t:a}=Ue(),{page:r,pageCount:s,startIndex:i,stopIndex:l,itemsLength:o,itemsPerPage:u,setItemsPerPage:c}=Qc(),d=_(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?a(f.title):f.title}));return Z(()=>{var m;const f=Ya.filterProps(e);return v("div",{class:"v-data-table-footer"},[(m=t.prepend)==null?void 0:m.call(t),v("div",{class:"v-data-table-footer__items-per-page"},[v("span",null,[a(e.itemsPerPageText)]),v(Ms,{items:d.value,modelValue:u.value,"onUpdate:modelValue":h=>c(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),v("div",{class:"v-data-table-footer__info"},[v("div",null,[a(e.pageText,o.value?i.value+1:0,l.value,o.value)])]),v("div",{class:"v-data-table-footer__pagination"},[v(Ya,H({modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),un=Fi({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,n)=>{let{slots:t}=n;const a=e.tag??"td";return v(a,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:se(e.height),width:se(e.width),maxWidth:se(e.maxWidth),left:se(e.fixedOffset||null)}},{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t)]}})}),Xc=F({headers:Array},"DataTable-header"),qs=Symbol.for("vuetify:data-table-headers"),Gs={title:"",sortable:!1},Zc={...Gs,width:48};function ed(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(t=>({element:t,priority:0}));return{enqueue:(t,a)=>{let r=!1;for(let s=0;s<n.length;s++)if(n[s].priority>a){n.splice(s,0,{element:t,priority:a}),r=!0;break}r||n.push({element:t,priority:a})},size:()=>n.length,count:()=>{let t=0;if(!n.length)return 0;const a=Math.floor(n[0].priority);for(let r=0;r<n.length;r++)Math.floor(n[r].priority)===a&&(t+=1);return t},dequeue:()=>n.shift()}}function na(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)n.push(e);else for(const t of e.children)na(t,n);return n}function Ws(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const t of e)t.key&&n.add(t.key),t.children&&Ws(t.children,n);return n}function td(e){if(e.key){if(e.key==="data-table-group")return Gs;if(["data-table-expand","data-table-select"].includes(e.key))return Zc}}function Sa(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(n,...e.children.map(t=>Sa(t,n+1))):n}function nd(e){let n=!1;function t(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(i&&(s.fixed=!0),s.fixed)if(s.children)for(let l=s.children.length-1;l>=0;l--)t(s.children[l],!0);else n?isNaN(+s.width)&&Mi(`Multiple fixed columns should have a static width (key: ${s.key})`):s.lastFixed=!0,n=!0;else if(s.children)for(let l=s.children.length-1;l>=0;l--)t(s.children[l]);else n=!1}for(let s=e.length-1;s>=0;s--)t(e[s]);function a(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return i;if(s.children){s.fixedOffset=i;for(const l of s.children)i=a(l,i)}else s.fixed&&(s.fixedOffset=i,i+=parseFloat(s.width||"0")||0);return i}let r=0;for(const s of e)r=a(s,r)}function ad(e,n){const t=[];let a=0;const r=ed(e);for(;r.size()>0;){let i=r.count();const l=[];let o=1;for(;i>0;){const{element:u,priority:c}=r.dequeue(),d=n-a-Sa(u);if(l.push({...u,rowspan:d??1,colspan:u.children?na(u).length:1}),u.children)for(const f of u.children){const m=c%1+o/Math.pow(10,a+2);r.enqueue(f,a+d+m)}o+=1,i-=1}a+=1,t.push(l)}return{columns:e.map(i=>na(i)).flat(),headers:t}}function Ks(e){const n=[];for(const t of e){const a={...td(t),...t},r=a.key??(typeof a.value=="string"?a.value:null),s=a.value??r??null,i={...a,key:r,value:s,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?Ks(a.children):void 0};n.push(i)}return n}function Js(e,n){const t=U([]),a=U([]),r=U({}),s=U({}),i=U({});Ne(()=>{var y,g,b;const u=(e.headers||Object.keys(e.items[0]??{}).map(p=>({key:p,title:hr(p)}))).slice(),c=Ws(u);(y=n==null?void 0:n.groupBy)!=null&&y.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(g=n==null?void 0:n.showSelect)!=null&&g.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(b=n==null?void 0:n.showExpand)!=null&&b.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const d=Ks(u);nd(d);const f=Math.max(...d.map(p=>Sa(p)))+1,m=ad(d,f);t.value=m.headers,a.value=m.columns;const h=m.headers.flat(1);for(const p of h)p.key&&(p.sortable&&(p.sort&&(r.value[p.key]=p.sort),p.sortRaw&&(s.value[p.key]=p.sortRaw)),p.filter&&(i.value[p.key]=p.filter))});const l={headers:t,columns:a,sortFunctions:r,sortRawFunctions:s,filterFunctions:i};return pe(qs,l),l}function Tn(){const e=ge(qs);if(!e)throw new Error("Missing headers!");return e}const rd={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:n,value:t}=e;return new Set(t?[(a=n[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:n}=e;return n}},Qs={showSelectAll:!0,allSelected:e=>{let{currentPage:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const r of n)t?a.add(r.value):a.delete(r.value);return a},selectAll:e=>{let{value:n,currentPage:t,selected:a}=e;return Qs.select({items:t,value:n,selected:a})}},Ys={showSelectAll:!0,allSelected:e=>{let{allItems:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const r of n)t?a.add(r.value):a.delete(r.value);return a},selectAll:e=>{let{value:n,allItems:t,selected:a}=e;return Ys.select({items:t,value:n,selected:a})}},sd=F({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Tt}},"DataTable-select"),Xs=Symbol.for("vuetify:data-table-selection");function Zs(e,n){let{allItems:t,currentPage:a}=n;const r=ue(e,"modelValue",e.modelValue,b=>new Set(ve(b).map(p=>{var C;return((C=t.value.find(T=>e.valueComparator(p,T.value)))==null?void 0:C.value)??p})),b=>[...b.values()]),s=_(()=>t.value.filter(b=>b.selectable)),i=_(()=>a.value.filter(b=>b.selectable)),l=_(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return rd;case"all":return Ys;case"page":default:return Qs}});function o(b){return ve(b).every(p=>r.value.has(p.value))}function u(b){return ve(b).some(p=>r.value.has(p.value))}function c(b,p){const C=l.value.select({items:b,value:p,selected:new Set(r.value)});r.value=C}function d(b){c([b],!o([b]))}function f(b){const p=l.value.selectAll({value:b,allItems:s.value,currentPage:i.value,selected:new Set(r.value)});r.value=p}const m=_(()=>r.value.size>0),h=_(()=>{const b=l.value.allSelected({allItems:s.value,currentPage:i.value});return!!b.length&&o(b)}),y=_(()=>l.value.showSelectAll),g={toggleSelect:d,select:c,selectAll:f,isSelected:o,isSomeSelected:u,someSelected:m,allSelected:h,showSelectAll:y};return pe(Xs,g),g}function An(){const e=ge(Xs);if(!e)throw new Error("Missing selection!");return e}const id=F({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),ei=Symbol.for("vuetify:data-table-sort");function ti(e){const n=ue(e,"sortBy"),t=D(e,"mustSort"),a=D(e,"multiSort");return{sortBy:n,mustSort:t,multiSort:a}}function ni(e){const{sortBy:n,mustSort:t,multiSort:a,page:r}=e,s=o=>{if(o.key==null)return;let u=n.value.map(d=>({...d}))??[];const c=u.find(d=>d.key===o.key);c?c.order==="desc"?t.value?c.order="asc":u=u.filter(d=>d.key!==o.key):c.order="desc":a.value?u=[...u,{key:o.key,order:"asc"}]:u=[{key:o.key,order:"asc"}],n.value=u,r&&(r.value=1)};function i(o){return!!n.value.find(u=>u.key===o.key)}const l={sortBy:n,toggleSort:s,isSorted:i};return pe(ei,l),l}function ai(){const e=ge(ei);if(!e)throw new Error("Missing sort!");return e}function ld(e,n,t,a){const r=Ue();return{sortedItems:_(()=>{var i,l;return t.value.length?od(n.value,t.value,r.current.value,{transform:a==null?void 0:a.transform,sortFunctions:{...e.customKeySort,...(i=a==null?void 0:a.sortFunctions)==null?void 0:i.value},sortRawFunctions:(l=a==null?void 0:a.sortRawFunctions)==null?void 0:l.value}):n.value})}}function od(e,n,t,a){const r=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return e.map(i=>[i,a!=null&&a.transform?a.transform(i):i]).sort((i,l)=>{var o,u;for(let c=0;c<n.length;c++){let d=!1;const f=n[c].key,m=n[c].order??"asc";if(m===!1)continue;let h=tn(i[1],f),y=tn(l[1],f),g=i[0].raw,b=l[0].raw;if(m==="desc"&&([h,y]=[y,h],[g,b]=[b,g]),(o=a==null?void 0:a.sortRawFunctions)!=null&&o[f]){const p=a.sortRawFunctions[f](g,b);if(p==null)continue;if(d=!0,p)return p}if((u=a==null?void 0:a.sortFunctions)!=null&&u[f]){const p=a.sortFunctions[f](h,y);if(p==null)continue;if(d=!0,p)return p}if(!d){if(h instanceof Date&&y instanceof Date)return h.getTime()-y.getTime();if([h,y]=[h,y].map(p=>p!=null?p.toString().toLocaleLowerCase():p),h!==y)return Ht(h)&&Ht(y)?0:Ht(h)?-1:Ht(y)?1:!isNaN(h)&&!isNaN(y)?Number(h)-Number(y):r.compare(h,y)}}return 0}).map(i=>{let[l]=i;return l})}const ri=F({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:ee,default:"$sortAsc"},sortDescIcon:{type:ee,default:"$sortDesc"},headerProps:{type:Object},...gn(),...Cr()},"VDataTableHeaders"),cn=K()({name:"VDataTableHeaders",props:ri(),setup(e,n){let{slots:t}=n;const{t:a}=Ue(),{toggleSort:r,sortBy:s,isSorted:i}=ai(),{someSelected:l,allSelected:o,selectAll:u,showSelectAll:c}=An(),{columns:d,headers:f}=Tn(),{loaderClasses:m}=Tr(e);function h(w,k){if(!(!e.sticky&&!w.fixed))return{position:"sticky",left:w.fixed?se(w.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${k})`:void 0}}function y(w){const k=s.value.find(j=>j.key===w.key);return k?k.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:g,backgroundColorStyles:b}=Dt(e,"color"),{displayClasses:p,mobile:C}=Qe(e),T=_(()=>({headers:f.value,columns:d.value,toggleSort:r,isSorted:i,sortBy:s.value,someSelected:l.value,allSelected:o.value,selectAll:u,getSortIcon:y})),S=_(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},p.value,m.value]),O=w=>{let{column:k,x:j,y:$}=w;const V=k.key==="data-table-select"||k.key==="data-table-expand",E=H(e.headerProps??{},k.headerProps??{});return v(un,H({tag:"th",align:k.align,class:[{"v-data-table__th--sortable":k.sortable&&!e.disableSort,"v-data-table__th--sorted":i(k),"v-data-table__th--fixed":k.fixed},...S.value],style:{width:se(k.width),minWidth:se(k.minWidth),maxWidth:se(k.maxWidth),...h(k,$)},colspan:k.colspan,rowspan:k.rowspan,onClick:k.sortable?()=>r(k):void 0,fixed:k.fixed,nowrap:k.nowrap,lastFixed:k.lastFixed,noPadding:V},E),{default:()=>{var N;const L=`header.${k.key}`,M={column:k,selectAll:u,isSorted:i,toggleSort:r,sortBy:s.value,someSelected:l.value,allSelected:o.value,getSortIcon:y};return t[L]?t[L](M):k.key==="data-table-select"?((N=t["header.data-table-select"])==null?void 0:N.call(t,M))??(c.value&&v(Cn,{modelValue:o.value,indeterminate:l.value&&!o.value,"onUpdate:modelValue":u},null)):v("div",{class:"v-data-table-header__content"},[v("span",null,[k.title]),k.sortable&&!e.disableSort&&v(he,{key:"icon",class:"v-data-table-header__sort-icon",icon:y(k)},null),e.multiSort&&i(k)&&v("div",{key:"badge",class:["v-data-table-header__sort-badge",...g.value],style:b.value},[s.value.findIndex(G=>G.key===k.key)+1])])}})},I=()=>{const w=H(e.headerProps??{}??{}),k=_(()=>d.value.filter($=>($==null?void 0:$.sortable)&&!e.disableSort)),j=_(()=>{if(d.value.find(V=>V.key==="data-table-select")!=null)return o.value?"$checkboxOn":l.value?"$checkboxIndeterminate":"$checkboxOff"});return v(un,H({tag:"th",class:[...S.value],colspan:f.value.length+1},w),{default:()=>[v("div",{class:"v-data-table-header__content"},[v(Ms,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:k.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:j.value,"onClick:append":()=>u(!o.value)},{...t,chip:$=>{var V;return v(bs,{onClick:(V=$.item.raw)!=null&&V.sortable?()=>r($.item.raw):void 0,onMousedown:E=>{E.preventDefault(),E.stopPropagation()}},{default:()=>[$.item.title,v(he,{class:["v-data-table__td-sort-icon",i($.item.raw)&&"v-data-table__td-sort-icon-active"],icon:y($.item.raw),size:"small"},null)]})}})])]})};Z(()=>C.value?v("tr",null,[v(I,null,null)]):v(oe,null,[t.headers?t.headers(T.value):f.value.map((w,k)=>v("tr",null,[w.map((j,$)=>v(O,{column:j,x:$,y:k},null))])),e.loading&&v("tr",{class:"v-data-table-progress"},[v("th",{colspan:d.value.length},[v(Ar,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),ud=F({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),si=Symbol.for("vuetify:data-table-group");function ii(e){return{groupBy:ue(e,"groupBy")}}function li(e){const{disableSort:n,groupBy:t,sortBy:a}=e,r=U(new Set),s=_(()=>t.value.map(c=>({...c,order:c.order??!1})).concat(n!=null&&n.value?[]:a.value));function i(c){return r.value.has(c.id)}function l(c){const d=new Set(r.value);i(c)?d.delete(c.id):d.add(c.id),r.value=d}function o(c){function d(f){const m=[];for(const h of f.items)"type"in h&&h.type==="group"?m.push(...d(h)):m.push(h);return m}return d({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:s,toggleGroup:l,opened:r,groupBy:t,extractRows:o,isGroupOpen:i};return pe(si,u),u}function oi(){const e=ge(si);if(!e)throw new Error("Missing group!");return e}function cd(e,n){if(!e.length)return[];const t=new Map;for(const a of e){const r=tn(a.raw,n);t.has(r)||t.set(r,[]),t.get(r).push(a)}return t}function ui(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const r=cd(e,n[0]),s=[],i=n.slice(1);return r.forEach((l,o)=>{const u=n[0],c=`${a}_${u}_${o}`;s.push({depth:t,id:c,key:u,value:o,items:i.length?ui(l,i,t+1,c):l,type:"group"})}),s}function ci(e,n){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(n.has(a.id)||a.value==null)&&t.push(...ci(a.items,n))):t.push(a);return t}function di(e,n,t){return{flatItems:_(()=>{if(!n.value.length)return e.value;const r=ui(e.value,n.value.map(s=>s.key));return ci(r,t.value)})}}const dd=F({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),fd=K()({name:"VDataTableGroupHeaderRow",props:dd(),setup(e,n){let{slots:t}=n;const{isGroupOpen:a,toggleGroup:r,extractRows:s}=oi(),{isSelected:i,isSomeSelected:l,select:o}=An(),{columns:u}=Tn(),c=_(()=>s([e.item]));return()=>v("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(d=>{var f,m;if(d.key==="data-table-group"){const h=a(e.item)?"$expand":"$next",y=()=>r(e.item);return((f=t["data-table-group"])==null?void 0:f.call(t,{item:e.item,count:c.value.length,props:{icon:h,onClick:y}}))??v(un,{class:"v-data-table-group-header-row__column"},{default:()=>[v(Ge,{size:"small",variant:"text",icon:h,onClick:y},null),v("span",null,[e.item.value]),v("span",null,[Un("("),c.value.length,Un(")")])]})}if(d.key==="data-table-select"){const h=i(c.value),y=l(c.value)&&!h,g=b=>o(c.value,b);return((m=t["data-table-select"])==null?void 0:m.call(t,{props:{modelValue:h,indeterminate:y,"onUpdate:modelValue":g}}))??v("td",null,[v(Cn,{modelValue:h,indeterminate:y,"onUpdate:modelValue":g},null)])}return v("td",null,null)})])}}),hd=F({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),fi=Symbol.for("vuetify:datatable:expanded");function hi(e){const n=D(e,"expandOnClick"),t=ue(e,"expanded",e.expanded,l=>new Set(l),l=>[...l.values()]);function a(l,o){const u=new Set(t.value);o?u.add(l.value):u.delete(l.value),t.value=u}function r(l){return t.value.has(l.value)}function s(l){a(l,!r(l))}const i={expand:a,expanded:t,expandOnClick:n,isExpanded:r,toggleExpand:s};return pe(fi,i),i}function vi(){const e=ge(fi);if(!e)throw new Error("foo");return e}const vd=F({index:Number,item:Object,cellProps:[Object,Function],onClick:fe(),onContextmenu:fe(),onDblclick:fe(),...gn()},"VDataTableRow"),gd=K()({name:"VDataTableRow",props:vd(),setup(e,n){let{slots:t}=n;const{displayClasses:a,mobile:r}=Qe(e,"v-data-table__tr"),{isSelected:s,toggleSelect:i,someSelected:l,allSelected:o,selectAll:u}=An(),{isExpanded:c,toggleExpand:d}=vi(),{toggleSort:f,sortBy:m,isSorted:h}=ai(),{columns:y}=Tn();Z(()=>v("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((g,b)=>{const p=e.item,C=`item.${g.key}`,T=`header.${g.key}`,S={index:e.index,item:p.raw,internalItem:p,value:tn(p.columns,g.key),column:g,isSelected:s,toggleSelect:i,isExpanded:c,toggleExpand:d},O={column:g,selectAll:u,isSorted:h,toggleSort:f,sortBy:m.value,someSelected:l.value,allSelected:o.value,getSortIcon:()=>""},I=typeof e.cellProps=="function"?e.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value,column:g}):e.cellProps,w=typeof g.cellProps=="function"?g.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value}):g.cellProps;return v(un,H({align:g.align,class:{"v-data-table__td--expanded-row":g.key==="data-table-expand","v-data-table__td--select-row":g.key==="data-table-select"},fixed:g.fixed,fixedOffset:g.fixedOffset,lastFixed:g.lastFixed,maxWidth:r.value?void 0:g.maxWidth,noPadding:g.key==="data-table-select"||g.key==="data-table-expand",nowrap:g.nowrap,width:r.value?void 0:g.width},I,w),{default:()=>{var j,$,V,E,L;if(t[C]&&!r.value)return(j=t[C])==null?void 0:j.call(t,S);if(g.key==="data-table-select")return(($=t["item.data-table-select"])==null?void 0:$.call(t,S))??v(Cn,{disabled:!p.selectable,modelValue:s([p]),onClick:Aa(()=>i(p),["stop"])},null);if(g.key==="data-table-expand")return((V=t["item.data-table-expand"])==null?void 0:V.call(t,S))??v(Ge,{icon:c(p)?"$collapse":"$expand",size:"small",variant:"text",onClick:Aa(()=>d(p),["stop"])},null);const k=Ni(S.value);return r.value?v(oe,null,[v("div",{class:"v-data-table__td-title"},[((E=t[T])==null?void 0:E.call(t,O))??g.title]),v("div",{class:"v-data-table__td-value"},[((L=t[C])==null?void 0:L.call(t,S))??k])]):k}})})]))}}),gi=F({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...gn()},"VDataTableRows"),dn=K()({name:"VDataTableRows",inheritAttrs:!1,props:gi(),setup(e,n){let{attrs:t,slots:a}=n;const{columns:r}=Tn(),{expandOnClick:s,toggleExpand:i,isExpanded:l}=vi(),{isSelected:o,toggleSelect:u}=An(),{toggleGroup:c,isGroupOpen:d}=oi(),{t:f}=Ue(),{mobile:m}=Qe(e);return Z(()=>{var h,y;return e.loading&&(!e.items.length||a.loading)?v("tr",{class:"v-data-table-rows-loading",key:"loading"},[v("td",{colspan:r.value.length},[((h=a.loading)==null?void 0:h.call(a))??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?v("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[v("td",{colspan:r.value.length},[((y=a["no-data"])==null?void 0:y.call(a))??f(e.noDataText)])]):v(oe,null,[e.items.map((g,b)=>{var T;if(g.type==="group"){const S={index:b,item:g,columns:r.value,isExpanded:l,toggleExpand:i,isSelected:o,toggleSelect:u,toggleGroup:c,isGroupOpen:d};return a["group-header"]?a["group-header"](S):v(fd,H({key:`group-header_${g.id}`,item:g},La(t,":group-header",()=>S)),a)}const p={index:b,item:g.raw,internalItem:g,columns:r.value,isExpanded:l,toggleExpand:i,isSelected:o,toggleSelect:u},C={...p,props:H({key:`item_${g.key??g.index}`,onClick:s.value?()=>{i(g)}:void 0,index:b,item:g,cellProps:e.cellProps,mobile:m.value},La(t,":row",()=>p),typeof e.rowProps=="function"?e.rowProps({item:p.item,index:p.index,internalItem:p.internalItem}):e.rowProps)};return v(oe,{key:C.props.key},[a.item?a.item(C):v(gd,C.props,a),l(g)&&((T=a["expanded-row"])==null?void 0:T.call(a,p))])})])}),{}}}),mi=F({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ie(),...ze(),...Oe(),...we()},"VTable"),fn=K()({name:"VTable",props:mi(),setup(e,n){let{slots:t,emit:a}=n;const{themeClasses:r}=$e(e),{densityClasses:s}=Xe(e);return Z(()=>v(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>{var i,l,o;return[(i=t.top)==null?void 0:i.call(t),t.default?v("div",{class:"v-table__wrapper",style:{height:se(e.height)}},[v("table",null,[t.default()])]):(l=t.wrapper)==null?void 0:l.call(t),(o=t.bottom)==null?void 0:o.call(t)]}})),{}}}),md=F({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function yd(e,n,t,a){const r=e.returnObject?n:be(n,e.itemValue),s=be(n,e.itemSelectable,!0),i=a.reduce((l,o)=>(o.key!=null&&(l[o.key]=be(n,o.value)),l),{});return{type:"item",key:e.returnObject?be(n,e.itemValue):r,index:t,value:r,selectable:s,columns:i,raw:n}}function bd(e,n,t){return n.map((a,r)=>yd(e,a,r,t))}function yi(e,n){return{items:_(()=>bd(e,e.items,n.value))}}function bi(e){let{page:n,itemsPerPage:t,sortBy:a,groupBy:r,search:s}=e;const i=Ve("VDataTable"),l=_(()=>({page:n.value,itemsPerPage:t.value,sortBy:a.value,groupBy:r.value,search:s.value}));let o=null;ae(l,()=>{Tt(o,l.value)||(o&&o.search!==l.value.search&&(n.value=1),i.emit("update:options",l.value),o=l.value)},{deep:!0,immediate:!0})}const pd=(e,n,t)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),_d=F({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function wd(e,n,t){var l;const a=[],r=(t==null?void 0:t.default)??pd,s=t!=null&&t.filterKeys?ve(t.filterKeys):!1,i=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let o=0;o<e.length;o++){const[u,c=u]=ve(e[o]),d={},f={};let m=-1;if((n||i>0)&&!(t!=null&&t.noFilter)){if(typeof u=="object"){const g=s||Object.keys(c);for(const b of g){const p=be(c,b),C=(l=t==null?void 0:t.customKeyFilter)==null?void 0:l[b];if(m=C?C(p,n,u):r(p,n,u),m!==-1&&m!==!1)C?d[b]=m:f[b]=m;else if((t==null?void 0:t.filterMode)==="every")continue e}}else m=r(u,n,u),m!==-1&&m!==!1&&(f.title=m);const h=Object.keys(f).length,y=Object.keys(d).length;if(!h&&!y||(t==null?void 0:t.filterMode)==="union"&&y!==i&&!h||(t==null?void 0:t.filterMode)==="intersection"&&(y!==i||!h))continue}a.push({index:o,matches:{...f,...d}})}return a}function Sd(e,n,t,a){const r=U([]),s=U(new Map),i=_(()=>a!=null&&a.transform?rt(n).map(o=>[o,a.transform(o)]):rt(n));Ne(()=>{const o=typeof t=="function"?t():rt(t),u=typeof o!="string"&&typeof o!="number"?"":String(o),c=wd(i.value,u,{customKeyFilter:{...e.customKeyFilter,...rt(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=rt(n),f=[],m=new Map;c.forEach(h=>{let{index:y,matches:g}=h;const b=d[y];f.push(b),m.set(b.value,g)}),r.value=f,s.value=m});function l(o){return s.value.get(o.value)}return{filteredItems:r,filteredMatches:s,getMatches:l}}const pi=F({...gi(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...hd(),...ud(),...Xc(),...md(),...sd(),...id(),...ri(),...mi()},"DataTable"),kd=F({...Ns(),...pi(),..._d(),...wa()},"VDataTable");K()({name:"VDataTable",props:kd(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{groupBy:r}=ii(e),{sortBy:s,multiSort:i,mustSort:l}=ti(e),{page:o,itemsPerPage:u}=zs(e),{disableSort:c}=_r(e),{columns:d,headers:f,sortFunctions:m,sortRawFunctions:h,filterFunctions:y}=Js(e,{groupBy:r,showSelect:D(e,"showSelect"),showExpand:D(e,"showExpand")}),{items:g}=yi(e,d),b=D(e,"search"),{filteredItems:p}=Sd(e,g,b,{transform:Q=>Q.columns,customKeyFilter:y}),{toggleSort:C}=ni({sortBy:s,multiSort:i,mustSort:l,page:o}),{sortByWithGroups:T,opened:S,extractRows:O,isGroupOpen:I,toggleGroup:w}=li({groupBy:r,sortBy:s,disableSort:c}),{sortedItems:k}=ld(e,p,T,{transform:Q=>({...Q.raw,...Q.columns}),sortFunctions:m,sortRawFunctions:h}),{flatItems:j}=di(k,r,S),$=_(()=>j.value.length),{startIndex:V,stopIndex:E,pageCount:L,setItemsPerPage:M}=Hs({page:o,itemsPerPage:u,itemsLength:$}),{paginatedItems:N}=Yc({items:j,startIndex:V,stopIndex:E,itemsPerPage:u}),G=_(()=>O(N.value)),{isSelected:q,select:P,selectAll:x,toggleSelect:A,someSelected:R,allSelected:J}=Zs(e,{allItems:g,currentPage:G}),{isExpanded:z,toggleExpand:X}=hi(e);bi({page:o,itemsPerPage:u,sortBy:s,groupBy:r,search:b}),Je({VDataTableRows:{hideNoData:D(e,"hideNoData"),noDataText:D(e,"noDataText"),loading:D(e,"loading"),loadingText:D(e,"loadingText")}});const B=_(()=>({page:o.value,itemsPerPage:u.value,sortBy:s.value,pageCount:L.value,toggleSort:C,setItemsPerPage:M,someSelected:R.value,allSelected:J.value,isSelected:q,select:P,selectAll:x,toggleSelect:A,isExpanded:z,toggleExpand:X,isGroupOpen:I,toggleGroup:w,items:G.value.map(Q=>Q.raw),internalItems:G.value,groupedItems:N.value,columns:d.value,headers:f.value}));return Z(()=>{const Q=on.filterProps(e),le=cn.filterProps(e),me=dn.filterProps(e),te=fn.filterProps(e);return v(fn,H({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},te),{top:()=>{var Le;return(Le=a.top)==null?void 0:Le.call(a,B.value)},default:()=>{var Le,vt,Nt,Ut,ka,Pa;return a.default?a.default(B.value):v(oe,null,[(Le=a.colgroup)==null?void 0:Le.call(a,B.value),!e.hideDefaultHeader&&v("thead",{key:"thead"},[v(cn,le,a)]),(vt=a.thead)==null?void 0:vt.call(a,B.value),!e.hideDefaultBody&&v("tbody",null,[(Nt=a["body.prepend"])==null?void 0:Nt.call(a,B.value),a.body?a.body(B.value):v(dn,H(t,me,{items:N.value}),a),(Ut=a["body.append"])==null?void 0:Ut.call(a,B.value)]),(ka=a.tbody)==null?void 0:ka.call(a,B.value),(Pa=a.tfoot)==null?void 0:Pa.call(a,B.value)])},bottom:()=>a.bottom?a.bottom(B.value):!e.hideDefaultFooter&&v(oe,null,[v(pa,null,null),v(on,Q,{prepend:a["footer.prepend"]})])})}),{}}});const Pd=F({itemsLength:{type:[Number,String],required:!0},...Ns(),...pi(),...wa()},"VDataTableServer"),xd=K()({name:"VDataTableServer",props:Pd(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{groupBy:r}=ii(e),{sortBy:s,multiSort:i,mustSort:l}=ti(e),{page:o,itemsPerPage:u}=zs(e),{disableSort:c}=_r(e),d=_(()=>parseInt(e.itemsLength,10)),{columns:f,headers:m}=Js(e,{groupBy:r,showSelect:D(e,"showSelect"),showExpand:D(e,"showExpand")}),{items:h}=yi(e,f),{toggleSort:y}=ni({sortBy:s,multiSort:i,mustSort:l,page:o}),{opened:g,isGroupOpen:b,toggleGroup:p,extractRows:C}=li({groupBy:r,sortBy:s,disableSort:c}),{pageCount:T,setItemsPerPage:S}=Hs({page:o,itemsPerPage:u,itemsLength:d}),{flatItems:O}=di(h,r,g),{isSelected:I,select:w,selectAll:k,toggleSelect:j,someSelected:$,allSelected:V}=Zs(e,{allItems:h,currentPage:h}),{isExpanded:E,toggleExpand:L}=hi(e),M=_(()=>C(h.value));bi({page:o,itemsPerPage:u,sortBy:s,groupBy:r,search:D(e,"search")}),pe("v-data-table",{toggleSort:y,sortBy:s}),Je({VDataTableRows:{hideNoData:D(e,"hideNoData"),noDataText:D(e,"noDataText"),loading:D(e,"loading"),loadingText:D(e,"loadingText")}});const N=_(()=>({page:o.value,itemsPerPage:u.value,sortBy:s.value,pageCount:T.value,toggleSort:y,setItemsPerPage:S,someSelected:$.value,allSelected:V.value,isSelected:I,select:w,selectAll:k,toggleSelect:j,isExpanded:E,toggleExpand:L,isGroupOpen:b,toggleGroup:p,items:M.value.map(G=>G.raw),internalItems:M.value,groupedItems:O.value,columns:f.value,headers:m.value}));Z(()=>{const G=on.filterProps(e),q=cn.filterProps(e),P=dn.filterProps(e),x=fn.filterProps(e);return v(fn,H({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},x),{top:()=>{var A;return(A=a.top)==null?void 0:A.call(a,N.value)},default:()=>{var A,R,J,z,X,B;return a.default?a.default(N.value):v(oe,null,[(A=a.colgroup)==null?void 0:A.call(a,N.value),!e.hideDefaultHeader&&v("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[v(cn,H(q,{sticky:e.fixedHeader}),a)]),(R=a.thead)==null?void 0:R.call(a,N.value),!e.hideDefaultBody&&v("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(J=a["body.prepend"])==null?void 0:J.call(a,N.value),a.body?a.body(N.value):v(dn,H(t,P,{items:O.value}),a),(z=a["body.append"])==null?void 0:z.call(a,N.value)]),(X=a.tbody)==null?void 0:X.call(a,N.value),(B=a.tfoot)==null?void 0:B.call(a,N.value)])},bottom:()=>a.bottom?a.bottom(N.value):!e.hideDefaultFooter&&v(oe,null,[v(pa,null,null),v(on,G,{prepend:a["footer.prepend"]})])})})}}),Cd={key:0},Td={__name:"profile",setup(e){const n=U(10),t=U([{title:"ID",key:"id",align:"start",divider:!0},{title:"Supply Name",key:"supply_name",align:"start",divider:!0},{title:"Crew Members",key:"crew_members",align:"start",divider:!0},{title:"Dosage",key:"dosage",align:"start",divider:!0},{title:"Quantity",key:"quantity",align:"end",divider:!0},{title:"Units per Package",key:"units_per_package",align:"end",divider:!0},{title:"Expiry Date",key:"exp_date",align:"end",divider:!0},{title:"Created At",key:"created_at",align:"end",divider:!0},{title:"Crew Member Name",key:"crew_member_name",align:"start",divider:!0}]),a=U([]),r=U(!0),s=U(0),i=U(""),l=async({page:o,itemsPerPage:u})=>{r.value=!0;const{data:c,count:d,error:f}=await cu.from("Inventory").select("*",{count:"exact"}).ilike("supply_name",`%${i.value}%`).range((o-1)*u,o*u-1);f?(console.error("Error fetching data:",f),a.value=[],s.value=0):(a.value=c||[],s.value=d||0),r.value=!1};return vn(()=>{l({page:1,itemsPerPage:n.value})}),(o,u)=>(Ia(),Ui(Xi,{rounded:"10px",class:"profile-container"},{default:Ea(()=>[u[3]||(u[3]=qt("h1",null,"Demo Profile",-1)),v(xd,{"items-per-page":n.value,"onUpdate:itemsPerPage":u[1]||(u[1]=c=>n.value=c),headers:t.value,items:a.value,"items-length":s.value,loading:r.value,search:i.value,"item-value":"id","onUpdate:options":l},{tfoot:Ea(()=>[qt("tr",null,[qt("td",null,[v(ta,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c),class:"ma-2",density:"compact",placeholder:"Search inventory...","hide-details":""},null,8,["modelValue"])])])]),_:1},8,["items-per-page","headers","items","items-length","loading","search"]),a.value.length?Hi("",!0):(Ia(),zi("div",Cd,u[2]||(u[2]=[qt("p",null,"No items in inventory yet.",-1)])))]),_:1}))}},Ad=qi(Td,[["__scopeId","data-v-5b486579"]]),Ud=Object.freeze(Object.defineProperty({__proto__:null,default:Ad},Symbol.toStringTag,{value:"Module"}));export{Rd as g,Ud as p};
