import{V as _,s as x}from"./VTextField-DXVXwpGg.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as V}from"./VDataTable-GiAb0HN6.js";import{V as h}from"./VContainer-cW0gF5vU.js";import{r as l,B as w,o as P,l as k,n as s,i as f,x as t,L as i,O as I,V as b}from"./index-Ccq5fmdT.js";import"./VBtn-JhJAUZZA.js";import"./index-BlRq_IO5.js";import"./VSelect-7dR6K1Rc.js";import"./VAvatar-B_NxoHvO.js";const C={colspan:"6"},S={__name:"profile",setup(B){const o=l(10),g=l([{title:"ID",key:"id",align:"center",divider:!0},{title:"Created At",key:"created_at",align:"center",divider:!0},{title:"Is Deleted",key:"is_deleted",align:"center",divider:!0},{title:"Supply ID",key:"supply_id",align:"center",divider:!0},{title:"Expiry Date",key:"expiry_date",align:"center",divider:!0},{title:"Crew Member",key:"crew_member",align:"center",divider:!0}]),n=l([]),d=l(!0),u=l(0),p=l(""),y=c=>{const a=new Date,r=new Date(c)-a,m=Math.ceil(r/(1e3*60*60*24));return m<=0?"expired":m<=7?"about-to-expire":m<=30?"expiring-soon":""},v=async({page:c,itemsPerPage:a})=>{d.value=!0;const{data:e,error:r}=await x.from("inventory").select("id, supply_id, created_at").limit(10);r&&console.error("Error:",r),r?(console.error("Error fetching data:",r),n.value=[],u.value=0):(n.value=e||[],u.value=count||0),d.value=!1};return w(()=>{v({page:1,itemsPerPage:o.value})}),(c,a)=>(P(),k(b,{class:"bg-container"},{default:s(()=>[f(h,{rounded:"10px",class:"profile-container"},{default:s(()=>[a[2]||(a[2]=t("h1",null,"Inventory Profile",-1)),f(V,{"items-per-page":o.value,"onUpdate:itemsPerPage":a[1]||(a[1]=e=>o.value=e),headers:g.value,items:n.value,"items-length":u.value,loading:d.value,search:p.value,"item-value":"id","onUpdate:options":v},{item:s(({item:e})=>[t("tr",{class:I(y(e.expiry_date))},[t("td",null,i(e.id),1),t("td",null,i(new Date(e.created_at).toLocaleDateString()),1),t("td",null,i(e.is_deleted),1),t("td",null,i(e.supply_id),1),t("td",null,i(new Date(e.expiry_date).toLocaleDateString()),1),t("td",null,i(e.crew_member),1)],2)]),tfoot:s(()=>[t("tr",null,[t("td",C,[f(_,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),class:"ma-2",density:"compact",placeholder:"Search inventory...","hide-details":""},null,8,["modelValue"])])])]),_:1},8,["items-per-page","headers","items","items-length","loading","search"])]),_:1})]),_:1}))}},O=D(S,[["__scopeId","data-v-5320a525"]]);export{O as default};
