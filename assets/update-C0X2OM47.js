import{p as w,a1 as G,g as I,e as V,h as B,i as r,af as Ve,aj as H,D as O,ab as F,ak as be,r as N,s as $,A as se,y as q,a4 as ie,w as oe,G as M,j as de,al as De,B as ue,Q as Pe,m as pe,ah as xe,b as Ce,c as _e,d as Se,t as ce,ai as Me,am as L,a2 as we,F as Ae,an as Ye,o as K,l as Ie,n as Y,N as Ne,q as Oe}from"./index-B29CoNAf.js";import{V as Be,s as X}from"./VTextField-BYFByryG.js";import{_ as We}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as Te,c as Ee,d as Re,V as Ue}from"./VCard-DKb5niwz.js";import{a as je,V as He}from"./VForm-yf2OhZVI.js";import{c as Fe}from"./VSelect-CuPiYnfo.js";import{f as S,u as J,M as ve,h as Q,m as $e,a as qe,p as Le,q as Qe,b as ze,c as Ge,d as Je,s as Ke,t as Xe,e as Ze}from"./VBtn-BMBNwxNs.js";import{a as ea}from"./index-BZo1T-Nb.js";import{c as aa}from"./VAvatar-BclHwm6M.js";import{V as ta}from"./VContainer-C4M_xlLl.js";const me=w({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:G,default:"$next"},prevIcon:{type:G,default:"$prev"},modeIcon:{type:G,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Z=I()({name:"VDatePickerControls",props:me(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:v}=t;const i=V(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),a=V(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),c=V(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=V(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function d(){v("click:prev")}function s(){v("click:next")}function n(){v("click:year")}function l(){v("click:month")}return B(()=>r("div",{class:["v-date-picker-controls"]},[r(S,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:e.text,variant:"text",rounded:!0,onClick:l},null),r(S,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:a.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:n},null),r(je,{key:"mode-spacer"},null),r("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[r(S,{disabled:c.value,icon:e.prevIcon,variant:"text",onClick:d},null),r(S,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:s},null)])])),{}}}),na=w({appendIcon:String,color:String,header:String,transition:String,onClick:Ve()},"VDatePickerHeader"),ee=I()({name:"VDatePickerHeader",props:na(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:v,slots:i}=t;const{backgroundColorClasses:a,backgroundColorStyles:c}=J(e,"color");function o(){v("click")}function d(){v("click:append")}return B(()=>{const s=!!(i.default||e.header),n=!!(i.append||e.appendIcon);return r("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},a.value],style:c.value,onClick:o},[i.prepend&&r("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),s&&r(ve,{key:"content",name:e.transition},{default:()=>{var l;return[r("div",{key:e.header,class:"v-date-picker-header__content"},[((l=i.default)==null?void 0:l.call(i))??e.header])]}}),n&&r("div",{class:"v-date-picker-header__append"},[i.append?r(Q,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var l;return[(l=i.append)==null?void 0:l.call(i)]}}):r(S,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:d},null)])])}),{}}}),la=w({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function ra(e){const t=H(),v=O(e,"modelValue",[],k=>F(k)),i=V(()=>e.displayValue?t.date(e.displayValue):v.value.length>0?t.date(v.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),a=O(e,"year",void 0,k=>{const y=k!=null?Number(k):t.getYear(i.value);return t.startOfYear(t.setYear(t.date(),y))},k=>t.getYear(k)),c=O(e,"month",void 0,k=>{const y=k!=null?Number(k):t.getMonth(i.value),h=t.setYear(t.startOfMonth(t.date()),t.getYear(a.value));return t.setMonth(h,y)},k=>t.getMonth(k)),o=V(()=>{const k=Number(e.firstDayOfWeek??0);return e.weekdays.map(y=>(y+k)%7)}),d=V(()=>{const k=t.getWeekArray(c.value,e.firstDayOfWeek),y=k.flat(),h=6*7;if(e.weeksInMonth==="static"&&y.length<h){const D=y[y.length-1];let g=[];for(let u=1;u<=h-y.length;u++)g.push(t.addDays(D,u)),u%7===0&&(k.push(g),g=[])}return k});function s(k,y){return k.filter(h=>o.value.includes(t.toJsDate(h).getDay())).map((h,D)=>{const g=t.toISO(h),u=!t.isSameMonth(h,c.value),p=t.isSameDay(h,t.startOfMonth(c.value)),_=t.isSameDay(h,t.endOfMonth(c.value)),x=t.isSameDay(h,c.value);return{date:h,isoDate:g,formatted:t.format(h,"keyboardDate"),year:t.getYear(h),month:t.getMonth(h),isDisabled:C(h),isWeekStart:D%7===0,isWeekEnd:D%7===6,isToday:t.isSameDay(h,y),isAdjacent:u,isHidden:u&&!e.showAdjacentMonths,isStart:p,isSelected:v.value.some(W=>t.isSameDay(h,W)),isEnd:_,isSame:x,localized:t.format(h,"dayOfMonth")}})}const n=V(()=>{const k=t.startOfWeek(i.value,e.firstDayOfWeek),y=[];for(let D=0;D<=6;D++)y.push(t.addDays(k,D));const h=t.date();return s(y,h)}),l=V(()=>{const k=d.value.flat(),y=t.date();return s(k,y)}),f=V(()=>d.value.map(k=>k.length?be(t,k[0]):null));function C(k){if(e.disabled)return!0;const y=t.date(k);return e.min&&t.isAfter(t.date(e.min),y)||e.max&&t.isAfter(y,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(h=>t.isSameDay(t.date(h),y)):typeof e.allowedDates=="function"?!e.allowedDates(y):!1}return{displayValue:i,daysInMonth:l,daysInWeek:n,genDays:s,model:v,weeksInMonth:d,weekDays:o,weekNumbers:f}}const fe=w({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...la()},"VDatePickerMonth"),ae=I()({name:"VDatePickerMonth",props:fe(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:v,slots:i}=t;const a=N(),{daysInMonth:c,model:o,weekNumbers:d}=ra(e),s=H(),n=$(),l=$(),f=$(!1),C=V(()=>f.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(n.value=o.value[0],o.value.length>1&&(l.value=o.value[o.value.length-1]));const k=V(()=>{const g=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=g});se(c,(g,u)=>{u&&(f.value=s.isBefore(g[0].date,u[0].date))});function y(g){const u=s.startOfDay(g);if(o.value.length===0?n.value=void 0:o.value.length===1&&(n.value=o.value[0],l.value=void 0),!n.value)n.value=u,o.value=[n.value];else if(l.value)n.value=g,l.value=void 0,o.value=[n.value];else{if(s.isSameDay(u,n.value)){n.value=void 0,o.value=[];return}else s.isBefore(u,n.value)?(l.value=s.endOfDay(n.value),n.value=u):l.value=s.endOfDay(u);const p=s.getDiff(l.value,n.value,"days"),_=[n.value];for(let x=1;x<p;x++){const W=s.addDays(n.value,x);_.push(W)}_.push(l.value),o.value=_}}function h(g){const u=o.value.findIndex(p=>s.isSameDay(p,g));if(u===-1)o.value=[...o.value,g];else{const p=[...o.value];p.splice(u,1),o.value=p}}function D(g){e.multiple==="range"?y(g):e.multiple?h(g):o.value=[g]}return()=>r("div",{class:"v-date-picker-month"},[e.showWeek&&r("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&r("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[q("Â ")]),d.value.map(g=>r("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[g]))]),r(ve,{name:C.value},{default:()=>{var g;return[r("div",{ref:a,key:(g=c.value[0].date)==null?void 0:g.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&s.getWeekdays(e.firstDayOfWeek).map(u=>r("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[u])),c.value.map((u,p)=>{const _={props:{onClick:()=>D(u.date)},item:u,i:p};return k.value&&!u.isSelected&&(u.isDisabled=!0),r("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":u.isAdjacent,"v-date-picker-month__day--hide-adjacent":u.isHidden,"v-date-picker-month__day--selected":u.isSelected,"v-date-picker-month__day--week-end":u.isWeekEnd,"v-date-picker-month__day--week-start":u.isWeekStart}],"data-v-date":u.isDisabled?void 0:u.isoDate},[(e.showAdjacentMonths||!u.isAdjacent)&&r(Q,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(u.isSelected||u.isToday)&&!u.isDisabled?e.color:void 0,disabled:u.isDisabled,icon:!0,ripple:!1,text:u.localized,variant:u.isDisabled?u.isToday?"outlined":"text":u.isToday&&!u.isSelected?"outlined":"flat",onClick:()=>D(u.date)}}},{default:()=>{var x;return[((x=i.day)==null?void 0:x.call(i,_))??r(S,_.props,null)]}})])})])]}})])}}),ke=w({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),te=I()({name:"VDatePickerMonths",props:ke(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:v,slots:i}=t;const a=H(),c=O(e,"modelValue"),o=V(()=>{let d=a.startOfYear(a.date());return e.year&&(d=a.setYear(d,e.year)),ie(12).map(s=>{const n=a.format(d,"monthShort"),l=!!(e.min&&a.isAfter(a.startOfMonth(a.date(e.min)),d)||e.max&&a.isAfter(d,a.startOfMonth(a.date(e.max))));return d=a.getNextMonth(d),{isDisabled:l,text:n,value:s}})});return oe(()=>{c.value=c.value??a.getMonth(a.date())}),B(()=>r("div",{class:"v-date-picker-months",style:{height:de(e.height)}},[r("div",{class:"v-date-picker-months__content"},[o.value.map((d,s)=>{var f;const n={active:c.value===s,color:c.value===s?e.color:void 0,disabled:d.isDisabled,rounded:!0,text:d.text,variant:c.value===d.value?"flat":"text",onClick:()=>l(s)};function l(C){if(c.value===C){v("update:modelValue",c.value);return}c.value=C}return((f=i.month)==null?void 0:f.call(i,{month:d,i:s,props:n}))??r(S,M({key:"month"},n),null)})])])),{}}}),he=w({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),ne=I()({name:"VDatePickerYears",props:he(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:v,slots:i}=t;const a=H(),c=O(e,"modelValue"),o=V(()=>{const s=a.getYear(a.date());let n=s-100,l=s+52;e.min&&(n=a.getYear(a.date(e.min))),e.max&&(l=a.getYear(a.date(e.max)));let f=a.startOfYear(a.date());return f=a.setYear(f,n),ie(l-n+1,n).map(C=>{const k=a.format(f,"year");return f=a.setYear(f,a.getYear(f)+1),{text:k,value:C}})});oe(()=>{c.value=c.value??a.getYear(a.date())});const d=De();return ue(async()=>{var s;await Pe(),(s=d.el)==null||s.scrollIntoView({block:"center"})}),B(()=>r("div",{class:"v-date-picker-years",style:{height:de(e.height)}},[r("div",{class:"v-date-picker-years__content"},[o.value.map((s,n)=>{var f;const l={ref:c.value===s.value?d:void 0,active:c.value===s.value,color:c.value===s.value?e.color:void 0,rounded:!0,text:s.text,variant:c.value===s.value?"flat":"text",onClick:()=>{if(c.value===s.value){v("update:modelValue",c.value);return}c.value=s.value}};return((f=i.year)==null?void 0:f.call(i,{year:s,i:n,props:l}))??r(S,M({key:"month"},l),null)})])])),{}}}),sa=aa("v-picker-title"),ye=w({color:String,...$e(),...pe(),...xe(),...qe(),...Le(),...Qe(),...ze(),...Ce(),..._e()},"VSheet"),le=I()({name:"VSheet",props:ye(),setup(e,t){let{slots:v}=t;const{themeClasses:i}=Se(e),{backgroundColorClasses:a,backgroundColorStyles:c}=J(ce(e,"color")),{borderClasses:o}=Ge(e),{dimensionStyles:d}=Me(e),{elevationClasses:s}=Je(e),{locationStyles:n}=Ke(e),{positionClasses:l}=Xe(e),{roundedClasses:f}=Ze(e);return B(()=>r(e.tag,{class:["v-sheet",i.value,a.value,o.value,s.value,l.value,f.value,e.class],style:[c.value,d.value,n.value,e.style]},v)),{}}}),ge=w({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...ye()},"VPicker"),re=I()({name:"VPicker",props:ge(),setup(e,t){let{slots:v}=t;const{backgroundColorClasses:i,backgroundColorStyles:a}=J(ce(e,"color"));return B(()=>{const c=le.filterProps(e),o=!!(e.title||v.title);return r(le,M(c,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!v.actions},e.class],style:e.style}),{default:()=>{var d;return[!e.hideHeader&&r("div",{key:"header",class:[i.value],style:[a.value]},[o&&r(sa,{key:"picker-title"},{default:()=>{var s;return[((s=v.title)==null?void 0:s.call(v))??e.title]}}),v.header&&r("div",{class:"v-picker__header"},[v.header()])]),r("div",{class:"v-picker__body"},[(d=v.default)==null?void 0:d.call(v)]),v.actions&&r(Q,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[r("div",{class:"v-picker__actions"},[v.actions()])]})]}})}),{}}}),ia=w({header:{type:String,default:"$vuetify.datePicker.header"},...me(),...fe({weeksInMonth:"static"}),...L(ke(),["modelValue"]),...L(he(),["modelValue"]),...ge({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),oa=I()({name:"VDatePicker",props:ia(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:v,slots:i}=t;const a=H(),{t:c}=we(),o=O(e,"modelValue",void 0,m=>F(m),m=>e.multiple?m:m[0]),d=O(e,"viewMode"),s=V(()=>{var P;const m=a.date((P=o.value)==null?void 0:P[0]);return m&&a.isValid(m)?m:a.date()}),n=N(Number(e.month??a.getMonth(a.startOfMonth(s.value)))),l=N(Number(e.year??a.getYear(a.startOfYear(a.setMonth(s.value,n.value))))),f=$(!1),C=V(()=>e.multiple&&o.value.length>1?c("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&a.isValid(o.value[0])?a.format(a.date(o.value[0]),"normalDateWithWeekday"):c(e.header)),k=V(()=>{let m=a.date();return m=a.setDate(m,1),m=a.setMonth(m,n.value),m=a.setYear(m,l.value),a.format(m,"monthAndYear")}),y=V(()=>`date-picker-header${f.value?"-reverse":""}-transition`),h=V(()=>{const m=a.date(e.min);return e.min&&a.isValid(m)?m:null}),D=V(()=>{const m=a.date(e.max);return e.max&&a.isValid(m)?m:null}),g=V(()=>{if(e.disabled)return!0;const m=[];if(d.value!=="month")m.push("prev","next");else{let P=a.date();if(P=a.setYear(P,l.value),P=a.setMonth(P,n.value),h.value){const A=a.addDays(a.startOfMonth(P),-1);a.isAfter(h.value,A)&&m.push("prev")}if(D.value){const A=a.addDays(a.endOfMonth(P),1);a.isAfter(A,D.value)&&m.push("next")}}return m});function u(){n.value<11?n.value++:(l.value++,n.value=0,R(l.value)),E(n.value)}function p(){n.value>0?n.value--:(l.value--,n.value=11,R(l.value)),E(n.value)}function _(){d.value="month"}function x(){d.value=d.value==="months"?"month":"months"}function W(){d.value=d.value==="year"?"month":"year"}function E(m){d.value==="months"&&x(),v("update:month",m)}function R(m){d.value==="year"&&W(),v("update:year",m)}return se(o,(m,P)=>{const A=F(P),U=F(m);if(!U.length)return;const z=a.date(A[A.length-1]),j=a.date(U[U.length-1]),T=a.getMonth(j),b=a.getYear(j);T!==n.value&&(n.value=T,E(n.value)),b!==l.value&&(l.value=b,R(l.value)),f.value=a.isBefore(z,j)}),B(()=>{const m=re.filterProps(e),P=Z.filterProps(e),A=ee.filterProps(e),U=ae.filterProps(e),z=L(te.filterProps(e),["modelValue"]),j=L(ne.filterProps(e),["modelValue"]),T={header:C.value,transition:y.value};return r(re,M(m,{class:["v-date-picker",`v-date-picker--${d.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var b;return((b=i.title)==null?void 0:b.call(i))??r("div",{class:"v-date-picker__title"},[c(e.title)])},header:()=>i.header?r(Q,{defaults:{VDatePickerHeader:{...T}}},{default:()=>{var b;return[(b=i.header)==null?void 0:b.call(i,T)]}}):r(ee,M({key:"header"},A,T,{onClick:d.value!=="month"?_:void 0}),{...i,default:void 0}),default:()=>r(Ae,null,[r(Z,M(P,{disabled:g.value,text:k.value,"onClick:next":u,"onClick:prev":p,"onClick:month":x,"onClick:year":W}),null),r(ea,{hideOnLeave:!0},{default:()=>[d.value==="months"?r(te,M({key:"date-picker-months"},z,{modelValue:n.value,"onUpdate:modelValue":[b=>n.value=b,E],min:h.value,max:D.value,year:l.value}),null):d.value==="year"?r(ne,M({key:"date-picker-years"},j,{modelValue:l.value,"onUpdate:modelValue":[b=>l.value=b,R],min:h.value,max:D.value}),null):r(ae,M({key:"date-picker-month"},U,{modelValue:o.value,"onUpdate:modelValue":b=>o.value=b,month:n.value,"onUpdate:month":[b=>n.value=b,E],year:l.value,"onUpdate:year":[b=>l.value=b,R],min:h.value,max:D.value}),null)]})]),actions:i.actions})}),{}}}),da={key:1,class:"loading-message"},ua={__name:"update",setup(e){const t=Ye(),v=N(null),i=N(null),a=N(null),c=N([]),o=async()=>{const{data:n,error:l}=await X.from("inventory").select("supply_name");l?console.error("Error fetching medications:",l):n&&(c.value=n.map(f=>f.supply_name))},d=async()=>{if(!v.value||!i.value||!a.value){console.error("Please fill out all fields before submitting.");return}const{error:n}=await X.from("inventory").update({quantity:parseInt(i.value,10),exp_date:a.value}).eq("supply_name",v.value);n?console.error("Error updating inventory:",n):(console.log("Medication updated successfully"),t.push("/profile"))},s=()=>{t.push("/profile")};return ue(o),(n,l)=>c.value.length>0?(K(),Ie(ta,{key:0,class:"update-container"},{default:Y(()=>[r(Ue,{class:"update-card"},{default:Y(()=>[r(Te,{class:"title"},{default:Y(()=>l[3]||(l[3]=[q("Update Medication")])),_:1}),r(Ee,null,{default:Y(()=>[r(He,{ref:"form",onSubmit:Ne(d,["prevent"])},{default:Y(()=>[r(Fe,{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=f=>v.value=f),items:c.value,label:"Select Medication",placeholder:"Choose a medication",class:"form-item",required:""},null,8,["modelValue","items"]),r(Be,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=f=>i.value=f),label:"Enter New Quantity",placeholder:"Quantity",class:"form-item",type:"number",rules:[f=>!!f||"Quantity is required"]},null,8,["modelValue","rules"]),r(oa,{modelValue:a.value,"onUpdate:modelValue":l[2]||(l[2]=f=>a.value=f),label:"Select New Expiration Date",class:"form-item",rules:[f=>!!f||"Expiration date is required"]},null,8,["modelValue","rules"])]),_:1},512)]),_:1}),r(Re,{class:"action-buttons"},{default:Y(()=>[r(S,{color:"primary",onClick:d},{default:Y(()=>l[4]||(l[4]=[q("Submit")])),_:1}),r(S,{onClick:s},{default:Y(()=>l[5]||(l[5]=[q("Cancel")])),_:1})]),_:1})]),_:1})]),_:1})):(K(),Oe("div",da,"Loading medications..."))}},Da=We(ua,[["__scopeId","data-v-32fdc109"]]);export{Da as default};
