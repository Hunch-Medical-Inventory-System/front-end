import{V as h,s as w}from"./VTextField-05Z-0Sa4.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as b}from"./VDataTable-B9eMWyGt.js";import{V as y}from"./VContainer-BnKdeMtu.js";import{r as o,B as I,o as k,l as D,n as u,x as a,i as v,L as c}from"./index-Dd5Nnbl1.js";import"./VBtn-Dgaz64k0.js";import"./index-PDNgfFLG.js";import"./VSelect-CqQlxgU8.js";import"./VAvatar-skl-BgI3.js";const B={colspan:"3"},C={__name:"log",setup(L){const r=o(10),_=o([{title:"ID",key:"id",align:"center",divider:!0},{title:"Created At",key:"created_at",align:"center",divider:!0},{title:"Crew Member",key:"crew_member_id",align:"center",divider:!0}]),l=o([]),s=o(!0),n=o(0),i=o(""),m=async({page:d,itemsPerPage:t})=>{s.value=!0;const e=parseInt(i.value,10),p=w.from("logs").select("*",{count:"exact"}).range((d-1)*t,d*t-1);isNaN(e)||p.eq("crew_member_id",e);const{data:f,count:V,error:g}=await p;g?(console.error("Error fetching logs:",g),l.value=[],n.value=0):(l.value=f||[],n.value=V||0),s.value=!1};return I(()=>{m({page:1,itemsPerPage:r.value})}),(d,t)=>(k(),D(y,{rounded:"10px",class:"log-container"},{default:u(()=>[t[2]||(t[2]=a("h1",null,"Log Records",-1)),v(b,{"items-per-page":r.value,"onUpdate:itemsPerPage":t[1]||(t[1]=e=>r.value=e),headers:_.value,items:l.value,"items-length":n.value,loading:s.value,"item-value":"id","onUpdate:options":m},{item:u(({item:e})=>[a("tr",null,[a("td",null,c(e.id),1),a("td",null,c(new Date(e.created_at).toLocaleDateString()),1),a("td",null,c(e.crew_member_id),1)])]),tfoot:u(()=>[a("tr",null,[a("td",B,[v(h,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"ma-2",density:"compact",placeholder:"Search logs...","hide-details":""},null,8,["modelValue"])])])]),_:1},8,["items-per-page","headers","items","items-length","loading"])]),_:1}))}},F=x(C,[["__scopeId","data-v-fc78ec0c"]]);export{F as default};
