import{a as h,s as w}from"./VTextField-B17VRCmP.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as b}from"./VDataTable-TzwG-B0i.js";import{V as y}from"./VContainer-B9XEE_Yy.js";import{r as o,P as I,o as k,l as D,n as u,x as a,i as v,I as m}from"./index-DQc5ljF0.js";import"./VIcon-C7gsGOIY.js";import"./VImg-3QOI_Jq2.js";import"./VSelect-DfumhngB.js";import"./VAvatar-_qZacELr.js";const P={colspan:"3"},C={__name:"log",setup(N){const r=o(10),_=o([{title:"ID",key:"id",align:"center",divider:!0},{title:"Created At",key:"created_at",align:"center",divider:!0},{title:"Crew Member",key:"crew_member_id",align:"center",divider:!0}]),l=o([]),s=o(!0),n=o(0),i=o(""),c=async({page:d,itemsPerPage:t})=>{s.value=!0;const e=parseInt(i.value,10),p=w.from("logs").select("*",{count:"exact"}).range((d-1)*t,d*t-1);isNaN(e)||p.eq("crew_member_id",e);const{data:f,count:V,error:g}=await p;g?(console.error("Error fetching logs:",g),l.value=[],n.value=0):(l.value=f||[],n.value=V||0),s.value=!1};return I(()=>{c({page:1,itemsPerPage:r.value})}),(d,t)=>(k(),D(y,{rounded:"10px",class:"log-container"},{default:u(()=>[t[2]||(t[2]=a("h1",null,"Log Records",-1)),v(b,{"items-per-page":r.value,"onUpdate:itemsPerPage":t[1]||(t[1]=e=>r.value=e),headers:_.value,items:l.value,"items-length":n.value,loading:s.value,"item-value":"id","onUpdate:options":c},{item:u(({item:e})=>[a("tr",null,[a("td",null,m(e.id),1),a("td",null,m(new Date(e.created_at).toLocaleDateString()),1),a("td",null,m(e.crew_member_id),1)])]),tfoot:u(()=>[a("tr",null,[a("td",P,[v(h,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"ma-2",density:"compact",placeholder:"Search logs...","hide-details":""},null,8,["modelValue"])])])]),_:1},8,["items-per-page","headers","items","items-length","loading"])]),_:1}))}},F=x(C,[["__scopeId","data-v-f73327f8"]]);export{F as default};
