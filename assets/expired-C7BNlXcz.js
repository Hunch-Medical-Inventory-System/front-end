import{V as ae,_ as le}from"./VDialog-COGKe1kA.js";import{Y as q,p as R,m as K,b as ie,c as ue,g as X,d as re,K as ce,Z,r as b,e as I,s as A,A as L,_ as de,i as s,h as Y,$ as J,a0 as ve,a1 as fe,D as me,B as he,F as Q,G as $,j as M,a2 as ge,E as ye,a3 as Ve,N as _e,W as F,o as D,l as W,n as u,y as C,S as P,q as xe,v as Ce,P as Ie,X as S}from"./index-Du5z79ae.js";import{u as we,a as Se}from"./tables-muiguW3N.js";import{V as T}from"./VRow-CUDreSJx.js";import{c as Te,V as B,d as be,e as Be,f as ke}from"./VAvatar-D9U4NOsv.js";import{a as De,V as Pe}from"./density-B8ZnDpWE.js";import{V as Ee}from"./VCard-DCU-Avsv.js";import{V as Le,a as $e}from"./VToolbar-D4iWPsBW.js";import{V as Re}from"./VSpacer-DVEU3W4w.js";import{V as G}from"./VContainer-B0u_hjBt.js";import{M as Xe,m as Ye,V as O}from"./VImg-DjId62tk.js";import{m as He,u as We,V as N}from"./VOverlay-_Hym0hCp.js";import{V as Ae}from"./VSheet-BXSZFARp.js";import{V as E}from"./VCol-BOi5hJF4.js";import"./forwardRefs-CTeWSHed.js";import"./scopeId-CvvF_hGf.js";import"./VGrid-C5lZOBIV.js";import"./index-DJNgFlX-.js";const Me=e=>{const{touchstartX:o,touchendX:t,touchstartY:n,touchendY:i}=e,r=.5,a=16;e.offsetX=t-o,e.offsetY=i-n,Math.abs(e.offsetY)<r*Math.abs(e.offsetX)&&(e.left&&t<o-a&&e.left(e),e.right&&t>o+a&&e.right(e)),Math.abs(e.offsetX)<r*Math.abs(e.offsetY)&&(e.up&&i<n-a&&e.up(e),e.down&&i>n+a&&e.down(e))};function je(e,o){var n;const t=e.changedTouches[0];o.touchstartX=t.clientX,o.touchstartY=t.clientY,(n=o.start)==null||n.call(o,{originalEvent:e,...o})}function Fe(e,o){var n;const t=e.changedTouches[0];o.touchendX=t.clientX,o.touchendY=t.clientY,(n=o.end)==null||n.call(o,{originalEvent:e,...o}),Me(o)}function Ge(e,o){var n;const t=e.changedTouches[0];o.touchmoveX=t.clientX,o.touchmoveY=t.clientY,(n=o.move)==null||n.call(o,{originalEvent:e,...o})}function Oe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>je(t,o),touchend:t=>Fe(t,o),touchmove:t=>Ge(t,o)}}function Ne(e,o){var v;const t=o.value,n=t!=null&&t.parent?e.parentElement:e,i=(t==null?void 0:t.options)??{passive:!0},r=(v=o.instance)==null?void 0:v.$.uid;if(!n||!r)return;const a=Oe(o.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[r]=a,q(a).forEach(d=>{n.addEventListener(d,a[d],i)})}function ze(e,o){var r,a;const t=(r=o.value)!=null&&r.parent?e.parentElement:e,n=(a=o.instance)==null?void 0:a.$.uid;if(!(t!=null&&t._touchHandlers)||!n)return;const i=t._touchHandlers[n];q(i).forEach(v=>{t.removeEventListener(v,i[v])}),delete t._touchHandlers[n]}const p={mounted:Ne,unmounted:ze},ee=Symbol.for("vuetify:v-window"),te=Symbol.for("vuetify:v-window-group"),ne=R({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...K(),...ie(),...ue()},"VWindow"),z=X()({name:"VWindow",directives:{Touch:p},props:ne(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const{themeClasses:n}=re(e),{isRtl:i}=ce(),{t:r}=Z(),a=Te(e,te),v=b(),d=I(()=>i.value?!e.reverse:e.reverse),c=A(!1),y=I(()=>{const f=e.direction==="vertical"?"y":"x",x=(d.value?!c.value:c.value)?"-reverse":"";return`v-window-${f}${x}-transition`}),m=A(0),V=b(void 0),_=I(()=>a.items.value.findIndex(f=>a.selected.value.includes(f.id)));L(_,(f,g)=>{const x=a.items.value.length,j=x-1;x<=2?c.value=f<g:f===j&&g===0?c.value=!0:f===0&&g===j?c.value=!1:c.value=f<g}),de(ee,{transition:y,isReversed:c,transitionCount:m,transitionHeight:V,rootRef:v});const l=I(()=>e.continuous||_.value!==0),k=I(()=>e.continuous||_.value!==a.items.value.length-1);function h(){l.value&&a.prev()}function w(){k.value&&a.next()}const H=I(()=>{const f=[],g={icon:i.value?e.nextIcon:e.prevIcon,class:`v-window__${d.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};f.push(l.value?t.prev?t.prev({props:g}):s(B,g,null):s("div",null,null));const x={icon:i.value?e.prevIcon:e.nextIcon,class:`v-window__${d.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return f.push(k.value?t.next?t.next({props:x}):s(B,x,null):s("div",null,null)),f}),se=I(()=>e.touch===!1?e.touch:{...{left:()=>{d.value?h():w()},right:()=>{d.value?w():h()},start:g=>{let{originalEvent:x}=g;x.stopPropagation()}},...e.touch===!0?{}:e.touch});return Y(()=>J(s(e.tag,{ref:v,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},n.value,e.class],style:e.style},{default:()=>{var f,g;return[s("div",{class:"v-window__container",style:{height:V.value}},[(f=t.default)==null?void 0:f.call(t,{group:a}),e.showArrows!==!1&&s("div",{class:"v-window__controls"},[H.value])]),(g=t.additional)==null?void 0:g.call(t,{group:a})]}}),[[ve("touch"),se.value]])),{group:a}}}),Ue=R({color:String,cycle:Boolean,delimiterIcon:{type:fe,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...ne({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),qe=X()({name:"VCarousel",props:Ue(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const n=me(e,"modelValue"),{t:i}=Z(),r=b();let a=-1;L(n,d),L(()=>e.interval,d),L(()=>e.cycle,c=>{c?d():window.clearTimeout(a)}),he(v);function v(){!e.cycle||!r.value||(a=window.setTimeout(r.value.group.next,+e.interval>0?+e.interval:6e3))}function d(){window.clearTimeout(a),window.requestAnimationFrame(v)}return Y(()=>{const c=z.filterProps(e);return s(z,$({ref:r},c,{modelValue:n.value,"onUpdate:modelValue":y=>n.value=y,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:M(e.height)},e.style]}),{default:t.default,additional:y=>{let{group:m}=y;return s(Q,null,[!e.hideDelimiters&&s("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[m.items.value.length>0&&s(De,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[m.items.value.map((V,_)=>{const l={id:`carousel-item-${V.id}`,"aria-label":i("$vuetify.carousel.ariaLabel.delimiter",_+1,m.items.value.length),class:["v-carousel__controls__item",m.isSelected(V.id)&&"v-btn--active"],onClick:()=>m.select(V.id,!0)};return t.item?t.item({props:l,item:V}):s(B,$(V,l),null)})]})]),e.progress&&s(be,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(m.getItemIndex(n.value)+1)/m.items.value.length*100},null)])},prev:t.prev,next:t.next})}),{}}}),oe=R({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...K(),...Be(),...He()},"VWindowItem"),U=X()({name:"VWindowItem",directives:{Touch:p},props:oe(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:t}=o;const n=ge(ee),i=ke(e,te),{isBooted:r}=ye();if(!n||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=A(!1),v=I(()=>r.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function d(){!a.value||!n||(a.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function c(){var l;a.value||!n||(a.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=M((l=n.rootRef.value)==null?void 0:l.clientHeight)),n.transitionCount.value+=1)}function y(){d()}function m(l){a.value&&_e(()=>{!v.value||!a.value||!n||(n.transitionHeight.value=M(l.clientHeight))})}const V=I(()=>{const l=n.isReversed.value?e.reverseTransition:e.transition;return v.value?{name:typeof l!="string"?n.transition.value:l,onBeforeEnter:c,onAfterEnter:d,onEnterCancelled:y,onBeforeLeave:c,onAfterLeave:d,onLeaveCancelled:y,onEnter:m}:!1}),{hasContent:_}=We(e,i.isSelected);return Y(()=>s(Xe,{transition:V.value,disabled:!r.value},{default:()=>{var l;return[J(s("div",{class:["v-window-item",i.selectedClass.value,e.class],style:e.style},[_.value&&((l=t.default)==null?void 0:l.call(t))]),[[Ve,i.isSelected.value]])]}})),{groupItem:i}}}),Ke=R({...Ye(),...oe()},"VCarouselItem"),Ze=X()({name:"VCarouselItem",inheritAttrs:!1,props:Ke(),setup(e,o){let{slots:t,attrs:n}=o;Y(()=>{const i=O.filterProps(e),r=U.filterProps(e);return s(U,$({class:["v-carousel-item",e.class]},r),{default:()=>[s(O,$(n,i),t)]})})}}),ht={__name:"expired",setup(e){const o=we(),t=Se(),{suppliesLoading:n,currentSupplies:i}=F(o),{inventoryLoading:r,currentInventory:a,expiredInventory:v,currentInventoryLength:d}=F(t),c=b(!1),y=b(0),m=_=>{y.value=_,c.value=!c.value},V=()=>{c.value=!1,t.retrieveInventory()};return(_,l)=>{const k=le;return D(),W(G,{class:"my-10"},{default:u(()=>[s(T,{class:"text-h4 justify-center text-center mb-5"},{default:u(()=>l[2]||(l[2]=[C(" Expired Inventory ")])),_:1}),P(r)?Ie("",!0):(D(),W(qe,{key:0,progress:"primary",height:"370","hide-delimiters":""},{default:u(()=>[(D(!0),xe(Q,null,Ce(P(v).data,h=>(D(),W(Ze,{key:h.id},{default:u(()=>[s(Ae,{height:"100%",tile:""},{default:u(()=>[s(G,{class:""},{default:u(()=>[s(T,null,{default:u(()=>[s(E,{class:"text-start"},{default:u(()=>[C(S(h.id),1)]),_:2},1024),s(E,{class:"text-end"},{default:u(()=>[C(S(h.card_id),1)]),_:2},1024)]),_:2},1024),s(T,{class:"text-h4 justify-center text-center"},{default:u(()=>{var w;return[C(S(P(n)?"Loading...":(w=P(i).data.find(H=>H.id===h.supply_id))==null?void 0:w.item),1)]}),_:2},1024),s(T,{class:"my-10"},{default:u(()=>[s(E,{class:"text-center"},{default:u(()=>[s(N,null,{default:u(()=>[C("Created on: "+S(new Date(h.created_at).toLocaleDateString()),1)]),_:2},1024)]),_:2},1024),s(E,{class:"text-center"},{default:u(()=>[s(N,{color:"error"},{default:u(()=>[C("Expired on: "+S(new Date(h.expiry_date).toLocaleDateString()),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(T,{class:"justify-center"},{default:u(()=>[s(B,{onClick:w=>m(h.id),color:"error"},{default:u(()=>l[3]||(l[3]=[C("Delete")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})),s(ae,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=h=>c.value=h),"hide-overlay":"",transition:"dialog-bottom-transition"},{default:u(()=>[s(Ee,{class:"rounded-lg"},{default:u(()=>[s(Le,{class:"rounded-lg"},{default:u(()=>[s($e,null,{default:u(()=>l[4]||(l[4]=[C("Delete Item")])),_:1}),s(Re),s(B,{icon:"",onClick:l[0]||(l[0]=h=>m(y.value))},{default:u(()=>[s(Pe,null,{default:u(()=>l[5]||(l[5]=[C("mdi-close")])),_:1})]),_:1})]),_:1}),s(k,{id:y.value,table:"supplies",onClose:V},null,8,["id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{ht as default};
