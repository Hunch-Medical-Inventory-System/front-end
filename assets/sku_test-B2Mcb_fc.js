import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as p}from"./VImg-3QOI_Jq2.js";import{V as k}from"./VAlert-DLmcir63.js";import{V,a as N,c as C}from"./VCard-DSs8ep42.js";import{V as y}from"./VContainer-B9XEE_Yy.js";import{o as i,l,n as s,i as u,y as n,I as o,J as c,x as f}from"./index-DQc5ljF0.js";import"./VIcon-C7gsGOIY.js";import"./VAvatar-_qZacELr.js";const _={data(){return{sku:null,error:null}},methods:{async scanNfc(){if("NDEFReader"in window)try{const e=new NDEFReader;await e.scan(),e.onreading=r=>{const{serialNumber:a}=r;this.fetchSku(a)}}catch(e){this.error="NFC scan failed: "+e.message}else this.error="NFC is not supported on this device."},async fetchSku(e){const{data:r,error:a}=await this.$supabase.from("skus").select("*").eq("nfc_uid",e).single();a?this.error="SKU not found":this.sku=r}}};function x(e,r,a,w,t,d){return i(),l(y,null,{default:s(()=>[u(p,{onClick:d.scanNfc},{default:s(()=>r[0]||(r[0]=[n("Scan NFC Tag")])),_:1},8,["onClick"]),t.error?(i(),l(k,{key:0,type:"error"},{default:s(()=>[n(o(t.error),1)]),_:1})):c("",!0),t.sku?(i(),l(V,{key:1},{default:s(()=>[u(N,null,{default:s(()=>[n(o(t.sku.sku_name),1)]),_:1}),u(C,null,{default:s(()=>[n(" Description: "+o(t.sku.description),1),r[1]||(r[1]=f("br",null,null,-1)),n(" Price: "+o(t.sku.price),1),r[2]||(r[2]=f("br",null,null,-1)),n(" Quantity: "+o(t.sku.quantity),1),r[3]||(r[3]=f("br",null,null,-1))]),_:1})]),_:1})):c("",!0)]),_:1})}const q=m(_,[["render",x]]);export{q as default};
