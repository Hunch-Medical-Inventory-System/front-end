import{N as fn,O as us,g as K,C as cs,P as ds,m as ie,D as ea,_ as lt,r as H,Q as yi,p as F,R as ee,b as Oe,c as _e,S as ue,T as Ue,U as ct,d as $e,W as Qe,s as ne,X as Je,u as _t,e as w,Y as zt,t as D,h as Z,i as v,Z as z,$ as ka,a0 as Pe,a1 as fs,a2 as St,a3 as fe,a4 as Tt,a5 as Ye,a6 as pe,a7 as Te,a8 as hs,L as Re,a9 as At,F as oe,aa as ge,ab as ve,ac as Zt,ad as It,ae as vs,af as Ve,E as st,ag as bi,ah as Et,G as ta,f as ot,ai as ae,aj as pi,ak as Ot,al as $t,am as hn,an as wi,ao as xe,ap as Fn,aq as Rt,ar as de,as as _i,at as Si,au as ki,j as re,av as be,aw as Qt,ax as Pi,ay as Me,w as Ne,az as gs,aA as xi,aB as Pa,aC as ms,aD as Ci,aE as Ti,aF as Ai,aG as Ii,aH as Ei,aI as Oi,aJ as $i,aK as Ri,aL as Vi,aM as Li,y as Mn,aN as xa,aO as ji,aP as Di,aQ as en,aR as Ht,K as Ca,H as Bi,aS as ys}from"./index-D841JOJF.js";import{m as Vt,a as vn,b as dt,f as na,c as gn,e as Lt,g as bs,V as he,h as jt,u as Dt,d as aa}from"./VIcon-BJSMFdui.js";import{m as ze,b as ft,a as Ge,u as sa,c as Xe,d as Ee,g as ra,R as ia,e as ps,f as ws,h as Fi,i as _s,j as Mi,k as Ss,p as Ta,l as Tn,n as An,o as Aa,q as Ia,r as Ni,s as Ui,t as ks,v as Ps,L as xs}from"./VContainer-ChFM1aVM.js";import{V as zi,m as mn,M as yn,I as Hi}from"./VImg-DMDSht42.js";class Ke{constructor(n){let{x:t,y:a,width:s,height:r}=n;this.x=t,this.y=a,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Ea(e,n){return{x:{before:Math.max(0,n.left-e.left),after:Math.max(0,e.right-n.right)},y:{before:Math.max(0,n.top-e.top),after:Math.max(0,e.bottom-n.bottom)}}}function Cs(e){return Array.isArray(e)?new Ke({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function la(e){const n=e.getBoundingClientRect(),t=getComputedStyle(e),a=t.transform;if(a){let s,r,i,l,o;if(a.startsWith("matrix3d("))s=a.slice(9,-1).split(/, /),r=+s[0],i=+s[5],l=+s[12],o=+s[13];else if(a.startsWith("matrix("))s=a.slice(7,-1).split(/, /),r=+s[0],i=+s[3],l=+s[4],o=+s[5];else return new Ke(n);const u=t.transformOrigin,c=n.x-l-(1-r)*parseFloat(u),d=n.y-o-(1-i)*parseFloat(u.slice(u.indexOf(" ")+1)),f=r?n.width/r:e.offsetWidth+1,m=i?n.height/i:e.offsetHeight+1;return new Ke({x:c,y:d,width:f,height:m})}else return new Ke(n)}function rt(e,n,t){if(typeof e.animate>"u")return{finished:Promise.resolve()};let a;try{a=e.animate(n,t)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(s=>{a.onfinish=()=>{s(a)}})),a}const Yt=new WeakMap;function qi(e,n){Object.keys(n).forEach(t=>{if(fn(t)){const a=us(t),s=Yt.get(e);if(n[t]==null)s==null||s.forEach(r=>{const[i,l]=r;i===a&&(e.removeEventListener(a,l),s.delete(r))});else if(!s||![...s].some(r=>r[0]===a&&r[1]===n[t])){e.addEventListener(a,n[t]);const r=s||new Set;r.add([a,n[t]]),Yt.has(e)||Yt.set(e,r)}}else n[t]==null?e.removeAttribute(t):e.setAttribute(t,n[t])})}function Gi(e,n){Object.keys(n).forEach(t=>{if(fn(t)){const a=us(t),s=Yt.get(e);s==null||s.forEach(r=>{const[i,l]=r;i===a&&(e.removeEventListener(a,l),s.delete(r))})}else e.removeAttribute(t)})}function Wi(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",t=arguments.length>2?arguments[2]:void 0;return K()({name:t??cs(ds(e.replace(/__/g,"-"))),props:{tag:{type:String,default:n},...ie()},setup(a,s){let{slots:r}=s;return()=>{var i;return ea(a.tag,{class:[e,a.class],style:a.style},(i=r.default)==null?void 0:i.call(r))}}})}function Ts(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const n=e.getRootNode();return n!==document&&n.getRootNode({composed:!0})!==document?null:n}const tn="cubic-bezier(0.4, 0, 0.2, 1)",Ki="cubic-bezier(0.0, 0, 0.2, 1)",Ji="cubic-bezier(0.4, 0, 1, 1)";function Oa(e,n,t){return Object.keys(e).filter(a=>fn(a)&&a.endsWith(n)).reduce((a,s)=>(a[s.slice(0,-n.length)]=r=>e[s](r,t(r)),a),{})}function As(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(n?Qi(e):oa(e))return e;e=e.parentElement}return document.scrollingElement}function nn(e,n){const t=[];if(n&&e&&!n.contains(e))return t;for(;e&&(oa(e)&&t.push(e),e!==n);)e=e.parentElement;return t}function oa(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return n.overflowY==="scroll"||n.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Qi(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return["scroll","auto"].includes(n.overflowY)}function Yi(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const Xi=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>lt(async()=>{const{default:a}=await Promise.resolve().then(()=>ht);return{default:a}},void 0).then(({default:a})=>a(...t)):n=fetch,(...t)=>n(...t)};class ua extends Error{constructor(n,t="FunctionsError",a){super(n),this.name=t,this.context=a}}class Zi extends ua{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class el extends ua{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class tl extends ua{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Nn;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nn||(Nn={}));var nl=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};class al{constructor(n,{headers:t={},customFetch:a,region:s=Nn.Any}={}){this.url=n,this.headers=t,this.region=s,this.fetch=Xi(a)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var a;return nl(this,void 0,void 0,function*(){try{const{headers:s,method:r,body:i}=t;let l={},{region:o}=t;o||(o=this.region),o&&o!=="any"&&(l["x-region"]=o);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const c=yield this.fetch(`${this.url}/${n}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(h=>{throw new Zi(h)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new el(c);if(!c.ok)throw new tl(c);let f=((a=c.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield c.json():f==="application/octet-stream"?m=yield c.blob():f==="text/event-stream"?m=c:f==="multipart/form-data"?m=yield c.formData():m=yield c.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sl(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),t}var ke={},ca={},bn={},Bt={},pn={},wn={},rl=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ut=rl();const il=ut.fetch,Is=ut.fetch.bind(ut),Es=ut.Headers,ll=ut.Request,ol=ut.Response,ht=Object.freeze(Object.defineProperty({__proto__:null,Headers:Es,Request:ll,Response:ol,default:Is,fetch:il},Symbol.toStringTag,{value:"Module"})),ul=sl(ht);var da={};Object.defineProperty(da,"__esModule",{value:!0});class cl extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}da.default=cl;var Os=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});const dl=Os(ul),fl=Os(da);let hl=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=dl.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var i,l,o;let u=null,c=null,d=null,f=r.status,m=r.statusText;if(r.ok){if(this.method!=="HEAD"){const b=await r.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=b:c=JSON.parse(b))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),g=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await r.text();try{u=JSON.parse(y),Array.isArray(u)&&r.status===404&&(c=[],u=null,f=200,m="OK")}catch{r.status===404&&y===""?(f=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new fl.default(u)}return{error:u,data:c,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(r=>{var i,l,o;return{error:{message:`${(i=r==null?void 0:r.name)!==null&&i!==void 0?i:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(l=r==null?void 0:r.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=r==null?void 0:r.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),s.then(n,t)}};wn.default=hl;var vl=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pn,"__esModule",{value:!0});const gl=vl(wn);let ml=class extends gl.default{select(n){let t=!1;const a=(n??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:a,foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${n}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:a=t}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,t,{foreignTable:a,referencedTable:s=a}={}){const r=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${n}`),this.url.searchParams.set(i,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:a=!1,buffers:s=!1,wal:r=!1,format:i="text"}={}){var l;const o=[n?"analyze":null,t?"verbose":null,a?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${o};`,i==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pn.default=ml;var yl=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});const bl=yl(pn);let pl=class extends bl.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){const a=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:a,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");const i=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${r}fts${i}.${t}`),this}match(n){return Object.entries(n).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(n,t,a){return this.url.searchParams.append(n,`not.${t}.${a}`),this}or(n,{foreignTable:t,referencedTable:a=t}={}){const s=a?`${a}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,t,a){return this.url.searchParams.append(n,`${t}.${a}`),this}};Bt.default=pl;var wl=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});const gt=wl(Bt);let _l=class{constructor(n,{headers:t={},schema:a,fetch:s}){this.url=n,this.headers=t,this.schema=a,this.fetch=s}select(n,{head:t=!1,count:a}={}){const s=t?"HEAD":"GET";let r=!1;const i=(n??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",i),a&&(this.headers.Prefer=`count=${a}`),new gt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:a=!0}={}){const s="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),a||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(n)){const i=n.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(i.length>0){const l=[...new Set(i)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new gt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:a=!1,count:s,defaultToNull:r=!0}={}){const i="POST",l=[`resolution=${a?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),r||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const o=n.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(o.length>0){const u=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new gt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){const a="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new gt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const t="DELETE",a=[];return n&&a.push(`count=${n}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new gt.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bn.default=_l;var _n={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.version=void 0;Sn.version="0.0.0-automated";Object.defineProperty(_n,"__esModule",{value:!0});_n.DEFAULT_HEADERS=void 0;const Sl=Sn;_n.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Sl.version}`};var $s=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ca,"__esModule",{value:!0});const kl=$s(bn),Pl=$s(Bt),xl=_n;let Cl=class Rs{constructor(n,{headers:t={},schema:a,fetch:s}={}){this.url=n,this.headers=Object.assign(Object.assign({},xl.DEFAULT_HEADERS),t),this.schemaName=a,this.fetch=s}from(n){const t=new URL(`${this.url}/${n}`);return new kl.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Rs(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:a=!1,get:s=!1,count:r}={}){let i;const l=new URL(`${this.url}/rpc/${n}`);let o;a||s?(i=a?"HEAD":"GET",Object.entries(t).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{l.searchParams.append(c,d)})):(i="POST",o=t);const u=Object.assign({},this.headers);return r&&(u.Prefer=`count=${r}`),new Pl.default({method:i,url:l,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};ca.default=Cl;var Ft=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const Vs=Ft(ca);ke.PostgrestClient=Vs.default;const Ls=Ft(bn);ke.PostgrestQueryBuilder=Ls.default;const js=Ft(Bt);ke.PostgrestFilterBuilder=js.default;const Ds=Ft(pn);ke.PostgrestTransformBuilder=Ds.default;const Bs=Ft(wn);ke.PostgrestBuilder=Bs.default;var Tl=ke.default={PostgrestClient:Vs.default,PostgrestQueryBuilder:Ls.default,PostgrestFilterBuilder:js.default,PostgrestTransformBuilder:Ds.default,PostgrestBuilder:Bs.default};const{PostgrestClient:Al,PostgrestQueryBuilder:xd,PostgrestFilterBuilder:Cd,PostgrestTransformBuilder:Td,PostgrestBuilder:Ad}=Tl,Il="2.10.2",El={"X-Client-Info":`realtime-js/${Il}`},Ol="1.0.0",Fs=1e4,$l=1e3;var it;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(it||(it={}));var we;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(we||(we={}));var Ie;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ie||(Ie={}));var Un;(function(e){e.websocket="websocket"})(Un||(Un={}));var We;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(We||(We={}));class Rl{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),a=new TextDecoder;return this._decodeBroadcast(n,t,a)}_decodeBroadcast(n,t,a){const s=t.getUint8(1),r=t.getUint8(2);let i=this.HEADER_LENGTH+2;const l=a.decode(n.slice(i,i+s));i=i+s;const o=a.decode(n.slice(i,i+r));i=i+r;const u=JSON.parse(a.decode(n.slice(i,n.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class Ms{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const $a=(e,n,t={})=>{var a;const s=(a=t.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(n).reduce((r,i)=>(r[i]=Vl(i,e,n,s),r),{})},Vl=(e,n,t,a)=>{const s=n.find(l=>l.name===e),r=s==null?void 0:s.type,i=t[e];return r&&!a.includes(r)?Ns(r,i):zn(i)},Ns=(e,n)=>{if(e.charAt(0)==="_"){const t=e.slice(1,e.length);return Bl(n,t)}switch(e){case se.bool:return Ll(n);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return jl(n);case se.json:case se.jsonb:return Dl(n);case se.timestamp:return Fl(n);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return zn(n);default:return zn(n)}},zn=e=>e,Ll=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jl=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},Dl=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},Bl=(e,n)=>{if(typeof e!="string")return e;const t=e.length-1,a=e[t];if(e[0]==="{"&&a==="}"){let r;const i=e.slice(1,t);try{r=JSON.parse("["+i+"]")}catch{r=i?i.split(","):[]}return r.map(l=>Ns(n,l))}return e},Fl=e=>typeof e=="string"?e.replace(" ","T"):e,Us=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class In{constructor(n,t,a={},s=Fs){this.channel=n,this.event=t,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var a;return this._hasReceived(n)&&t((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(a=>a.status===n).forEach(a=>a.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ra;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ra||(Ra={}));class pt{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:r,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pt.syncState(this.state,s,r,i),this.pendingDiffs.forEach(o=>{this.state=pt.syncDiff(this.state,o,r,i)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:r,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pt.syncDiff(this.state,s,r,i),l())}),this.onJoin((s,r,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:r,newPresences:i})}),this.onLeave((s,r,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:r,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,a,s){const r=this.cloneDeep(n),i=this.transformState(t),l={},o={};return this.map(r,(u,c)=>{i[u]||(o[u]=c)}),this.map(i,(u,c)=>{const d=r[u];if(d){const f=c.map(g=>g.presence_ref),m=d.map(g=>g.presence_ref),h=c.filter(g=>m.indexOf(g.presence_ref)<0),y=d.filter(g=>f.indexOf(g.presence_ref)<0);h.length>0&&(l[u]=h),y.length>0&&(o[u]=y)}else l[u]=c}),this.syncDiff(r,{joins:l,leaves:o},a,s)}static syncDiff(n,t,a,s){const{joins:r,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(r,(l,o)=>{var u;const c=(u=n[l])!==null&&u!==void 0?u:[];if(n[l]=this.cloneDeep(o),c.length>0){const d=n[l].map(m=>m.presence_ref),f=c.filter(m=>d.indexOf(m.presence_ref)<0);n[l].unshift(...f)}a(l,c,o)}),this.map(i,(l,o)=>{let u=n[l];if(!u)return;const c=o.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),n[l]=u,s(l,u,o),u.length===0&&delete n[l]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(a=>t(a,n[a]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,a)=>{const s=n[a];return"metas"in s?t[a]=s.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[a]=s,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Va;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Va||(Va={}));var La;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(La||(La={}));var ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class fa{constructor(n,t={config:{}},a){this.topic=n,this.params=t,this.socket=a,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new In(this,Ie.join,this.params,this.timeout),this.rejoinTimer=new Ms(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ie.reply,{},(s,r)=>{this._trigger(this._replyEventName(r),s)}),this.presence=new pt(this),this.broadcastEndpointURL=Us(this.socket.endPoint)+"/api/broadcast"}subscribe(n,t=this.timeout){var a,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:i,private:l}}=this.params;this._onError(c=>n&&n("CHANNEL_ERROR",c)),this._onClose(()=>n&&n("CLOSED"));const o={},u={broadcast:r,presence:i,postgres_changes:(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(c=>c.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){n&&n("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,h=[];for(let y=0;y<m;y++){const g=f[y],{filter:{event:b,schema:p,table:C,filter:T}}=g,S=c&&c[y];if(S&&S.event===b&&S.schema===p&&S.table===C&&S.filter===T)h.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,n&&n("SUBSCRIBED");return}}).receive("error",c=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,a){return this._on(n,t,a)}async send(n,t={}){var a,s;if(!this._canPush()&&n.type==="broadcast"){const{event:r,payload:i}=n,l={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:i}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=o.body)===null||s===void 0?void 0:s.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var i,l,o;const u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((o=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=we.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ie.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const s=new In(this,Ie.leave,{},n);s.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(n,t,a){const s=new AbortController,r=setTimeout(()=>s.abort(),a),i=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(r),i}_push(n,t,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new In(this,n,t,a);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(n,t,a){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,a){var s,r;const i=n.toLocaleLowerCase(),{close:l,error:o,leave:u,join:c}=Ie;if(a&&[l,o,u,c].indexOf(i)>=0&&a!==this._joinRef())return;let f=this._onMessage(i,t,a);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var h,y,g;return((h=m.filter)===null||h===void 0?void 0:h.event)==="*"||((g=(y=m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(m=>m.callback(f,a)):(r=this.bindings[i])===null||r===void 0||r.filter(m=>{var h,y,g,b,p,C;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const T=m.id,S=(h=m.filter)===null||h===void 0?void 0:h.event;return T&&((y=t.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const T=(p=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return T==="*"||T===((C=t==null?void 0:t.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof f=="object"&&"ids"in f){const h=f.data,{schema:y,table:g,commit_timestamp:b,type:p,errors:C}=h;f=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:b,eventType:p,new:{},old:{},errors:C}),this._getPayloadRecords(h))}m.callback(f,a)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,a){const s=n.toLocaleLowerCase(),r={type:s,filter:t,callback:a};return this.bindings[s]?this.bindings[s].push(r):this.bindings[s]=[r],this}_off(n,t){const a=n.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(s=>{var r;return!(((r=s.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===a&&fa.isEqual(s.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const a in n)if(n[a]!==t[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ie.close,{},n)}_onError(n){this._on(Ie.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=$a(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=$a(n.columns,n.old_record)),t}}const Ml=()=>{},Nl=typeof WebSocket<"u";class Ul{constructor(n,t){var a;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=El,this.params={},this.timeout=Fs,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ml,this.conn=null,this.sendBuffer=[],this.serializer=new Rl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...l)=>lt(async()=>{const{default:o}=await Promise.resolve().then(()=>ht);return{default:o}},void 0).then(({default:o})=>o(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${n}/${Un.websocket}`,this.httpEndpoint=Us(n),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(a=t==null?void 0:t.params)===null||a===void 0?void 0:a.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(r,i)=>i(JSON.stringify(r)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ms(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Nl){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new zl(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),lt(async()=>{const{default:n}=await import("./browser-CI24DceI.js").then(t=>t.b);return{default:n}},[]).then(({default:n})=>{this.conn=new n(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n}log(n,t,a){this.logger(n,t,a)}connectionState(){switch(this.conn&&this.conn.readyState){case it.connecting:return We.Connecting;case it.open:return We.Open;case it.closing:return We.Closing;default:return We.Closed}}isConnected(){return this.connectionState()===We.Open}channel(n,t={config:{}}){const a=new fa(`realtime:${n}`,t,this);return this.channels.push(a),a}push(n){const{topic:t,event:a,payload:s,ref:r}=n,i=()=>{this.encode(n,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${t} ${a} (${r})`,s),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(n){this.accessToken=n,this.channels.forEach(t=>{n&&t.updateJoinPayload({access_token:n}),t.joinedOnce&&t._isJoined()&&t._push(Ie.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(a=>a.topic===n&&(a._isJoined()||a._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ol}))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:a,event:s,payload:r,ref:i}=t;(i&&i===this.pendingHeartbeatRef||s===(r==null?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${a} ${s} ${i&&"("+i+")"||""}`,r),this.channels.filter(l=>l._isMember(a)).forEach(l=>l._trigger(s,r,i)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ie.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;const a=n.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${n}${a}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close($l,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class zl{constructor(n,t,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=it.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=a.close}}class ha extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Hl extends ha{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hn extends ha{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}var ql=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const zs=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>lt(async()=>{const{default:a}=await Promise.resolve().then(()=>ht);return{default:a}},void 0).then(({default:a})=>a(...t)):n=fetch,(...t)=>n(...t)},Gl=()=>ql(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lt(()=>Promise.resolve().then(()=>ht),void 0)).Response:Response}),qn=e=>{if(Array.isArray(e))return e.map(t=>qn(t));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([t,a])=>{const s=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));n[s]=qn(a)}),n};var Ze=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const En=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wl=(e,n,t)=>Ze(void 0,void 0,void 0,function*(){const a=yield Gl();e instanceof a&&!(t!=null&&t.noResolveJson)?e.json().then(s=>{n(new Hl(En(s),e.status||500))}).catch(s=>{n(new Hn(En(s),s))}):n(new Hn(En(e),e))}),Kl=(e,n,t,a)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),a&&(s.body=JSON.stringify(a)),Object.assign(Object.assign({},s),t))};function Mt(e,n,t,a,s,r){return Ze(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(t,Kl(n,a,s,r)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>i(o)).catch(o=>Wl(o,l,a))})})}function an(e,n,t,a){return Ze(this,void 0,void 0,function*(){return Mt(e,"GET",n,t,a)})}function Be(e,n,t,a,s){return Ze(this,void 0,void 0,function*(){return Mt(e,"POST",n,a,s,t)})}function Jl(e,n,t,a,s){return Ze(this,void 0,void 0,function*(){return Mt(e,"PUT",n,a,s,t)})}function Ql(e,n,t,a){return Ze(this,void 0,void 0,function*(){return Mt(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),a)})}function Hs(e,n,t,a,s){return Ze(this,void 0,void 0,function*(){return Mt(e,"DELETE",n,a,s,t)})}var ye=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const Yl={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Da={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xl{constructor(n,t={},a,s){this.url=n,this.headers=t,this.bucketId=a,this.fetch=zs(s)}uploadOrUpdate(n,t,a,s){return ye(this,void 0,void 0,function*(){try{let r;const i=Object.assign(Object.assign({},Da),s);let l=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(i.upsert)});const o=i.metadata;typeof Blob<"u"&&a instanceof Blob?(r=new FormData,r.append("cacheControl",i.cacheControl),r.append("",a),o&&r.append("metadata",this.encodeMetadata(o))):typeof FormData<"u"&&a instanceof FormData?(r=a,r.append("cacheControl",i.cacheControl),o&&r.append("metadata",this.encodeMetadata(o))):(r=a,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:n,body:r,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}upload(n,t,a){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,a)})}uploadToSignedUrl(n,t,a,s){return ye(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(n),i=this._getFinalPath(r),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let o;const u=Object.assign({upsert:Da.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:o,headers:c}),f=yield d.json();return d.ok?{data:{path:r,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(n,t){return ye(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const r=yield Be(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),i=new URL(this.url+r.url),l=i.searchParams.get("token");if(!l)throw new ha("No token returned by API");return{data:{signedUrl:i.toString(),path:n,token:l},error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}update(n,t,a){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,a)})}move(n,t,a){return ye(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(n,t,a){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(n,t,a){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(n),r=yield Be(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${i}`)},{data:r,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(n,t,a){return ye(this,void 0,void 0,function*(){try{const s=yield Be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${r}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(n,t){return ye(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"";try{const l=this._getFinalPath(n);return{data:yield(yield an(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}})}info(n){return ye(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const a=yield an(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:qn(a),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}exists(n){return ye(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield Ql(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(ce(a)&&a instanceof Hn){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(n,t){const a=this._getFinalPath(n),s=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&s.push(r);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(n){return ye(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}list(n,t,a){return ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Yl),t),{prefix:n||""});return{data:yield Be(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const Zl="2.7.0",eo={"X-Client-Info":`storage-js/${Zl}`};var tt=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};class to{constructor(n,t={},a){this.url=n,this.headers=Object.assign(Object.assign({},eo),t),this.fetch=zs(a)}listBuckets(){return tt(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}getBucket(n){return tt(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return tt(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}updateBucket(n,t){return tt(this,void 0,void 0,function*(){try{return{data:yield Jl(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}emptyBucket(n){return tt(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}deleteBucket(n){return tt(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}}class no extends to{constructor(n,t={},a){super(n,t,a)}from(n){return new Xl(this.url,this.headers,n,this.fetch)}}const ao="2.45.4";let bt="";typeof Deno<"u"?bt="deno":typeof document<"u"?bt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bt="react-native":bt="node";const so={"X-Client-Info":`supabase-js-${bt}/${ao}`},ro={headers:so},io={schema:"public"},lo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oo={};var uo=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};const co=e=>{let n;return e?n=e:typeof fetch>"u"?n=Is:n=fetch,(...t)=>n(...t)},fo=()=>typeof Headers>"u"?Es:Headers,ho=(e,n,t)=>{const a=co(t),s=fo();return(r,i)=>uo(void 0,void 0,void 0,function*(){var l;const o=(l=yield n())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(r,Object.assign(Object.assign({},i),{headers:u}))})};var vo=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};function go(e){return e.replace(/\/$/,"")}function mo(e,n){const{db:t,auth:a,realtime:s,global:r}=e,{db:i,auth:l,realtime:o,global:u}=n,c={db:Object.assign(Object.assign({},i),t),auth:Object.assign(Object.assign({},l),a),realtime:Object.assign(Object.assign({},o),s),global:Object.assign(Object.assign({},u),r),accessToken:()=>vo(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const qs="2.65.0",yo="http://localhost:9999",bo="supabase.auth.token",po={"X-Client-Info":`gotrue-js/${qs}`},Ba=10,Gn="X-Supabase-Api-Version",Gs={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function wo(e){return Math.round(Date.now()/1e3)+e}function _o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const Ae=()=>typeof document<"u",He={tested:!1,writable:!1},wt=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(He.tested)return He.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),He.tested=!0,He.writable=!0}catch{He.tested=!0,He.writable=!1}return He.writable};function On(e){const n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,r)=>{n[r]=s})}catch{}return t.searchParams.forEach((a,s)=>{n[s]=a}),n}const Ws=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>lt(async()=>{const{default:a}=await Promise.resolve().then(()=>ht);return{default:a}},void 0).then(({default:a})=>a(...t)):n=fetch,(...t)=>n(...t)},So=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ks=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},qt=async(e,n)=>{const t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Gt=async(e,n)=>{await e.removeItem(n)};function ko(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",a,s,r,i,l,o,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)i=n.indexOf(e.charAt(c++)),l=n.indexOf(e.charAt(c++)),o=n.indexOf(e.charAt(c++)),u=n.indexOf(e.charAt(c++)),a=i<<2|l>>4,s=(l&15)<<4|o>>2,r=(o&3)<<6|u,t=t+String.fromCharCode(a),o!=64&&s!=0&&(t=t+String.fromCharCode(s)),u!=64&&r!=0&&(t=t+String.fromCharCode(r));return t}class kn{constructor(){this.promise=new kn.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}kn.promiseConstructor=Promise;function Fa(e){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=e.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const a=t[1];return JSON.parse(ko(a))}async function Po(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function xo(e,n){return new Promise((a,s)=>{(async()=>{for(let r=0;r<1/0;r++)try{const i=await e(r);if(!n(r,null,i)){a(i);return}}catch(i){if(!n(r,i)){s(i);return}}})()})}function Co(e){return("0"+e.toString(16)).substr(-2)}function To(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=t.length;let s="";for(let r=0;r<56;r++)s+=t.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(n),Array.from(n,Co).join("")}async function Ao(e){const t=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(a);return Array.from(s).map(r=>String.fromCharCode(r)).join("")}function Io(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eo(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await Ao(e);return Io(t)}async function nt(e,n,t=!1){const a=To();let s=a;t&&(s+="/PASSWORD_RECOVERY"),await Ks(e,`${n}-code-verifier`,s);const r=await Eo(a);return[r,a===r?"plain":"s256"]}const Oo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $o(e){const n=e.headers.get(Gn);if(!n||!n.match(Oo))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}class va extends Error{constructor(n,t,a){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=a}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ro extends va{constructor(n,t,a){super(n,t,a),this.name="AuthApiError",this.status=t,this.code=a}}function Vo(e){return W(e)&&e.name==="AuthApiError"}class Js extends va{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class et extends va{constructor(n,t,a,s){super(n,a,s),this.name=t,this.status=a}}class je extends et{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lo(e){return W(e)&&e.name==="AuthSessionMissingError"}class $n extends et{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wt extends et{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Kt extends et{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ma extends et{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wn extends et{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function Rn(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Na extends et{constructor(n,t,a){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=a}}var jo=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t};const qe=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Do=[502,503,504];async function Ua(e){var n;if(!So(e))throw new Wn(qe(e),0);if(Do.includes(e.status))throw new Wn(qe(e),e.status);let t;try{t=await e.json()}catch(r){throw new Js(qe(r),r)}let a;const s=$o(e);if(s&&s.getTime()>=Gs["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?a=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(a=t.error_code),a){if(a==="weak_password")throw new Na(qe(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(a==="session_not_found")throw new je}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0))throw new Na(qe(t),e.status,t.weak_password.reasons);throw new Ro(qe(t),e.status||500,a)}const Bo=(e,n,t,a)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),t))};async function Y(e,n,t,a){var s;const r=Object.assign({},a==null?void 0:a.headers);r[Gn]||(r[Gn]=Gs["2024-01-01"].name),a!=null&&a.jwt&&(r.Authorization=`Bearer ${a.jwt}`);const i=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(i.redirect_to=a.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",o=await Fo(e,n,t+l,{headers:r,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function Fo(e,n,t,a,s,r){const i=Bo(n,a,s,r);let l;try{l=await e(t,Object.assign({},i))}catch(o){throw console.error(o),new Wn(qe(o),0)}if(l.ok||await Ua(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await Ua(o)}}function De(e){var n;let t=null;zo(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=wo(e.expires_in)));const a=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:a},error:null}}function za(e){const n=De(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,a)=>t&&typeof a=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Fe(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Mo(e){return{data:e,error:null}}function No(e){const{action_link:n,email_otp:t,hashed_token:a,redirect_to:s,verification_type:r}=e,i=jo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:n,email_otp:t,hashed_token:a,redirect_to:s,verification_type:r},o=Object.assign({},i);return{data:{properties:l,user:o},error:null}}function Uo(e){return e}function zo(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ho=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t};class qo{constructor({url:n="",headers:t={},fetch:a}){this.url=n,this.headers=t,this.fetch=Ws(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,t="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(W(a))return{data:null,error:a};throw a}}async inviteUserByEmail(n,t={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fe})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async generateLink(n){try{const{options:t}=n,a=Ho(n,["options"]),s=Object.assign(Object.assign({},a),t);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:No,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(W(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Fe})}catch(t){if(W(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,a,s,r,i,l,o;try{const u={nextPage:null,lastPage:0,total:0},c=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=n==null?void 0:n.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(r=(s=n==null?void 0:n.perPage)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:""},xform:Uo});if(c.error)throw c.error;const d=await c.json(),f=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(o=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(h=>{const y=parseInt(h.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(h.split(";")[1].split("=")[1]);u[`${g}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(n){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Fe})}catch(t){if(W(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Fe})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async deleteUser(n,t=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fe})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async _listFactors(n){try{const{data:t,error:a}=await Y(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:a}}catch(t){if(W(t))return{data:null,error:t};throw t}}async _deleteFactor(n){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}}const Go={getItem:e=>wt()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{wt()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{wt()&&globalThis.localStorage.removeItem(e)}};function Ha(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function Wo(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const at={debug:!!(globalThis&&wt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qs extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Ko extends Qs{}async function Jo(e,n,t){at.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const a=new globalThis.AbortController;return n>0&&setTimeout(()=>{a.abort(),at.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){at.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await t()}finally{at.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(n===0)throw at.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ko(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(at.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}Wo();const Qo={url:yo,storageKey:bo,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:po,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},mt=30*1e3,qa=3;async function Ga(e,n,t){return await t()}class kt{constructor(n){var t,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kt.nextInstanceID,kt.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Qo),n);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ws(s.fetch),this.lock=s.lock||Ga,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ae()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Jo:this.lock=Ga,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:wt()?this.storage=Go:(this.memoryStorage={},this.storage=Ha(this.memoryStorage)):(this.memoryStorage={},this.storage=Ha(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qs}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const n=Ae()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:a}=await this._getSessionFromURL(n);if(a)return this._debug("#_initialize()","error detecting session from URL",a),(a==null?void 0:a.message)==="Identity is already linked"||(a==null?void 0:a.message)==="Identity is already linked to another user"?{error:a}:(await this._removeSession(),{error:a});const{session:s,redirectType:r}=t;return this._debug("#_initialize()","detected session in URL",s,"redirect type",r),await this._saveSession(s),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?{error:n}:{error:new Js("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var t,a,s;try{const r=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(t=n==null?void 0:n.options)===null||t===void 0?void 0:t.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.captchaToken}},xform:De}),{data:i,error:l}=r;if(l||!i)return{data:{user:null,session:null},error:l};const o=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(n){var t,a,s;try{let r;if("email"in n){const{email:c,password:d,options:f}=n;let m=null,h=null;this.flowType==="pkce"&&([m,h]=await nt(this.storage,this.storageKey)),r=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:h},xform:De})}else if("phone"in n){const{phone:c,password:d,options:f}=n;r=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:De})}else throw new Wt("You must provide either an email or phone number and a password");const{data:i,error:l}=r;if(l||!i)return{data:{user:null,session:null},error:l};const o=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(n){try{let t;if("email"in n){const{email:r,password:i,options:l}=n;t=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:za})}else if("phone"in n){const{phone:r,password:i,options:l}=n;t=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:za})}else throw new Wt("You must provide either an email or phone number and a password");const{data:a,error:s}=t;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new $n}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(n){var t,a,s,r;return await this._handleProviderSignIn(n.provider,{redirectTo:(t=n.options)===null||t===void 0?void 0:t.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(r=n.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const t=await qt(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(t??"").split("/");try{const{data:r,error:i}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:De});if(await Gt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new $n}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:s??null}),error:i})}catch(r){if(W(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(n){try{const{options:t,provider:a,token:s,access_token:r,nonce:i}=n,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:r,nonce:i,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:De}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new $n}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(n){var t,a,s,r,i;try{if("email"in n){const{email:l,options:o}=n;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await nt(this.storage,this.storageKey));const{error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=o==null?void 0:o.data)!==null&&t!==void 0?t:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in n){const{phone:l,options:o}=n,{data:u,error:c}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(r=o==null?void 0:o.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(i=o==null?void 0:o.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Wt("You must provide either an email or phone number.")}catch(l){if(W(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(n){var t,a;try{let s,r;"options"in n&&(s=(t=n.options)===null||t===void 0?void 0:t.redirectTo,r=(a=n.options)===null||a===void 0?void 0:a.captchaToken);const{data:i,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:r}}),redirectTo:s,xform:De});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,u=i.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(n){var t,a,s;try{let r=null,i=null;return this.flowType==="pkce"&&([r,i]=await nt(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(t=n.options)===null||t===void 0?void 0:t.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=n==null?void 0:n.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:i}),headers:this.headers,xform:Mo})}catch(r){if(W(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:t},error:a}=n;if(a)throw a;if(!t)throw new je;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const t=`${this.url}/resend`;if("email"in n){const{email:a,type:s,options:r}=n,{error:i}=await Y(this.fetch,"POST",t,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in n){const{phone:a,type:s,options:r}=n,{data:i,error:l}=await Y(this.fetch,"POST",t,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Wt("You must provide either an email or phone number and a type")}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(n,t){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=t();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await n(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const t=await qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?n=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const a=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.storage.isServer){let i=this.suppressGetSessionWarning;n=new Proxy(n,{get:(o,u,c)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,c))})}return{data:{session:n},error:null}}const{session:s,error:r}=await this._callRefreshToken(n.refresh_token);return r?{data:{session:null},error:r}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Fe}):await this._useSession(async t=>{var a,s,r;const{data:i,error:l}=t;if(l)throw l;return!(!((a=i.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new je}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:Fe})})}catch(t){if(W(t))return Lo(t)&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:t};throw t}}async updateUser(n,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,t))}async _updateUser(n,t={}){try{return await this._useSession(async a=>{const{data:s,error:r}=a;if(r)throw r;if(!s.session)throw new je;const i=s.session;let l=null,o=null;this.flowType==="pkce"&&n.email!=null&&([l,o]=await nt(this.storage,this.storageKey));const{data:u,error:c}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:o}),jwt:i.access_token,xform:Fe});if(c)throw c;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}_decodeJWT(n){return Fa(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new je;const t=Date.now()/1e3;let a=t,s=!0,r=null;const i=Fa(n.access_token);if(i.exp&&(a=i.exp,s=a<=t),s){const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};r=l}else{const{data:l,error:o}=await this._getUser(n.access_token);if(o)throw o;r={access_token:n.access_token,refresh_token:n.refresh_token,user:l.user,token_type:"bearer",expires_in:a-t,expires_at:a},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(W(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async t=>{var a;if(!n){const{data:i,error:l}=t;if(l)throw l;n=(a=i.session)!==null&&a!==void 0?a:void 0}if(!(n!=null&&n.refresh_token))throw new je;const{session:s,error:r}=await this._callRefreshToken(n.refresh_token);return r?{data:{user:null,session:null},error:r}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(n){try{if(!Ae())throw new Kt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Kt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Ma("Not a valid PKCE flow url.");const t=On(window.location.href);if(n){if(!t.code)throw new Ma("No code detected.");const{data:p,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:p.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Kt(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:a,provider_refresh_token:s,access_token:r,refresh_token:i,expires_in:l,expires_at:o,token_type:u}=t;if(!r||!l||!i||!u)throw new Kt("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let f=c+d;o&&(f=parseInt(o));const m=f-c;m*1e3<=mt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const h=f-d;c-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,f,c):c-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,f,c);const{data:y,error:g}=await this._getUser(r);if(g)throw g;const b={provider_token:a,provider_refresh_token:s,access_token:r,expires_in:d,expires_at:f,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(t){if(W(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const n=On(window.location.href);return!!(Ae()&&(n.access_token||n.error_description))}async _isPKCEFlow(){const n=On(window.location.href),t=await qt(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&t)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async t=>{var a;const{data:s,error:r}=t;if(r)return{error:r};const i=(a=s.session)===null||a===void 0?void 0:a.access_token;if(i){const{error:l}=await this.admin.signOut(i,n);if(l&&!(Vo(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return n!=="others"&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(n){const t=_o(),a={id:t,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:a}}}async _emitInitialSession(n){return await this._useSession(async t=>{var a,s;try{const{data:{session:r},error:i}=t;if(i)throw i;await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",n,"session",r)}catch(r){await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",r),console.error(r)}})}async resetPasswordForEmail(n,t={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await nt(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(W(r))return{data:null,error:r};throw r}}async getUserIdentities(){var n;try{const{data:t,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(n=t.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(t){if(W(t))return{data:null,error:t};throw t}}async linkIdentity(n){var t;try{const{data:a,error:s}=await this._useSession(async r=>{var i,l,o,u,c;const{data:d,error:f}=r;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ae()&&!(!((t=n.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:n.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(W(a))return{data:{provider:n.provider,url:null},error:a};throw a}}async unlinkIdentity(n){try{return await this._useSession(async t=>{var a,s;const{data:r,error:i}=t;if(i)throw i;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _refreshAccessToken(n){const t=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await xo(async s=>(s>0&&await Po(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:De})),(s,r)=>{const i=200*Math.pow(2,s);return r&&Rn(r)&&Date.now()+i-a<mt})}catch(a){if(this._debug(t,"error",a),W(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,t){const a=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",t,"url",a),Ae()&&!t.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}}async _recoverAndRefresh(){var n;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const a=await qt(this.storage,this.storageKey);if(this._debug(t,"session from storage",a),!this._isValidSession(a)){this._debug(t,"session is not valid"),a!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),r=((n=a.expires_at)!==null&&n!==void 0?n:1/0)<s+Ba;if(this._debug(t,`session has${r?"":" not"} expired with margin of ${Ba}s`),r){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Rn(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(t,"error",a),console.error(a);return}finally{this._debug(t,"end")}}async _callRefreshToken(n){var t,a;if(!n)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kn;const{data:r,error:i}=await this._refreshAccessToken(n);if(i)throw i;if(!r.session)throw new je;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={session:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(this._debug(s,"error",r),W(r)){const i={session:null,error:r};return Rn(r)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(r),r}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(n,t,a=!0){const s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",t,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(n,t)}catch(o){r.push(o)}});if(await Promise.all(i),r.length>0){for(let l=0;l<r.length;l+=1)console.error(r[l]);throw r[0]}}finally{this._debug(s,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Ks(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await Gt(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),mt);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async t=>{const{data:{session:a}}=t;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-n)/mt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mt}ms, refresh threshold is ${qa} ticks`),s<=qa&&await this._callRefreshToken(a.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Qs)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const t=`#_onVisibilityChanged(${n})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,t,a){const s=[`provider=${encodeURIComponent(t)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[r,i]=await nt(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const r=new URLSearchParams(a.queryParams);s.push(r.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${s.join("&")}`}async _unenroll(n){try{return await this._useSession(async t=>{var a;const{data:s,error:r}=t;return r?{data:null,error:r}:await Y(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _enroll(n){try{return await this._useSession(async t=>{var a,s;const{data:r,error:i}=t;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:o,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(n.factorType==="phone"&&delete o.totp,n.factorType==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(W(t))return{data:null,error:t};throw t}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:s,error:r}=t;if(r)return{data:null,error:r};const{data:i,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(t){if(W(t))return{data:null,error:t};throw t}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:s,error:r}=t;return r?{data:null,error:r}:await Y(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(W(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(n){const{data:t,error:a}=await this._challenge({factorId:n.factorId});return a?{data:null,error:a}:await this._verify({factorId:n.factorId,challengeId:t.id,code:n.code})}async _listFactors(){const{data:{user:n},error:t}=await this.getUser();if(t)return{data:null,error:t};const a=(n==null?void 0:n.factors)||[],s=a.filter(i=>i.factor_type==="totp"&&i.status==="verified"),r=a.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:a,totp:s,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var t,a;const{data:{session:s},error:r}=n;if(r)return{data:null,error:r};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(s.access_token);let l=null;i.aal&&(l=i.aal);let o=l;((a=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:c},error:null}}))}}kt.nextInstanceID=0;const Yo=kt;class Xo extends Yo{constructor(n){super(n)}}var Zo=function(e,n,t,a){function s(r){return r instanceof t?r:new t(function(i){i(r)})}return new(t||(t=Promise))(function(r,i){function l(c){try{u(a.next(c))}catch(d){i(d)}}function o(c){try{u(a.throw(c))}catch(d){i(d)}}function u(c){c.done?r(c.value):s(c.value).then(l,o)}u((a=a.apply(e,n||[])).next())})};class eu{constructor(n,t,a){var s,r,i;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=go(n);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const o=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:io,realtime:oo,auth:Object.assign(Object.assign({},lo),{storageKey:o}),global:ro},c=mo(a??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=c.global.headers)!==null&&r!==void 0?r:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=c.auth)!==null&&i!==void 0?i:{},this.headers,c.global.fetch),this.fetch=ho(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new Al(`${l}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new al(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new no(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},a={}){return this.rest.rpc(n,t,a)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return Zo(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:s,storageKey:r,flowType:i,lock:l,debug:o},u,c){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xo({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:r,autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:s,flowType:i,lock:l,debug:o,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(n){return new Ul(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,a)=>{this._handleTokenChanged(t,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(n,t,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.realtime.setAuth(a??null),this.changedAccessToken=a):n==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tu=(e,n,t)=>new eu(e,n,t),Id=tu("https://xowegfmkiindptpnsscg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhvd2VnZm1raWluZHB0cG5zc2NnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjg0OTE0MzksImV4cCI6MjA0NDA2NzQzOX0._rrgcRNIZYDMqdQaqEWgrHNvFp4jGkk-dFF4ohxroq0");function nu(){const e=H([]);yi(()=>e.value=[]);function n(t,a){e.value[a]=t}return{refs:e,updateRef:n}}const au=F({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:ee,default:"$first"},prevIcon:{type:ee,default:"$prev"},nextIcon:{type:ee,default:"$next"},lastIcon:{type:ee,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Vt(),...ie(),...ze(),...vn(),...dt(),...na(),...Oe({tag:"nav"}),..._e(),...ft({variant:"text"})},"VPagination"),Wa=K()({name:"VPagination",props:au(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,n){let{slots:t,emit:a}=n;const s=ue(e,"modelValue"),{t:r,n:i}=Ue(),{isRtl:l}=ct(),{themeClasses:o}=$e(e),{width:u}=Qe(),c=ne(-1);Je(void 0,{scoped:!0});const{resizeRef:d}=_t(_=>{if(!_.length)return;const{target:k,contentRect:j}=_[0],$=k.querySelector(".v-pagination__list > *");if(!$)return;const V=j.width,E=$.offsetWidth+parseFloat(getComputedStyle($).marginRight)*2;c.value=y(V,E)}),f=w(()=>parseInt(e.length,10)),m=w(()=>parseInt(e.start,10)),h=w(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:y(u.value,58));function y(_,k){const j=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((_-k*j)/k).toFixed(2)))}const g=w(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(h.value<=0)return[];if(h.value===1)return[s.value];if(f.value<=h.value)return zt(f.value,m.value);const _=h.value%2===0,k=_?h.value/2:Math.floor(h.value/2),j=_?k:k+1,$=f.value-k;if(j-s.value>=0)return[...zt(Math.max(1,h.value-1),m.value),e.ellipsis,f.value];if(s.value-$>=(_?1:0)){const V=h.value-1,E=f.value-V+m.value;return[m.value,e.ellipsis,...zt(V,E)]}else{const V=Math.max(1,h.value-3),E=V===1?s.value:s.value-Math.ceil(V/2)+m.value;return[m.value,e.ellipsis,...zt(V,E),e.ellipsis,f.value]}});function b(_,k,j){_.preventDefault(),s.value=k,j&&a(j,k)}const{refs:p,updateRef:C}=nu();Je({VPaginationBtn:{color:D(e,"color"),border:D(e,"border"),density:D(e,"density"),size:D(e,"size"),variant:D(e,"variant"),rounded:D(e,"rounded"),elevation:D(e,"elevation")}});const T=w(()=>g.value.map((_,k)=>{const j=$=>C($,k);if(typeof _=="string")return{isActive:!1,key:`ellipsis-${k}`,page:_,props:{ref:j,ellipsis:!0,icon:!0,disabled:!0}};{const $=_===s.value;return{isActive:$,key:_,page:i(_),props:{ref:j,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:$?e.activeColor:e.color,"aria-current":$,"aria-label":r($?e.currentPageAriaLabel:e.pageAriaLabel,_),onClick:V=>b(V,_)}}}})),S=w(()=>{const _=!!e.disabled||s.value<=m.value,k=!!e.disabled||s.value>=m.value+f.value-1;return{first:e.showFirstLastPage?{icon:l.value?e.lastIcon:e.firstIcon,onClick:j=>b(j,m.value,"first"),disabled:_,"aria-label":r(e.firstAriaLabel),"aria-disabled":_}:void 0,prev:{icon:l.value?e.nextIcon:e.prevIcon,onClick:j=>b(j,s.value-1,"prev"),disabled:_,"aria-label":r(e.previousAriaLabel),"aria-disabled":_},next:{icon:l.value?e.prevIcon:e.nextIcon,onClick:j=>b(j,s.value+1,"next"),disabled:k,"aria-label":r(e.nextAriaLabel),"aria-disabled":k},last:e.showFirstLastPage?{icon:l.value?e.firstIcon:e.lastIcon,onClick:j=>b(j,m.value+f.value-1,"last"),disabled:k,"aria-label":r(e.lastAriaLabel),"aria-disabled":k}:void 0}});function O(){var k;const _=s.value-m.value;(k=p.value[_])==null||k.$el.focus()}function I(_){_.key===ka.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,Pe(O)):_.key===ka.right&&!e.disabled&&s.value<m.value+f.value-1&&(s.value=s.value+1,Pe(O))}return Z(()=>v(e.tag,{ref:d,class:["v-pagination",o.value,e.class],style:e.style,role:"navigation","aria-label":r(e.ariaLabel),onKeydown:I,"data-test":"v-pagination-root"},{default:()=>[v("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&v("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(S.value.first):v(Ge,z({_as:"VPaginationBtn"},S.value.first),null)]),v("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(S.value.prev):v(Ge,z({_as:"VPaginationBtn"},S.value.prev),null)]),T.value.map((_,k)=>v("li",{key:_.key,class:["v-pagination__item",{"v-pagination__item--is-active":_.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(_):v(Ge,z({_as:"VPaginationBtn"},_.props),{default:()=>[_.page]})])),v("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(S.value.next):v(Ge,z({_as:"VPaginationBtn"},S.value.next),null)]),e.showFirstLastPage&&v("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(S.value.last):v(Ge,z({_as:"VPaginationBtn"},S.value.last),null)])])]})),{}}}),su=F({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Se(e,n,t){return K()({name:e,props:su({mode:t,origin:n}),setup(a,s){let{slots:r}=s;const i={onBeforeEnter(l){a.origin&&(l.style.transformOrigin=a.origin)},onLeave(l){if(a.leaveAbsolute){const{offsetTop:o,offsetLeft:u,offsetWidth:c,offsetHeight:d}=l;l._transitionInitialStyles={position:l.style.position,top:l.style.top,left:l.style.left,width:l.style.width,height:l.style.height},l.style.position="absolute",l.style.top=`${o}px`,l.style.left=`${u}px`,l.style.width=`${c}px`,l.style.height=`${d}px`}a.hideOnLeave&&l.style.setProperty("display","none","important")},onAfterLeave(l){if(a.leaveAbsolute&&(l!=null&&l._transitionInitialStyles)){const{position:o,top:u,left:c,width:d,height:f}=l._transitionInitialStyles;delete l._transitionInitialStyles,l.style.position=o||"",l.style.top=u||"",l.style.left=c||"",l.style.width=d||"",l.style.height=f||""}}};return()=>{const l=a.group?fs:St;return ea(l,{name:a.disabled?"":e,css:!a.disabled,...a.group?void 0:{mode:a.mode},...a.disabled?{}:i},r.default)}}})}function Ys(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return K()({name:e,props:{mode:{type:String,default:t},disabled:Boolean,group:Boolean},setup(a,s){let{slots:r}=s;const i=a.group?fs:St;return()=>ea(i,{name:a.disabled?"":e,css:!a.disabled,...a.disabled?{}:n},r.default)}})}function Xs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",a=ds(`offset-${t}`);return{onBeforeEnter(i){i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,overflow:i.style.overflow,[t]:i.style[t]}},onEnter(i){const l=i._initialStyle;i.style.setProperty("transition","none","important"),i.style.overflow="hidden";const o=`${i[a]}px`;i.style[t]="0",i.offsetHeight,i.style.transition=l.transition,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[t]=o})},onAfterEnter:r,onEnterCancelled:r,onLeave(i){i._initialStyle={transition:"",overflow:i.style.overflow,[t]:i.style[t]},i.style.overflow="hidden",i.style[t]=`${i[a]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[t]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(i){e&&i._parent&&i._parent.classList.remove(e),r(i)}function r(i){const l=i._initialStyle[t];i.style.overflow=i._initialStyle.overflow,l!=null&&(i.style[t]=l),delete i._initialStyle}}const ru=F({target:[Object,Array]},"v-dialog-transition"),Zs=K()({name:"VDialogTransition",props:ru(),setup(e,n){let{slots:t}=n;const a={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var f;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),s.style.visibility="";const{x:i,y:l,sx:o,sy:u,speed:c}=Ja(e.target,s),d=rt(s,[{transform:`translate(${i}px, ${l}px) scale(${o}, ${u})`,opacity:0},{}],{duration:225*c,easing:Ki});(f=Ka(s))==null||f.forEach(m=>{rt(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:tn})}),d.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var f;await new Promise(m=>requestAnimationFrame(m));const{x:i,y:l,sx:o,sy:u,speed:c}=Ja(e.target,s);rt(s,[{},{transform:`translate(${i}px, ${l}px) scale(${o}, ${u})`,opacity:0}],{duration:125*c,easing:Ji}).finished.then(()=>r()),(f=Ka(s))==null||f.forEach(m=>{rt(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:tn})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?v(St,z({name:"dialog-transition"},a,{css:!1}),t):v(St,{name:"dialog-transition"},t)}});function Ka(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function Ja(e,n){const t=Cs(e),a=la(n),[s,r]=getComputedStyle(n).transformOrigin.split(" ").map(b=>parseFloat(b)),[i,l]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let o=t.left+t.width/2;i==="left"||l==="left"?o-=t.width/2:(i==="right"||l==="right")&&(o+=t.width/2);let u=t.top+t.height/2;i==="top"||l==="top"?u-=t.height/2:(i==="bottom"||l==="bottom")&&(u+=t.height/2);const c=t.width/a.width,d=t.height/a.height,f=Math.max(1,c,d),m=c/f||0,h=d/f||0,y=a.width*a.height/(window.innerWidth*window.innerHeight),g=y>.12?Math.min(1.5,(y-.12)*10+1):1;return{x:o-(s+a.left),y:u-(r+a.top),sx:m,sy:h,speed:g}}Se("fab-transition","center center","out-in");Se("dialog-bottom-transition");Se("dialog-top-transition");const Qa=Se("fade-transition");Se("scale-transition");Se("scroll-x-transition");Se("scroll-x-reverse-transition");Se("scroll-y-transition");Se("scroll-y-reverse-transition");Se("slide-x-transition");Se("slide-x-reverse-transition");const er=Se("slide-y-transition");Se("slide-y-reverse-transition");const iu=Ys("expand-transition",Xs()),tr=Ys("expand-x-transition",Xs("",!0)),lu=F({start:Boolean,end:Boolean,icon:ee,image:String,text:String,...Vt(),...ie(),...ze(),...dt(),...na(),...Oe(),..._e(),...ft({variant:"flat"})},"VAvatar"),Pt=K()({name:"VAvatar",props:lu(),setup(e,n){let{slots:t}=n;const{themeClasses:a}=$e(e),{borderClasses:s}=gn(e),{colorClasses:r,colorStyles:i,variantClasses:l}=sa(e),{densityClasses:o}=Xe(e),{roundedClasses:u}=Lt(e),{sizeClasses:c,sizeStyles:d}=bs(e);return Z(()=>v(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},a.value,s.value,r.value,o.value,u.value,c.value,l.value,e.class],style:[i.value,d.value,e.style]},{default:()=>[t.default?v(Ee,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[t.default()]}):e.image?v(zi,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?v(he,{key:"icon",icon:e.icon},null):e.text,ra(!1,"v-avatar")]})),{}}}),ou=F({text:String,onClick:fe(),...ie(),..._e()},"VLabel"),nr=K()({name:"VLabel",props:ou(),setup(e,n){let{slots:t}=n;return Z(()=>{var a;return v("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(a=t.default)==null?void 0:a.call(t)])}),{}}}),ar=Symbol.for("vuetify:selection-control-group"),sr=F({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ee,trueIcon:ee,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Tt},...ie(),...ze(),..._e()},"SelectionControlGroup"),uu=F({...sr({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");K()({name:"VSelectionControlGroup",props:uu(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=ue(e,"modelValue"),s=Ye(),r=w(()=>e.id||`v-selection-control-group-${s}`),i=w(()=>e.name||r.value),l=new Set;return pe(ar,{modelValue:a,forceUpdate:()=>{l.forEach(o=>o())},onForceUpdate:o=>{l.add(o),Te(()=>{l.delete(o)})}}),Je({[e.defaultsTarget]:{color:D(e,"color"),disabled:D(e,"disabled"),density:D(e,"density"),error:D(e,"error"),inline:D(e,"inline"),modelValue:a,multiple:w(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:i,falseIcon:D(e,"falseIcon"),trueIcon:D(e,"trueIcon"),readonly:D(e,"readonly"),ripple:D(e,"ripple"),type:D(e,"type"),valueComparator:D(e,"valueComparator")}}),Z(()=>{var o;return v("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(o=t.default)==null?void 0:o.call(t)])}),{}}});const rr=F({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...ie(),...sr()},"VSelectionControl");function cu(e){const n=ge(ar,void 0),{densityClasses:t}=Xe(e),a=ue(e,"modelValue"),s=w(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),r=w(()=>e.falseValue!==void 0?e.falseValue:!1),i=w(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),l=w({get(){const m=n?n.modelValue.value:a.value;return i.value?ve(m).some(h=>e.valueComparator(h,s.value)):e.valueComparator(m,s.value)},set(m){if(e.readonly)return;const h=m?s.value:r.value;let y=h;i.value&&(y=m?[...ve(a.value),h]:ve(a.value).filter(g=>!e.valueComparator(g,s.value))),n?n.modelValue.value=y:a.value=y}}),{textColorClasses:o,textColorStyles:u}=jt(w(()=>{if(!(e.error||e.disabled))return l.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:d}=Dt(w(()=>l.value&&!e.error&&!e.disabled?e.color:e.baseColor)),f=w(()=>l.value?e.trueIcon:e.falseIcon);return{group:n,densityClasses:t,trueValue:s,falseValue:r,model:l,textColorClasses:o,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:f}}const Ya=K()({name:"VSelectionControl",directives:{Ripple:ia},inheritAttrs:!1,props:rr(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{group:s,densityClasses:r,icon:i,model:l,textColorClasses:o,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:f}=cu(e),m=Ye(),h=ne(!1),y=ne(!1),g=H(),b=w(()=>e.id||`input-${m}`),p=w(()=>!e.disabled&&!e.readonly);s==null||s.onForceUpdate(()=>{g.value&&(g.value.checked=l.value)});function C(I){p.value&&(h.value=!0,Zt(I.target,":focus-visible")!==!1&&(y.value=!0))}function T(){h.value=!1,y.value=!1}function S(I){I.stopPropagation()}function O(I){if(!p.value){g.value&&(g.value.checked=l.value);return}e.readonly&&s&&Pe(()=>s.forceUpdate()),l.value=I.target.checked}return Z(()=>{var $,V;const I=a.label?a.label({label:e.label,props:{for:b.value}}):e.label,[_,k]=hs(t),j=v("input",z({ref:g,checked:l.value,disabled:!!e.disabled,id:b.value,onBlur:T,onFocus:C,onInput:O,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?l.value:void 0},k),null);return v("div",z({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":y.value,"v-selection-control--inline":e.inline},r.value,e.class]},_,{style:e.style}),[v("div",{class:["v-selection-control__wrapper",o.value],style:u.value},[($=a.default)==null?void 0:$.call(a,{backgroundColorClasses:c,backgroundColorStyles:d}),Re(v("div",{class:["v-selection-control__input"]},[((V=a.input)==null?void 0:V.call(a,{model:l,textColorClasses:o,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:j,icon:i.value,props:{onFocus:C,onBlur:T,id:b.value}}))??v(oe,null,[i.value&&v(he,{key:"icon",icon:i.value},null),j])]),[[At("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),I&&v(nr,{for:b.value,onClick:S},{default:()=>[I]})])}),{isFocused:h,input:g}}}),du=F({indeterminate:Boolean,indeterminateIcon:{type:ee,default:"$checkboxIndeterminate"},...rr({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Pn=K()({name:"VCheckboxBtn",props:du(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:t}=n;const a=ue(e,"indeterminate"),s=ue(e,"modelValue");function r(o){a.value&&(a.value=!1)}const i=w(()=>a.value?e.indeterminateIcon:e.falseIcon),l=w(()=>a.value?e.indeterminateIcon:e.trueIcon);return Z(()=>{const o=It(Ya.filterProps(e),["modelValue"]);return v(Ya,z(o,{modelValue:s.value,"onUpdate:modelValue":[u=>s.value=u,r],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:l.value,"aria-checked":a.value?"mixed":void 0}),t)}),{}}});function ir(e){const{t:n}=Ue();function t(a){let{name:s}=a;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],i=e[`onClick:${s}`],l=i&&r?n(`$vuetify.input.${r}`,e.label??""):void 0;return v(he,{icon:e[`${s}Icon`],"aria-label":l,onClick:i},null)}return{InputIcon:t}}const fu=F({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ie(),...mn({transition:{component:er,leaveAbsolute:!0,group:!0}})},"VMessages"),hu=K()({name:"VMessages",props:fu(),setup(e,n){let{slots:t}=n;const a=w(()=>ve(e.messages)),{textColorClasses:s,textColorStyles:r}=jt(w(()=>e.color));return Z(()=>v(yn,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[r.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&a.value.map((i,l)=>v("div",{class:"v-messages__message",key:`${l}-${a.value}`},[t.message?t.message({message:i}):i]))]})),{}}}),lr=F({focused:Boolean,"onUpdate:focused":fe()},"focus");function or(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vs();const t=ue(e,"focused"),a=w(()=>({[`${n}--focused`]:t.value}));function s(){t.value=!0}function r(){t.value=!1}return{focusClasses:a,isFocused:t,focus:s,blur:r}}const vu=Symbol.for("vuetify:form");function ur(){return ge(vu,null)}const gu=F({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...lr()},"validation");function mu(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vs(),t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ye();const a=ue(e,"modelValue"),s=w(()=>e.validationValue===void 0?a.value:e.validationValue),r=ur(),i=H([]),l=ne(!0),o=w(()=>!!(ve(a.value===""?null:a.value).length||ve(s.value===""?null:s.value).length)),u=w(()=>!!(e.disabled??(r==null?void 0:r.isDisabled.value))),c=w(()=>!!(e.readonly??(r==null?void 0:r.isReadonly.value))),d=w(()=>{var S;return(S=e.errorMessages)!=null&&S.length?ve(e.errorMessages).concat(i.value).slice(0,Math.max(0,+e.maxErrors)):i.value}),f=w(()=>{let S=(e.validateOn??(r==null?void 0:r.validateOn.value))||"input";S==="lazy"&&(S="input lazy"),S==="eager"&&(S="input eager");const O=new Set((S==null?void 0:S.split(" "))??[]);return{input:O.has("input"),blur:O.has("blur")||O.has("input")||O.has("invalid-input"),invalidInput:O.has("invalid-input"),lazy:O.has("lazy"),eager:O.has("eager")}}),m=w(()=>{var S;return e.error||(S=e.errorMessages)!=null&&S.length?!1:e.rules.length?l.value?i.value.length||f.value.lazy?null:!0:!i.value.length:!0}),h=ne(!1),y=w(()=>({[`${n}--error`]:m.value===!1,[`${n}--dirty`]:o.value,[`${n}--disabled`]:u.value,[`${n}--readonly`]:c.value})),g=Ve("validation"),b=w(()=>e.name??st(t));bi(()=>{r==null||r.register({id:b.value,vm:g,validate:T,reset:p,resetValidation:C})}),Et(()=>{r==null||r.unregister(b.value)}),ta(async()=>{f.value.lazy||await T(!f.value.eager),r==null||r.update(b.value,m.value,d.value)}),ot(()=>f.value.input||f.value.invalidInput&&m.value===!1,()=>{ae(s,()=>{if(s.value!=null)T();else if(e.focused){const S=ae(()=>e.focused,O=>{O||T(),S()})}})}),ot(()=>f.value.blur,()=>{ae(()=>e.focused,S=>{S||T()})}),ae([m,d],()=>{r==null||r.update(b.value,m.value,d.value)});async function p(){a.value=null,await Pe(),await C()}async function C(){l.value=!0,f.value.lazy?i.value=[]:await T(!f.value.eager)}async function T(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=[];h.value=!0;for(const I of e.rules){if(O.length>=+(e.maxErrors??1))break;const k=await(typeof I=="function"?I:()=>I)(s.value);if(k!==!0){if(k!==!1&&typeof k!="string"){console.warn(`${k} is not a valid value. Rule functions must return boolean true or a string.`);continue}O.push(k||"")}}return i.value=O,h.value=!1,l.value=S,i.value}return{errorMessages:d,isDirty:o,isDisabled:u,isReadonly:c,isPristine:l,isValid:m,isValidating:h,reset:p,resetValidation:C,validate:T,validationClasses:y}}const cr=F({id:String,appendIcon:ee,centerAffix:{type:Boolean,default:!0},prependIcon:ee,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":fe(),"onClick:append":fe(),...ie(),...ze(),...pi(Ot(),["maxWidth","minWidth","width"]),..._e(),...gu()},"VInput"),Xa=K()({name:"VInput",props:{...cr()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:t,slots:a,emit:s}=n;const{densityClasses:r}=Xe(e),{dimensionStyles:i}=$t(e),{themeClasses:l}=$e(e),{rtlClasses:o}=ct(),{InputIcon:u}=ir(e),c=Ye(),d=w(()=>e.id||`input-${c}`),f=w(()=>`${d.value}-messages`),{errorMessages:m,isDirty:h,isDisabled:y,isReadonly:g,isPristine:b,isValid:p,isValidating:C,reset:T,resetValidation:S,validate:O,validationClasses:I}=mu(e,"v-input",d),_=w(()=>({id:d,messagesId:f,isDirty:h,isDisabled:y,isReadonly:g,isPristine:b,isValid:p,isValidating:C,reset:T,resetValidation:S,validate:O})),k=w(()=>{var j;return(j=e.errorMessages)!=null&&j.length||!b.value&&m.value.length?m.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Z(()=>{var L,M,N,G;const j=!!(a.prepend||e.prependIcon),$=!!(a.append||e.appendIcon),V=k.value.length>0,E=!e.hideDetails||e.hideDetails==="auto"&&(V||!!a.details);return v("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},r.value,l.value,o.value,I.value,e.class],style:[i.value,e.style]},[j&&v("div",{key:"prepend",class:"v-input__prepend"},[(L=a.prepend)==null?void 0:L.call(a,_.value),e.prependIcon&&v(u,{key:"prepend-icon",name:"prepend"},null)]),a.default&&v("div",{class:"v-input__control"},[(M=a.default)==null?void 0:M.call(a,_.value)]),$&&v("div",{key:"append",class:"v-input__append"},[e.appendIcon&&v(u,{key:"append-icon",name:"append"},null),(N=a.append)==null?void 0:N.call(a,_.value)]),E&&v("div",{class:"v-input__details"},[v(hu,{id:f.value,active:V,messages:k.value},{message:a.message}),(G=a.details)==null?void 0:G.call(a,_.value)])])}),{reset:T,resetValidation:S,validate:O,isValid:p,errorMessages:m}}});function yu(e){let{selectedElement:n,containerElement:t,isRtl:a,isHorizontal:s}=e;const r=xt(s,t),i=dr(s,a,t),l=xt(s,n),o=fr(s,n),u=l*.4;return i>o?o-u:i+r<o+l?o-r+l+u:i}function bu(e){let{selectedElement:n,containerElement:t,isHorizontal:a}=e;const s=xt(a,t),r=fr(a,n),i=xt(a,n);return r-s/2+i/2}function Za(e,n){const t=e?"scrollWidth":"scrollHeight";return(n==null?void 0:n[t])||0}function pu(e,n){const t=e?"clientWidth":"clientHeight";return(n==null?void 0:n[t])||0}function dr(e,n,t){if(!t)return 0;const{scrollLeft:a,offsetWidth:s,scrollWidth:r}=t;return e?n?r-s+a:a:t.scrollTop}function xt(e,n){const t=e?"offsetWidth":"offsetHeight";return(n==null?void 0:n[t])||0}function fr(e,n){const t=e?"offsetLeft":"offsetTop";return(n==null?void 0:n[t])||0}const wu=Symbol.for("vuetify:v-slide-group"),hr=F({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:wu},nextIcon:{type:ee,default:"$next"},prevIcon:{type:ee,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ie(),...hn({mobile:null}),...Oe(),...ps({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),es=K()({name:"VSlideGroup",props:hr(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{isRtl:a}=ct(),{displayClasses:s,mobile:r}=Qe(e),i=ws(e,e.symbol),l=ne(!1),o=ne(0),u=ne(0),c=ne(0),d=w(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:m}=_t(),{resizeRef:h,contentRect:y}=_t(),g=wi(),b=w(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),p=w(()=>i.selected.value.length?i.items.value.findIndex(x=>x.id===i.selected.value[0]):-1),C=w(()=>i.selected.value.length?i.items.value.findIndex(x=>x.id===i.selected.value[i.selected.value.length-1]):-1);if(xe){let x=-1;ae(()=>[i.selected.value,m.value,y.value,d.value],()=>{cancelAnimationFrame(x),x=requestAnimationFrame(()=>{if(m.value&&y.value){const A=d.value?"width":"height";u.value=m.value[A],c.value=y.value[A],l.value=u.value+1<c.value}if(p.value>=0&&h.el){const A=h.el.children[C.value];S(A,e.centerActive)}})})}const T=ne(!1);function S(x,A){let R=0;A?R=bu({containerElement:f.el,isHorizontal:d.value,selectedElement:x}):R=yu({containerElement:f.el,isHorizontal:d.value,isRtl:a.value,selectedElement:x}),O(R)}function O(x){if(!xe||!f.el)return;const A=xt(d.value,f.el),R=dr(d.value,a.value,f.el);if(!(Za(d.value,f.el)<=A||Math.abs(x-R)<16)){if(d.value&&a.value&&f.el){const{scrollWidth:U,offsetWidth:X}=f.el;x=U-X-x}d.value?g.horizontal(x,b.value):g(x,b.value)}}function I(x){const{scrollTop:A,scrollLeft:R}=x.target;o.value=d.value?R:A}function _(x){if(T.value=!0,!(!l.value||!h.el)){for(const A of x.composedPath())for(const R of h.el.children)if(R===A){S(R);return}}}function k(x){T.value=!1}let j=!1;function $(x){var A;!j&&!T.value&&!(x.relatedTarget&&((A=h.el)!=null&&A.contains(x.relatedTarget)))&&L(),j=!1}function V(){j=!0}function E(x){if(!h.el)return;function A(R){x.preventDefault(),L(R)}d.value?x.key==="ArrowRight"?A(a.value?"prev":"next"):x.key==="ArrowLeft"&&A(a.value?"next":"prev"):x.key==="ArrowDown"?A("next"):x.key==="ArrowUp"&&A("prev"),x.key==="Home"?A("first"):x.key==="End"&&A("last")}function L(x){var R,J;if(!h.el)return;let A;if(!x)A=Fn(h.el)[0];else if(x==="next"){if(A=(R=h.el.querySelector(":focus"))==null?void 0:R.nextElementSibling,!A)return L("first")}else if(x==="prev"){if(A=(J=h.el.querySelector(":focus"))==null?void 0:J.previousElementSibling,!A)return L("last")}else x==="first"?A=h.el.firstElementChild:x==="last"&&(A=h.el.lastElementChild);A&&A.focus({preventScroll:!0})}function M(x){const A=d.value&&a.value?-1:1,R=(x==="prev"?-A:A)*u.value;let J=o.value+R;if(d.value&&a.value&&f.el){const{scrollWidth:U,offsetWidth:X}=f.el;J+=U-X}O(J)}const N=w(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),G=w(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return l.value||Math.abs(o.value)>0;case"mobile":return r.value||l.value||Math.abs(o.value)>0;default:return!r.value&&(l.value||Math.abs(o.value)>0)}}),q=w(()=>Math.abs(o.value)>1),P=w(()=>{if(!f.value)return!1;const x=Za(d.value,f.el),A=pu(d.value,f.el);return x-A-Math.abs(o.value)>1});return Z(()=>v(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":G.value,"v-slide-group--is-overflowing":l.value},s.value,e.class],style:e.style,tabindex:T.value||i.selected.value.length?-1:0,onFocus:$},{default:()=>{var x,A,R;return[G.value&&v("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!q.value}],onMousedown:V,onClick:()=>q.value&&M("prev")},[((x=t.prev)==null?void 0:x.call(t,N.value))??v(Qa,null,{default:()=>[v(he,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),v("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:I},[v("div",{ref:h,class:"v-slide-group__content",onFocusin:_,onFocusout:k,onKeydown:E},[(A=t.default)==null?void 0:A.call(t,N.value)])]),G.value&&v("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!P.value}],onMousedown:V,onClick:()=>P.value&&M("next")},[((R=t.next)==null?void 0:R.call(t,N.value))??v(Qa,null,{default:()=>[v(he,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:M,scrollOffset:o,focus:L,hasPrev:q,hasNext:P}}}),vr=Symbol.for("vuetify:v-chip-group"),_u=F({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Tt},...hr(),...ie(),...ps({selectedClass:"v-chip--selected"}),...Oe(),..._e(),...ft({variant:"tonal"})},"VChipGroup");K()({name:"VChipGroup",props:_u(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:a}=$e(e),{isSelected:s,select:r,next:i,prev:l,selected:o}=ws(e,vr);return Je({VChip:{color:D(e,"color"),disabled:D(e,"disabled"),filter:D(e,"filter"),variant:D(e,"variant")}}),Z(()=>{const u=es.filterProps(e);return v(es,z(u,{class:["v-chip-group",{"v-chip-group--column":e.column},a.value,e.class],style:e.style}),{default:()=>{var c;return[(c=t.default)==null?void 0:c.call(t,{isSelected:s,select:r,next:i,prev:l,selected:o.value})]}})}),{}}});const Su=F({activeClass:String,appendAvatar:String,appendIcon:ee,closable:Boolean,closeIcon:{type:ee,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ee,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:fe(),onClickOnce:fe(),...Vt(),...ie(),...ze(),...vn(),...Fi(),...dt(),..._s(),...na(),...Oe({tag:"span"}),..._e(),...ft({variant:"tonal"})},"VChip"),gr=K()({name:"VChip",directives:{Ripple:ia},props:Su(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:t,emit:a,slots:s}=n;const{t:r}=Ue(),{borderClasses:i}=gn(e),{colorClasses:l,colorStyles:o,variantClasses:u}=sa(e),{densityClasses:c}=Xe(e),{elevationClasses:d}=aa(e),{roundedClasses:f}=Lt(e),{sizeClasses:m}=bs(e),{themeClasses:h}=$e(e),y=ue(e,"modelValue"),g=Mi(e,vr,!1),b=Ss(e,t),p=w(()=>e.link!==!1&&b.isLink.value),C=w(()=>!e.disabled&&e.link!==!1&&(!!g||e.link||b.isClickable.value)),T=w(()=>({"aria-label":r(e.closeLabel),onClick(I){I.preventDefault(),I.stopPropagation(),y.value=!1,a("click:close",I)}}));function S(I){var _;a("click",I),C.value&&((_=b.navigate)==null||_.call(b,I),g==null||g.toggle())}function O(I){(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),S(I))}return()=>{const I=b.isLink.value?"a":e.tag,_=!!(e.appendIcon||e.appendAvatar),k=!!(_||s.append),j=!!(s.close||e.closable),$=!!(s.filter||e.filter)&&g,V=!!(e.prependIcon||e.prependAvatar),E=!!(V||s.prepend),L=!g||g.isSelected.value;return y.value&&Re(v(I,z({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":C.value,"v-chip--filter":$,"v-chip--pill":e.pill},h.value,i.value,L?l.value:void 0,c.value,d.value,f.value,m.value,u.value,g==null?void 0:g.selectedClass.value,e.class],style:[L?o.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:C.value?0:void 0,onClick:S,onKeydown:C.value&&!p.value&&O},b.linkProps),{default:()=>{var M;return[ra(C.value,"v-chip"),$&&v(tr,{key:"filter"},{default:()=>[Re(v("div",{class:"v-chip__filter"},[s.filter?v(Ee,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},s.filter):v(he,{key:"filter-icon",icon:e.filterIcon},null)]),[[Rt,g.isSelected.value]])]}),E&&v("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?v(Ee,{key:"prepend-defaults",disabled:!V,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):v(oe,null,[e.prependIcon&&v(he,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&v(Pt,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),v("div",{class:"v-chip__content","data-no-activator":""},[((M=s.default)==null?void 0:M.call(s,{isSelected:g==null?void 0:g.isSelected.value,selectedClass:g==null?void 0:g.selectedClass.value,select:g==null?void 0:g.select,toggle:g==null?void 0:g.toggle,value:g==null?void 0:g.value.value,disabled:e.disabled}))??e.text]),k&&v("div",{key:"append",class:"v-chip__append"},[s.append?v(Ee,{key:"append-defaults",disabled:!_,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):v(oe,null,[e.appendIcon&&v(he,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&v(Pt,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),j&&v("button",z({key:"close",class:"v-chip__close",type:"button"},T.value),[s.close?v(Ee,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):v(he,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[At("ripple"),C.value&&e.ripple,null]])}}}),Kn=Symbol.for("vuetify:list");function mr(){const e=ge(Kn,{hasPrepend:ne(!1),updateHasPrepend:()=>null}),n={hasPrepend:ne(!1),updateHasPrepend:t=>{t&&(n.hasPrepend.value=t)}};return pe(Kn,n),e}function yr(){return ge(Kn,null)}const ga=e=>{const n={activate:t=>{let{id:a,value:s,activated:r}=t;return a=de(a),e&&!s&&r.size===1&&r.has(a)||(s?r.add(a):r.delete(a)),r},in:(t,a,s)=>{let r=new Set;if(t!=null)for(const i of ve(t))r=n.activate({id:i,value:!0,activated:new Set(r),children:a,parents:s});return r},out:t=>Array.from(t)};return n},br=e=>{const n=ga(e);return{activate:a=>{let{activated:s,id:r,...i}=a;r=de(r);const l=s.has(r)?new Set([r]):new Set;return n.activate({...i,id:r,activated:l})},in:(a,s,r)=>{let i=new Set;if(a!=null){const l=ve(a);l.length&&(i=n.in(l.slice(0,1),s,r))}return i},out:(a,s,r)=>n.out(a,s,r)}},ku=e=>{const n=ga(e);return{activate:a=>{let{id:s,activated:r,children:i,...l}=a;return s=de(s),i.has(s)?r:n.activate({id:s,activated:r,children:i,...l})},in:n.in,out:n.out}},Pu=e=>{const n=br(e);return{activate:a=>{let{id:s,activated:r,children:i,...l}=a;return s=de(s),i.has(s)?r:n.activate({id:s,activated:r,children:i,...l})},in:n.in,out:n.out}},xu={open:e=>{let{id:n,value:t,opened:a,parents:s}=e;if(t){const r=new Set;r.add(n);let i=s.get(n);for(;i!=null;)r.add(i),i=s.get(i);return r}else return a.delete(n),a},select:()=>null},pr={open:e=>{let{id:n,value:t,opened:a,parents:s}=e;if(t){let r=s.get(n);for(a.add(n);r!=null&&r!==n;)a.add(r),r=s.get(r);return a}else a.delete(n);return a},select:()=>null},Cu={open:pr.open,select:e=>{let{id:n,value:t,opened:a,parents:s}=e;if(!t)return a;const r=[];let i=s.get(n);for(;i!=null;)r.push(i),i=s.get(i);return new Set(r)}},ma=e=>{const n={select:t=>{let{id:a,value:s,selected:r}=t;if(a=de(a),e&&!s){const i=Array.from(r.entries()).reduce((l,o)=>{let[u,c]=o;return c==="on"&&l.push(u),l},[]);if(i.length===1&&i[0]===a)return r}return r.set(a,s?"on":"off"),r},in:(t,a,s)=>{let r=new Map;for(const i of t||[])r=n.select({id:i,value:!0,selected:new Map(r),children:a,parents:s});return r},out:t=>{const a=[];for(const[s,r]of t.entries())r==="on"&&a.push(s);return a}};return n},wr=e=>{const n=ma(e);return{select:a=>{let{selected:s,id:r,...i}=a;r=de(r);const l=s.has(r)?new Map([[r,s.get(r)]]):new Map;return n.select({...i,id:r,selected:l})},in:(a,s,r)=>{let i=new Map;return a!=null&&a.length&&(i=n.in(a.slice(0,1),s,r)),i},out:(a,s,r)=>n.out(a,s,r)}},Tu=e=>{const n=ma(e);return{select:a=>{let{id:s,selected:r,children:i,...l}=a;return s=de(s),i.has(s)?r:n.select({id:s,selected:r,children:i,...l})},in:n.in,out:n.out}},Au=e=>{const n=wr(e);return{select:a=>{let{id:s,selected:r,children:i,...l}=a;return s=de(s),i.has(s)?r:n.select({id:s,selected:r,children:i,...l})},in:n.in,out:n.out}},Iu=e=>{const n={select:t=>{let{id:a,value:s,selected:r,children:i,parents:l}=t;a=de(a);const o=new Map(r),u=[a];for(;u.length;){const d=u.shift();r.set(de(d),s?"on":"off"),i.has(d)&&u.push(...i.get(d))}let c=de(l.get(a));for(;c;){const d=i.get(c),f=d.every(h=>r.get(de(h))==="on"),m=d.every(h=>!r.has(de(h))||r.get(de(h))==="off");r.set(c,f?"on":m?"off":"indeterminate"),c=de(l.get(c))}return e&&!s&&Array.from(r.entries()).reduce((f,m)=>{let[h,y]=m;return y==="on"&&f.push(h),f},[]).length===0?o:r},in:(t,a,s)=>{let r=new Map;for(const i of t||[])r=n.select({id:i,value:!0,selected:new Map(r),children:a,parents:s});return r},out:(t,a)=>{const s=[];for(const[r,i]of t.entries())i==="on"&&!a.has(r)&&s.push(r);return s}};return n},Ct=Symbol.for("vuetify:nested"),_r={id:ne(),root:{register:()=>null,unregister:()=>null,parents:H(new Map),children:H(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:H(!1),selectable:H(!1),opened:H(new Set),activated:H(new Set),selected:H(new Map),selectedValues:H([]),getPath:()=>[]}},Eu=F({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Ou=e=>{let n=!1;const t=H(new Map),a=H(new Map),s=ue(e,"opened",e.opened,h=>new Set(h),h=>[...h.values()]),r=w(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return ku(e.mandatory);case"single-leaf":return Pu(e.mandatory);case"independent":return ga(e.mandatory);case"single-independent":default:return br(e.mandatory)}}),i=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return Au(e.mandatory);case"leaf":return Tu(e.mandatory);case"independent":return ma(e.mandatory);case"single-independent":return wr(e.mandatory);case"classic":default:return Iu(e.mandatory)}}),l=w(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return Cu;case"single":return xu;case"multiple":default:return pr}}),o=ue(e,"activated",e.activated,h=>r.value.in(h,t.value,a.value),h=>r.value.out(h,t.value,a.value)),u=ue(e,"selected",e.selected,h=>i.value.in(h,t.value,a.value),h=>i.value.out(h,t.value,a.value));Et(()=>{n=!0});function c(h){const y=[];let g=h;for(;g!=null;)y.unshift(g),g=a.value.get(g);return y}const d=Ve("nested"),f=new Set,m={id:ne(),root:{opened:s,activatable:D(e,"activatable"),selectable:D(e,"selectable"),activated:o,selected:u,selectedValues:w(()=>{const h=[];for(const[y,g]of u.value.entries())g==="on"&&h.push(y);return h}),register:(h,y,g)=>{if(f.has(h)){c(h).join(" -> "),c(y).concat(h).join(" -> ");return}else f.add(h);y&&h!==y&&a.value.set(h,y),g&&t.value.set(h,[]),y!=null&&t.value.set(y,[...t.value.get(y)||[],h])},unregister:h=>{if(n)return;f.delete(h),t.value.delete(h);const y=a.value.get(h);if(y){const g=t.value.get(y)??[];t.value.set(y,g.filter(b=>b!==h))}a.value.delete(h)},open:(h,y,g)=>{d.emit("click:open",{id:h,value:y,path:c(h),event:g});const b=l.value.open({id:h,value:y,opened:new Set(s.value),children:t.value,parents:a.value,event:g});b&&(s.value=b)},openOnSelect:(h,y,g)=>{const b=l.value.select({id:h,value:y,selected:new Map(u.value),opened:new Set(s.value),children:t.value,parents:a.value,event:g});b&&(s.value=b)},select:(h,y,g)=>{d.emit("click:select",{id:h,value:y,path:c(h),event:g});const b=i.value.select({id:h,value:y,selected:new Map(u.value),children:t.value,parents:a.value,event:g});b&&(u.value=b),m.root.openOnSelect(h,y,g)},activate:(h,y,g)=>{if(!e.activatable)return m.root.select(h,!0,g);d.emit("click:activate",{id:h,value:y,path:c(h),event:g});const b=r.value.activate({id:h,value:y,activated:new Set(o.value),children:t.value,parents:a.value,event:g});b&&(o.value=b)},children:t,parents:a,getPath:c}};return pe(Ct,m),m.root},Sr=(e,n)=>{const t=ge(Ct,_r),a=Symbol(Ye()),s=w(()=>e.value!==void 0?e.value:a),r={...t,id:s,open:(i,l)=>t.root.open(s.value,i,l),openOnSelect:(i,l)=>t.root.openOnSelect(s.value,i,l),isOpen:w(()=>t.root.opened.value.has(s.value)),parent:w(()=>t.root.parents.value.get(s.value)),activate:(i,l)=>t.root.activate(s.value,i,l),isActivated:w(()=>t.root.activated.value.has(de(s.value))),select:(i,l)=>t.root.select(s.value,i,l),isSelected:w(()=>t.root.selected.value.get(de(s.value))==="on"),isIndeterminate:w(()=>t.root.selected.value.get(s.value)==="indeterminate"),isLeaf:w(()=>!t.root.children.value.get(s.value)),isGroupActivator:t.isGroupActivator};return!t.isGroupActivator&&t.root.register(s.value,t.id.value,n),Et(()=>{!t.isGroupActivator&&t.root.unregister(s.value)}),n&&pe(Ct,r),r},$u=()=>{const e=ge(Ct,_r);pe(Ct,{...e,isGroupActivator:!0})},Ru=_i({name:"VListGroupActivator",setup(e,n){let{slots:t}=n;return $u(),()=>{var a;return(a=t.default)==null?void 0:a.call(t)}}}),Vu=F({activeColor:String,baseColor:String,color:String,collapseIcon:{type:ee,default:"$collapse"},expandIcon:{type:ee,default:"$expand"},prependIcon:ee,appendIcon:ee,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ie(),...Oe()},"VListGroup"),ts=K()({name:"VListGroup",props:Vu(),setup(e,n){let{slots:t}=n;const{isOpen:a,open:s,id:r}=Sr(D(e,"value"),!0),i=w(()=>`v-list-group--id-${String(r.value)}`),l=yr(),{isBooted:o}=Si();function u(m){m.stopPropagation(),s(!a.value,m)}const c=w(()=>({onClick:u,class:"v-list-group__header",id:i.value})),d=w(()=>a.value?e.collapseIcon:e.expandIcon),f=w(()=>({VListItem:{active:a.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&d.value,appendIcon:e.appendIcon||!e.subgroup&&d.value,title:e.title,value:e.value}}));return Z(()=>v(e.tag,{class:["v-list-group",{"v-list-group--prepend":l==null?void 0:l.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":a.value},e.class],style:e.style},{default:()=>[t.activator&&v(Ee,{defaults:f.value},{default:()=>[v(Ru,null,{default:()=>[t.activator({props:c.value,isOpen:a.value})]})]}),v(yn,{transition:{component:iu},disabled:!o.value},{default:()=>{var m;return[Re(v("div",{class:"v-list-group__items",role:"group","aria-labelledby":i.value},[(m=t.default)==null?void 0:m.call(t)]),[[Rt,a.value]])]}})]})),{isOpen:a}}}),Lu=F({opacity:[Number,String],...ie(),...Oe()},"VListItemSubtitle"),ju=K()({name:"VListItemSubtitle",props:Lu(),setup(e,n){let{slots:t}=n;return Z(()=>v(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},t)),{}}}),Du=Wi("v-list-item-title"),Bu=F({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:ee,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:ee,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:fe(),onClickOnce:fe(),...Vt(),...ie(),...ze(),...Ot(),...vn(),...dt(),..._s(),...Oe(),..._e(),...ft({variant:"text"})},"VListItem"),sn=K()({name:"VListItem",directives:{Ripple:ia},props:Bu(),emits:{click:e=>!0},setup(e,n){let{attrs:t,slots:a,emit:s}=n;const r=Ss(e,t),i=w(()=>e.value===void 0?r.href.value:e.value),{activate:l,isActivated:o,select:u,isOpen:c,isSelected:d,isIndeterminate:f,isGroupActivator:m,root:h,parent:y,openOnSelect:g,id:b}=Sr(i,!1),p=yr(),C=w(()=>{var R;return e.active!==!1&&(e.active||((R=r.isActive)==null?void 0:R.value)||(h.activatable.value?o.value:d.value))}),T=w(()=>e.link!==!1&&r.isLink.value),S=w(()=>!e.disabled&&e.link!==!1&&(e.link||r.isClickable.value||!!p&&(h.selectable.value||h.activatable.value||e.value!=null))),O=w(()=>e.rounded||e.nav),I=w(()=>e.color??e.activeColor),_=w(()=>({color:C.value?I.value??e.baseColor:e.baseColor,variant:e.variant}));ae(()=>{var R;return(R=r.isActive)==null?void 0:R.value},R=>{R&&y.value!=null&&h.open(y.value,!0),R&&g(R)},{immediate:!0});const{themeClasses:k}=$e(e),{borderClasses:j}=gn(e),{colorClasses:$,colorStyles:V,variantClasses:E}=sa(_),{densityClasses:L}=Xe(e),{dimensionStyles:M}=$t(e),{elevationClasses:N}=aa(e),{roundedClasses:G}=Lt(O),q=w(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),P=w(()=>({isActive:C.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:f.value}));function x(R){var J;s("click",R),S.value&&((J=r.navigate)==null||J.call(r,R),!m&&(h.activatable.value?l(!o.value,R):(h.selectable.value||e.value!=null)&&u(!d.value,R)))}function A(R){(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),R.target.dispatchEvent(new MouseEvent("click",R)))}return Z(()=>{const R=T.value?"a":e.tag,J=a.title||e.title!=null,U=a.subtitle||e.subtitle!=null,X=!!(e.appendAvatar||e.appendIcon),B=!!(X||a.append),Q=!!(e.prependAvatar||e.prependIcon),le=!!(Q||a.prepend);return p==null||p.updateHasPrepend(le),e.activeColor&&ki("active-color",["color","base-color"]),Re(v(R,z({class:["v-list-item",{"v-list-item--active":C.value,"v-list-item--disabled":e.disabled,"v-list-item--link":S.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!le&&(p==null?void 0:p.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&C.value},k.value,j.value,$.value,L.value,N.value,q.value,G.value,E.value,e.class],style:[V.value,M.value,e.style],tabindex:S.value?p?-2:0:void 0,onClick:x,onKeydown:S.value&&!T.value&&A},r.linkProps),{default:()=>{var me;return[ra(S.value||C.value,"v-list-item"),le&&v("div",{key:"prepend",class:"v-list-item__prepend"},[a.prepend?v(Ee,{key:"prepend-defaults",disabled:!Q,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var te;return[(te=a.prepend)==null?void 0:te.call(a,P.value)]}}):v(oe,null,[e.prependAvatar&&v(Pt,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&v(he,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),v("div",{class:"v-list-item__spacer"},null)]),v("div",{class:"v-list-item__content","data-no-activator":""},[J&&v(Du,{key:"title"},{default:()=>{var te;return[((te=a.title)==null?void 0:te.call(a,{title:e.title}))??e.title]}}),U&&v(ju,{key:"subtitle"},{default:()=>{var te;return[((te=a.subtitle)==null?void 0:te.call(a,{subtitle:e.subtitle}))??e.subtitle]}}),(me=a.default)==null?void 0:me.call(a,P.value)]),B&&v("div",{key:"append",class:"v-list-item__append"},[a.append?v(Ee,{key:"append-defaults",disabled:!X,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var te;return[(te=a.append)==null?void 0:te.call(a,P.value)]}}):v(oe,null,[e.appendIcon&&v(he,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&v(Pt,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),v("div",{class:"v-list-item__spacer"},null)])]}}),[[At("ripple"),S.value&&e.ripple]])}),{activate:l,isActivated:o,isGroupActivator:m,isSelected:d,list:p,select:u,root:h,id:b}}}),Fu=F({color:String,inset:Boolean,sticky:Boolean,title:String,...ie(),...Oe()},"VListSubheader"),Mu=K()({name:"VListSubheader",props:Fu(),setup(e,n){let{slots:t}=n;const{textColorClasses:a,textColorStyles:s}=jt(D(e,"color"));return Z(()=>{const r=!!(t.default||e.title);return v(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},a.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var i;return[r&&v("div",{class:"v-list-subheader__text"},[((i=t.default)==null?void 0:i.call(t))??e.title])]}})}),{}}}),Nu=F({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ie(),..._e()},"VDivider"),ya=K()({name:"VDivider",props:Nu(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:s}=$e(e),{textColorClasses:r,textColorStyles:i}=jt(D(e,"color")),l=w(()=>{const o={};return e.length&&(o[e.vertical?"height":"width"]=re(e.length)),e.thickness&&(o[e.vertical?"borderRightWidth":"borderTopWidth"]=re(e.thickness)),o});return Z(()=>{const o=v("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,r.value,e.class],style:[l.value,i.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!t.role||t.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${t.role||"separator"}`},null);return a.default?v("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[o,v("div",{class:"v-divider__content"},[a.default()]),o]):o}),{}}}),Uu=F({items:Array,returnObject:Boolean},"VListChildren"),kr=K()({name:"VListChildren",props:Uu(),setup(e,n){let{slots:t}=n;return mr(),()=>{var a,s;return((a=t.default)==null?void 0:a.call(t))??((s=e.items)==null?void 0:s.map(r=>{var f,m;let{children:i,props:l,type:o,raw:u}=r;if(o==="divider")return((f=t.divider)==null?void 0:f.call(t,{props:l}))??v(ya,l,null);if(o==="subheader")return((m=t.subheader)==null?void 0:m.call(t,{props:l}))??v(Mu,l,null);const c={subtitle:t.subtitle?h=>{var y;return(y=t.subtitle)==null?void 0:y.call(t,{...h,item:u})}:void 0,prepend:t.prepend?h=>{var y;return(y=t.prepend)==null?void 0:y.call(t,{...h,item:u})}:void 0,append:t.append?h=>{var y;return(y=t.append)==null?void 0:y.call(t,{...h,item:u})}:void 0,title:t.title?h=>{var y;return(y=t.title)==null?void 0:y.call(t,{...h,item:u})}:void 0},d=ts.filterProps(l);return i?v(ts,z({value:l==null?void 0:l.value},d),{activator:h=>{let{props:y}=h;const g={...l,...y,value:e.returnObject?u:l.value};return t.header?t.header({props:g}):v(sn,g,c)},default:()=>v(kr,{items:i,returnObject:e.returnObject},t)}):t.item?t.item({props:l}):v(sn,z(l,{value:e.returnObject?u:l.value}),c)}))}}}),Pr=F({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Tt}},"list-items");function Jn(e,n){const t=be(n,e.itemTitle,n),a=be(n,e.itemValue,t),s=be(n,e.itemChildren),r=e.itemProps===!0?typeof n=="object"&&n!=null&&!Array.isArray(n)?"children"in n?It(n,["children"]):n:void 0:be(n,e.itemProps),i={title:t,value:a,...r};return{title:String(i.title??""),value:i.value,props:i,children:Array.isArray(s)?xr(e,s):void 0,raw:n}}function xr(e,n){const t=[];for(const a of n)t.push(Jn(e,a));return t}function zu(e){const n=w(()=>xr(e,e.items)),t=w(()=>n.value.some(r=>r.value===null));function a(r){return t.value||(r=r.filter(i=>i!==null)),r.map(i=>e.returnObject&&typeof i=="string"?Jn(e,i):n.value.find(l=>e.valueComparator(i,l.value))||Jn(e,i))}function s(r){return e.returnObject?r.map(i=>{let{raw:l}=i;return l}):r.map(i=>{let{value:l}=i;return l})}return{items:n,transformIn:a,transformOut:s}}function Hu(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function qu(e,n){const t=be(n,e.itemType,"item"),a=Hu(n)?n:be(n,e.itemTitle),s=be(n,e.itemValue,void 0),r=be(n,e.itemChildren),i=e.itemProps===!0?It(n,["children"]):be(n,e.itemProps),l={title:a,value:s,...i};return{type:t,title:l.title,value:l.value,props:l,children:t==="item"&&r?Cr(e,r):void 0,raw:n}}function Cr(e,n){const t=[];for(const a of n)t.push(qu(e,a));return t}function Gu(e){return{items:w(()=>Cr(e,e.items))}}const Wu=F({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":fe(),"onClick:select":fe(),"onUpdate:opened":fe(),...Eu({selectStrategy:"single-leaf",openStrategy:"list"}),...Vt(),...ie(),...ze(),...Ot(),...vn(),itemType:{type:String,default:"type"},...Pr(),...dt(),...Oe(),..._e(),...ft({variant:"text"})},"VList"),Ku=K()({name:"VList",props:Wu(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,n){let{slots:t}=n;const{items:a}=Gu(e),{themeClasses:s}=$e(e),{backgroundColorClasses:r,backgroundColorStyles:i}=Dt(D(e,"bgColor")),{borderClasses:l}=gn(e),{densityClasses:o}=Xe(e),{dimensionStyles:u}=$t(e),{elevationClasses:c}=aa(e),{roundedClasses:d}=Lt(e),{children:f,open:m,parents:h,select:y,getPath:g}=Ou(e),b=w(()=>e.lines?`v-list--${e.lines}-line`:void 0),p=D(e,"activeColor"),C=D(e,"baseColor"),T=D(e,"color");mr(),Je({VListGroup:{activeColor:p,baseColor:C,color:T,expandIcon:D(e,"expandIcon"),collapseIcon:D(e,"collapseIcon")},VListItem:{activeClass:D(e,"activeClass"),activeColor:p,baseColor:C,color:T,density:D(e,"density"),disabled:D(e,"disabled"),lines:D(e,"lines"),nav:D(e,"nav"),slim:D(e,"slim"),variant:D(e,"variant")}});const S=ne(!1),O=H();function I(E){S.value=!0}function _(E){S.value=!1}function k(E){var L;!S.value&&!(E.relatedTarget&&((L=O.value)!=null&&L.contains(E.relatedTarget)))&&V()}function j(E){const L=E.target;if(!(!O.value||["INPUT","TEXTAREA"].includes(L.tagName))){if(E.key==="ArrowDown")V("next");else if(E.key==="ArrowUp")V("prev");else if(E.key==="Home")V("first");else if(E.key==="End")V("last");else return;E.preventDefault()}}function $(E){S.value=!0}function V(E){if(O.value)return Qt(O.value,E)}return Z(()=>v(e.tag,{ref:O,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,r.value,l.value,o.value,c.value,b.value,d.value,e.class],style:[i.value,u.value,e.style],tabindex:e.disabled||S.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:I,onFocusout:_,onFocus:k,onKeydown:j,onMousedown:$},{default:()=>[v(kr,{items:a.value,returnObject:e.returnObject},t)]})),{open:m,select:y,focus:V,children:f,parents:h,getPath:g}}});function Vn(e,n){return{x:e.x+n.x,y:e.y+n.y}}function Ju(e,n){return{x:e.x-n.x,y:e.y-n.y}}function ns(e,n){if(e.side==="top"||e.side==="bottom"){const{side:t,align:a}=e,s=a==="left"?0:a==="center"?n.width/2:a==="right"?n.width:a,r=t==="top"?0:t==="bottom"?n.height:t;return Vn({x:s,y:r},n)}else if(e.side==="left"||e.side==="right"){const{side:t,align:a}=e,s=t==="left"?0:t==="right"?n.width:t,r=a==="top"?0:a==="center"?n.height/2:a==="bottom"?n.height:a;return Vn({x:s,y:r},n)}return Vn({x:n.width/2,y:n.height/2},n)}const Tr={static:Xu,connected:ec},Qu=F({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Tr},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Yu(e,n){const t=H({}),a=H();xe&&ot(()=>!!(n.isActive.value&&e.locationStrategy),r=>{var i,l;ae(()=>e.locationStrategy,r),Te(()=>{window.removeEventListener("resize",s),a.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof e.locationStrategy=="function"?a.value=(i=e.locationStrategy(n,e,t))==null?void 0:i.updateLocation:a.value=(l=Tr[e.locationStrategy](n,e,t))==null?void 0:l.updateLocation});function s(r){var i;(i=a.value)==null||i.call(a,r)}return{contentStyles:t,updateLocation:a}}function Xu(){}function Zu(e,n){const t=la(e);return n?t.x+=parseFloat(e.style.right||0):t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function ec(e,n,t){(Array.isArray(e.target.value)||Yi(e.target.value))&&Object.assign(t.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=Pi(()=>{const h=Ta(n.location,e.isRtl.value),y=n.origin==="overlap"?h:n.origin==="auto"?Tn(h):Ta(n.origin,e.isRtl.value);return h.side===y.side&&h.align===An(y).align?{preferredAnchor:Aa(h),preferredOrigin:Aa(y)}:{preferredAnchor:h,preferredOrigin:y}}),[i,l,o,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(h=>w(()=>{const y=parseFloat(n[h]);return isNaN(y)?1/0:y})),c=w(()=>{if(Array.isArray(n.offset))return n.offset;if(typeof n.offset=="string"){const h=n.offset.split(" ").map(parseFloat);return h.length<2&&h.push(0),h}return typeof n.offset=="number"?[n.offset,0]:[0,0]});let d=!1;const f=new ResizeObserver(()=>{d&&m()});ae([e.target,e.contentEl],(h,y)=>{let[g,b]=h,[p,C]=y;p&&!Array.isArray(p)&&f.unobserve(p),g&&!Array.isArray(g)&&f.observe(g),C&&f.unobserve(C),b&&f.observe(b)},{immediate:!0}),Te(()=>{f.disconnect()});function m(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;const h=Cs(e.target.value),y=Zu(e.contentEl.value,e.isRtl.value),g=nn(e.contentEl.value),b=12;g.length||(g.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(y.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),y.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const p=g.reduce(($,V)=>{const E=V.getBoundingClientRect(),L=new Ke({x:V===document.documentElement?0:E.x,y:V===document.documentElement?0:E.y,width:V.clientWidth,height:V.clientHeight});return $?new Ke({x:Math.max($.left,L.left),y:Math.max($.top,L.top),width:Math.min($.right,L.right)-Math.max($.left,L.left),height:Math.min($.bottom,L.bottom)-Math.max($.top,L.top)}):L},void 0);p.x+=b,p.y+=b,p.width-=b*2,p.height-=b*2;let C={anchor:s.value,origin:r.value};function T($){const V=new Ke(y),E=ns($.anchor,h),L=ns($.origin,V);let{x:M,y:N}=Ju(E,L);switch($.anchor.side){case"top":N-=c.value[0];break;case"bottom":N+=c.value[0];break;case"left":M-=c.value[0];break;case"right":M+=c.value[0];break}switch($.anchor.align){case"top":N-=c.value[1];break;case"bottom":N+=c.value[1];break;case"left":M-=c.value[1];break;case"right":M+=c.value[1];break}return V.x+=M,V.y+=N,V.width=Math.min(V.width,o.value),V.height=Math.min(V.height,u.value),{overflows:Ea(V,p),x:M,y:N}}let S=0,O=0;const I={x:0,y:0},_={x:!1,y:!1};let k=-1;for(;!(k++>10);){const{x:$,y:V,overflows:E}=T(C);S+=$,O+=V,y.x+=$,y.y+=V;{const L=Ia(C.anchor),M=E.x.before||E.x.after,N=E.y.before||E.y.after;let G=!1;if(["x","y"].forEach(q=>{if(q==="x"&&M&&!_.x||q==="y"&&N&&!_.y){const P={anchor:{...C.anchor},origin:{...C.origin}},x=q==="x"?L==="y"?An:Tn:L==="y"?Tn:An;P.anchor=x(P.anchor),P.origin=x(P.origin);const{overflows:A}=T(P);(A[q].before<=E[q].before&&A[q].after<=E[q].after||A[q].before+A[q].after<(E[q].before+E[q].after)/2)&&(C=P,G=_[q]=!0)}}),G)continue}E.x.before&&(S+=E.x.before,y.x+=E.x.before),E.x.after&&(S-=E.x.after,y.x-=E.x.after),E.y.before&&(O+=E.y.before,y.y+=E.y.before),E.y.after&&(O-=E.y.after,y.y-=E.y.after);{const L=Ea(y,p);I.x=p.width-L.x.before-L.x.after,I.y=p.height-L.y.before-L.y.after,S+=L.x.before,y.x+=L.x.before,O+=L.y.before,y.y+=L.y.before}break}const j=Ia(C.anchor);return Object.assign(t.value,{"--v-overlay-anchor-origin":`${C.anchor.side} ${C.anchor.align}`,transformOrigin:`${C.origin.side} ${C.origin.align}`,top:re(Ln(O)),left:e.isRtl.value?void 0:re(Ln(S)),right:e.isRtl.value?re(Ln(-S)):void 0,minWidth:re(j==="y"?Math.min(i.value,h.width):i.value),maxWidth:re(as(Me(I.x,i.value===1/0?0:i.value,o.value))),maxHeight:re(as(Me(I.y,l.value===1/0?0:l.value,u.value)))}),{available:I,contentBox:y}}return ae(()=>[s.value,r.value,n.offset,n.minWidth,n.minHeight,n.maxWidth,n.maxHeight],()=>m()),Pe(()=>{const h=m();if(!h)return;const{available:y,contentBox:g}=h;g.height>y.y&&requestAnimationFrame(()=>{m(),requestAnimationFrame(()=>{m()})})}),{updateLocation:m}}function Ln(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function as(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Qn=!0;const rn=[];function tc(e){!Qn||rn.length?(rn.push(e),Yn()):(Qn=!1,e(),Yn())}let ss=-1;function Yn(){cancelAnimationFrame(ss),ss=requestAnimationFrame(()=>{const e=rn.shift();e&&e(),rn.length?Yn():Qn=!0})}const Xt={none:null,close:sc,block:rc,reposition:ic},nc=F({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Xt}},"VOverlay-scroll-strategies");function ac(e,n){if(!xe)return;let t;Ne(async()=>{t==null||t.stop(),n.isActive.value&&e.scrollStrategy&&(t=gs(),await new Promise(a=>setTimeout(a)),t.active&&t.run(()=>{var a;typeof e.scrollStrategy=="function"?e.scrollStrategy(n,e,t):(a=Xt[e.scrollStrategy])==null||a.call(Xt,n,e,t)}))}),Te(()=>{t==null||t.stop()})}function sc(e){function n(t){e.isActive.value=!1}Ar(e.targetEl.value??e.contentEl.value,n)}function rc(e,n){var i;const t=(i=e.root.value)==null?void 0:i.offsetParent,a=[...new Set([...nn(e.targetEl.value,n.contained?t:void 0),...nn(e.contentEl.value,n.contained?t:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(l=>oa(l)&&l)(t||document.documentElement);r&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((l,o)=>{l.style.setProperty("--v-body-scroll-x",re(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",re(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",re(s)),l.classList.add("v-overlay-scroll-blocked")}),Te(()=>{a.forEach((l,o)=>{const u=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),d=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-u,l.scrollTop=-c,l.style.scrollBehavior=d}),r&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function ic(e,n,t){let a=!1,s=-1,r=-1;function i(l){tc(()=>{var c,d;const o=performance.now();(d=(c=e.updateLocation).value)==null||d.call(c,l),a=(performance.now()-o)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?l=>l():requestIdleCallback)(()=>{t.run(()=>{Ar(e.targetEl.value??e.contentEl.value,l=>{a?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{i(l)})})):i(l)})})}),Te(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function Ar(e,n){const t=[document,...nn(e)];t.forEach(a=>{a.addEventListener("scroll",n,{passive:!0})}),Te(()=>{t.forEach(a=>{a.removeEventListener("scroll",n)})})}const Xn=Symbol.for("vuetify:v-menu"),lc=F({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function oc(e,n){let t=()=>{};function a(i){t==null||t();const l=Number(i?e.openDelay:e.closeDelay);return new Promise(o=>{t=xi(l,()=>{n==null||n(i),o(i)})})}function s(){return a(!0)}function r(){return a(!1)}return{clearDelay:t,runOpenDelay:s,runCloseDelay:r}}const uc=F({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...lc()},"VOverlay-activator");function cc(e,n){let{isActive:t,isTop:a,contentEl:s}=n;const r=Ve("useActivator"),i=H();let l=!1,o=!1,u=!0;const c=w(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=w(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:f,runCloseDelay:m}=oc(e,_=>{_===(e.openOnHover&&l||c.value&&o)&&!(e.openOnHover&&t.value&&!a.value)&&(t.value!==_&&(u=!0),t.value=_)}),h=H(),y={onClick:_=>{_.stopPropagation(),i.value=_.currentTarget||_.target,t.value||(h.value=[_.clientX,_.clientY]),t.value=!t.value},onMouseenter:_=>{var k;(k=_.sourceCapabilities)!=null&&k.firesTouchEvents||(l=!0,i.value=_.currentTarget||_.target,f())},onMouseleave:_=>{l=!1,m()},onFocus:_=>{Zt(_.target,":focus-visible")!==!1&&(o=!0,_.stopPropagation(),i.value=_.currentTarget||_.target,f())},onBlur:_=>{o=!1,_.stopPropagation(),m()}},g=w(()=>{const _={};return d.value&&(_.onClick=y.onClick),e.openOnHover&&(_.onMouseenter=y.onMouseenter,_.onMouseleave=y.onMouseleave),c.value&&(_.onFocus=y.onFocus,_.onBlur=y.onBlur),_}),b=w(()=>{const _={};if(e.openOnHover&&(_.onMouseenter=()=>{l=!0,f()},_.onMouseleave=()=>{l=!1,m()}),c.value&&(_.onFocusin=()=>{o=!0,f()},_.onFocusout=()=>{o=!1,m()}),e.closeOnContentClick){const k=ge(Xn,null);_.onClick=()=>{t.value=!1,k==null||k.closeParents()}}return _}),p=w(()=>{const _={};return e.openOnHover&&(_.onMouseenter=()=>{u&&(l=!0,u=!1,f())},_.onMouseleave=()=>{l=!1,m()}),_});ae(a,_=>{var k;_&&(e.openOnHover&&!l&&(!c.value||!o)||c.value&&!o&&(!e.openOnHover||!l))&&!((k=s.value)!=null&&k.contains(document.activeElement))&&(t.value=!1)}),ae(t,_=>{_||setTimeout(()=>{h.value=void 0})},{flush:"post"});const C=Pa();Ne(()=>{C.value&&Pe(()=>{i.value=C.el})});const T=Pa(),S=w(()=>e.target==="cursor"&&h.value?h.value:T.value?T.el:Ir(e.target,r)||i.value),O=w(()=>Array.isArray(S.value)?void 0:S.value);let I;return ae(()=>!!e.activator,_=>{_&&xe?(I=gs(),I.run(()=>{dc(e,r,{activatorEl:i,activatorEvents:g})})):I&&I.stop()},{flush:"post",immediate:!0}),Te(()=>{I==null||I.stop()}),{activatorEl:i,activatorRef:C,target:S,targetEl:O,targetRef:T,activatorEvents:g,contentEvents:b,scrimEvents:p}}function dc(e,n,t){let{activatorEl:a,activatorEvents:s}=t;ae(()=>e.activator,(o,u)=>{if(u&&o!==u){const c=l(u);c&&i(c)}o&&Pe(()=>r())},{immediate:!0}),ae(()=>e.activatorProps,()=>{r()}),Te(()=>{i()});function r(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;o&&qi(o,z(s.value,u))}function i(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;o&&Gi(o,z(s.value,u))}function l(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=Ir(o,n);return a.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,a.value}}function Ir(e,n){var a,s;if(!e)return;let t;if(e==="parent"){let r=(s=(a=n==null?void 0:n.proxy)==null?void 0:a.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;t=r}else typeof e=="string"?t=document.querySelector(e):"$el"in e?t=e.$el:t=e;return t}function fc(){if(!xe)return ne(!1);const{ssr:e}=Qe();if(e){const n=ne(!1);return ta(()=>{n.value=!0}),n}else return ne(!0)}const hc=F({eager:Boolean},"lazy");function vc(e,n){const t=ne(!1),a=w(()=>t.value||e.eager||n.value);ae(n,()=>t.value=!0);function s(){e.eager||(t.value=!1)}return{isBooted:t,hasContent:a,onAfterLeave:s}}function Er(){const n=Ve("useScopeId").vnode.scopeId;return{scopeId:n?{[n]:""}:void 0}}const rs=Symbol.for("vuetify:stack"),yt=ms([]);function gc(e,n,t){const a=Ve("useStack"),s=!t,r=ge(rs,void 0),i=ms({activeChildren:new Set});pe(rs,i);const l=ne(+n.value);ot(e,()=>{var d;const c=(d=yt.at(-1))==null?void 0:d[1];l.value=c?c+10:+n.value,s&&yt.push([a.uid,l.value]),r==null||r.activeChildren.add(a.uid),Te(()=>{if(s){const f=de(yt).findIndex(m=>m[0]===a.uid);yt.splice(f,1)}r==null||r.activeChildren.delete(a.uid)})});const o=ne(!0);s&&Ne(()=>{var d;const c=((d=yt.at(-1))==null?void 0:d[0])===a.uid;setTimeout(()=>o.value=c)});const u=w(()=>!i.activeChildren.size);return{globalTop:Ci(o),localTop:u,stackStyles:w(()=>({zIndex:l.value}))}}function mc(e){return{teleportTarget:w(()=>{const t=e();if(t===!0||!xe)return;const a=t===!1?document.body:typeof t=="string"?document.querySelector(t):t;if(a==null)return;let s=[...a.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",a.appendChild(s)),s})}}function yc(){return!0}function Or(e,n,t){if(!e||$r(e,t)===!1)return!1;const a=Ts(n);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const s=(typeof t.value=="object"&&t.value.include||(()=>[]))();return s.push(n),!s.some(r=>r==null?void 0:r.contains(e.target))}function $r(e,n){return(typeof n.value=="object"&&n.value.closeConditional||yc)(e)}function bc(e,n,t){const a=typeof t.value=="function"?t.value:t.value.handler;e.shadowTarget=e.target,n._clickOutside.lastMousedownWasOutside&&Or(e,n,t)&&setTimeout(()=>{$r(e,t)&&a&&a(e)},0)}function is(e,n){const t=Ts(e);n(document),typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&n(t)}const pc={mounted(e,n){const t=s=>bc(s,e,n),a=s=>{e._clickOutside.lastMousedownWasOutside=Or(s,e,n)};is(e,s=>{s.addEventListener("click",t,!0),s.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[n.instance.$.uid]={onClick:t,onMousedown:a}},beforeUnmount(e,n){e._clickOutside&&(is(e,t=>{var r;if(!t||!((r=e._clickOutside)!=null&&r[n.instance.$.uid]))return;const{onClick:a,onMousedown:s}=e._clickOutside[n.instance.$.uid];t.removeEventListener("click",a,!0),t.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[n.instance.$.uid])}};function wc(e){const{modelValue:n,color:t,...a}=e;return v(St,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&v("div",z({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const Rr=F({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...uc(),...ie(),...Ot(),...hc(),...Qu(),...nc(),..._e(),...mn()},"VOverlay"),ls=K()({name:"VOverlay",directives:{ClickOutside:pc},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Rr()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{slots:t,attrs:a,emit:s}=n;const r=Ve("VOverlay"),i=H(),l=H(),o=H(),u=ue(e,"modelValue"),c=w({get:()=>u.value,set:B=>{B&&e.disabled||(u.value=B)}}),{themeClasses:d}=$e(e),{rtlClasses:f,isRtl:m}=ct(),{hasContent:h,onAfterLeave:y}=vc(e,c),g=Dt(w(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:b,localTop:p,stackStyles:C}=gc(c,D(e,"zIndex"),e._disableGlobalStack),{activatorEl:T,activatorRef:S,target:O,targetEl:I,targetRef:_,activatorEvents:k,contentEvents:j,scrimEvents:$}=cc(e,{isActive:c,isTop:p,contentEl:o}),{teleportTarget:V}=mc(()=>{var le,me,te;const B=e.attach||e.contained;if(B)return B;const Q=((le=T==null?void 0:T.value)==null?void 0:le.getRootNode())||((te=(me=r.proxy)==null?void 0:me.$el)==null?void 0:te.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:E}=$t(e),L=fc(),{scopeId:M}=Er();ae(()=>e.disabled,B=>{B&&(c.value=!1)});const{contentStyles:N,updateLocation:G}=Yu(e,{isRtl:m,contentEl:o,target:O,isActive:c});ac(e,{root:i,contentEl:o,targetEl:I,isActive:c,updateLocation:G});function q(B){s("click:outside",B),e.persistent?J():c.value=!1}function P(B){return c.value&&b.value&&(!e.scrim||B.target===l.value||B instanceof MouseEvent&&B.shadowTarget===l.value)}xe&&ae(c,B=>{B?window.addEventListener("keydown",x):window.removeEventListener("keydown",x)},{immediate:!0}),Et(()=>{xe&&window.removeEventListener("keydown",x)});function x(B){var Q,le;B.key==="Escape"&&b.value&&(e.persistent?J():(c.value=!1,(Q=o.value)!=null&&Q.contains(document.activeElement)&&((le=T.value)==null||le.focus())))}const A=Ni();ot(()=>e.closeOnBack,()=>{Ui(A,B=>{b.value&&c.value?(B(!1),e.persistent?J():c.value=!1):B()})});const R=H();ae(()=>c.value&&(e.absolute||e.contained)&&V.value==null,B=>{if(B){const Q=As(i.value);Q&&Q!==document.scrollingElement&&(R.value=Q.scrollTop)}});function J(){e.noClickAnimation||o.value&&rt(o.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:tn})}function U(){s("afterEnter")}function X(){y(),s("afterLeave")}return Z(()=>{var B;return v(oe,null,[(B=t.activator)==null?void 0:B.call(t,{isActive:c.value,targetRef:_,props:z({ref:S},k.value,e.activatorProps)}),L.value&&h.value&&v(Ti,{disabled:!V.value,to:V.value},{default:()=>[v("div",z({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},d.value,f.value,e.class],style:[C.value,{"--v-overlay-opacity":e.opacity,top:re(R.value)},e.style],ref:i},M,a),[v(wc,z({color:g,modelValue:c.value&&!!e.scrim,ref:l},$.value),null),v(yn,{appear:!0,persisted:!0,transition:e.transition,target:O.value,onAfterEnter:U,onAfterLeave:X},{default:()=>{var Q;return[Re(v("div",z({ref:o,class:["v-overlay__content",e.contentClass],style:[E.value,N.value]},j.value,e.contentProps),[(Q=t.default)==null?void 0:Q.call(t,{isActive:c})]),[[Rt,c.value],[At("click-outside"),{handler:q,closeConditional:P,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,scrimEl:l,target:O,animateClick:J,contentEl:o,globalTop:b,localTop:p,updateLocation:G}}}),jn=Symbol("Forwarded refs");function Dn(e,n){let t=e;for(;t;){const a=Reflect.getOwnPropertyDescriptor(t,n);if(a)return a;t=Object.getPrototypeOf(t)}}function ba(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return e[jn]=t,new Proxy(e,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const i of t)if(i.value&&Reflect.has(i.value,r)){const l=Reflect.get(i.value,r);return typeof l=="function"?l.bind(i.value):l}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const i of t)if(i.value&&Reflect.has(i.value,r))return!0;return!1},set(s,r,i){if(Reflect.has(s,r))return Reflect.set(s,r,i);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const l of t)if(l.value&&Reflect.has(l.value,r))return Reflect.set(l.value,r,i);return!1},getOwnPropertyDescriptor(s,r){var l;const i=Reflect.getOwnPropertyDescriptor(s,r);if(i)return i;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const o of t){if(!o.value)continue;const u=Dn(o.value,r)??("_"in o.value?Dn((l=o.value._)==null?void 0:l.setupState,r):void 0);if(u)return u}for(const o of t){const u=o.value&&o.value[jn];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),f=Dn(d.value,r);if(f)return f;const m=d.value&&d.value[jn];m&&c.push(...m)}}}}})}const _c=F({id:String,submenu:Boolean,...It(Rr({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Zs}}),["absolute"])},"VMenu"),Sc=K()({name:"VMenu",props:_c(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=ue(e,"modelValue"),{scopeId:s}=Er(),{isRtl:r}=ct(),i=Ye(),l=w(()=>e.id||`v-menu-${i}`),o=H(),u=ge(Xn,null),c=ne(new Set);pe(Xn,{register(){c.value.add(i)},unregister(){c.value.delete(i)},closeParents(g){setTimeout(()=>{var b;!c.value.size&&!e.persistent&&(g==null||(b=o.value)!=null&&b.contentEl&&!Ai(g,o.value.contentEl))&&(a.value=!1,u==null||u.closeParents())},40)}}),Et(()=>u==null?void 0:u.unregister()),Ii(()=>a.value=!1);async function d(g){var C,T,S;const b=g.relatedTarget,p=g.target;await Pe(),a.value&&b!==p&&((C=o.value)!=null&&C.contentEl)&&((T=o.value)!=null&&T.globalTop)&&![document,o.value.contentEl].includes(p)&&!o.value.contentEl.contains(p)&&((S=Fn(o.value.contentEl)[0])==null||S.focus())}ae(a,g=>{g?(u==null||u.register(),document.addEventListener("focusin",d,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",d))});function f(g){u==null||u.closeParents(g)}function m(g){var b,p,C,T,S;if(!e.disabled)if(g.key==="Tab"||g.key==="Enter"&&!e.closeOnContentClick){if(g.key==="Enter"&&(g.target instanceof HTMLTextAreaElement||g.target instanceof HTMLInputElement&&g.target.closest("form")))return;g.key==="Enter"&&g.preventDefault(),Ei(Fn((b=o.value)==null?void 0:b.contentEl,!1),g.shiftKey?"prev":"next",I=>I.tabIndex>=0)||(a.value=!1,(C=(p=o.value)==null?void 0:p.activatorEl)==null||C.focus())}else e.submenu&&g.key===(r.value?"ArrowRight":"ArrowLeft")&&(a.value=!1,(S=(T=o.value)==null?void 0:T.activatorEl)==null||S.focus())}function h(g){var p;if(e.disabled)return;const b=(p=o.value)==null?void 0:p.contentEl;b&&a.value?g.key==="ArrowDown"?(g.preventDefault(),g.stopImmediatePropagation(),Qt(b,"next")):g.key==="ArrowUp"?(g.preventDefault(),g.stopImmediatePropagation(),Qt(b,"prev")):e.submenu&&(g.key===(r.value?"ArrowRight":"ArrowLeft")?a.value=!1:g.key===(r.value?"ArrowLeft":"ArrowRight")&&(g.preventDefault(),Qt(b,"first"))):(e.submenu?g.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(g.key))&&(a.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>h(g))))}const y=w(()=>z({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":l.value,onKeydown:h},e.activatorProps));return Z(()=>{const g=ls.filterProps(e);return v(ls,z({ref:o,id:l.value,class:["v-menu",e.class],style:e.style},g,{modelValue:a.value,"onUpdate:modelValue":b=>a.value=b,absolute:!0,activatorProps:y.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:m},s),{activator:t.activator,default:function(){for(var b=arguments.length,p=new Array(b),C=0;C<b;C++)p[C]=arguments[C];return v(Ee,{root:"VMenu"},{default:()=>{var T;return[(T=t.default)==null?void 0:T.call(t,...p)]}})}})}),ba({id:l,ΨopenChildren:c},o)}}),kc=F({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ie(),...mn({transition:{component:er}})},"VCounter"),Pc=K()({name:"VCounter",functional:!0,props:kc(),setup(e,n){let{slots:t}=n;const a=w(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Z(()=>v(yn,{transition:e.transition},{default:()=>[Re(v("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[t.default?t.default({counter:a.value,max:e.max,value:e.value}):a.value]),[[Rt,e.active]])]})),{}}}),xc=F({floating:Boolean,...ie()},"VFieldLabel"),Jt=K()({name:"VFieldLabel",props:xc(),setup(e,n){let{slots:t}=n;return Z(()=>v(nr,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),Cc=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Vr=F({appendInnerIcon:ee,bgColor:String,clearable:Boolean,clearIcon:{type:ee,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ee,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Cc.includes(e)},"onClick:clear":fe(),"onClick:appendInner":fe(),"onClick:prependInner":fe(),...ie(),...ks(),...dt(),..._e()},"VField"),Lr=K()({name:"VField",inheritAttrs:!1,props:{id:String,...lr(),...Vr()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:s}=n;const{themeClasses:r}=$e(e),{loaderClasses:i}=Ps(e),{focusClasses:l,isFocused:o,focus:u,blur:c}=or(e),{InputIcon:d}=ir(e),{roundedClasses:f}=Lt(e),{rtlClasses:m}=ct(),h=w(()=>e.dirty||e.active),y=w(()=>!e.singleLine&&!!(e.label||s.label)),g=Ye(),b=w(()=>e.id||`input-${g}`),p=w(()=>`${b.value}-messages`),C=H(),T=H(),S=H(),O=w(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:I,backgroundColorStyles:_}=Dt(D(e,"bgColor")),{textColorClasses:k,textColorStyles:j}=jt(w(()=>e.error||e.disabled?void 0:h.value&&o.value?e.color:e.baseColor));ae(h,L=>{if(y.value){const M=C.value.$el,N=T.value.$el;requestAnimationFrame(()=>{const G=la(M),q=N.getBoundingClientRect(),P=q.x-G.x,x=q.y-G.y-(G.height/2-q.height/2),A=q.width/.75,R=Math.abs(A-G.width)>1?{maxWidth:re(A)}:void 0,J=getComputedStyle(M),U=getComputedStyle(N),X=parseFloat(J.transitionDuration)*1e3||150,B=parseFloat(U.getPropertyValue("--v-field-label-scale")),Q=U.getPropertyValue("color");M.style.visibility="visible",N.style.visibility="hidden",rt(M,{transform:`translate(${P}px, ${x}px) scale(${B})`,color:Q,...R},{duration:X,easing:tn,direction:L?"normal":"reverse"}).finished.then(()=>{M.style.removeProperty("visibility"),N.style.removeProperty("visibility")})})}},{flush:"post"});const $=w(()=>({isActive:h,isFocused:o,controlRef:S,blur:c,focus:u}));function V(L){L.target!==document.activeElement&&L.preventDefault()}function E(L){var M;L.key!=="Enter"&&L.key!==" "||(L.preventDefault(),L.stopPropagation(),(M=e["onClick:clear"])==null||M.call(e,new MouseEvent("click")))}return Z(()=>{var P,x,A;const L=e.variant==="outlined",M=!!(s["prepend-inner"]||e.prependInnerIcon),N=!!(e.clearable||s.clear),G=!!(s["append-inner"]||e.appendInnerIcon||N),q=()=>s.label?s.label({...$.value,label:e.label,props:{for:b.value}}):e.label;return v("div",z({class:["v-field",{"v-field--active":h.value,"v-field--appended":G,"v-field--center-affix":e.centerAffix??!O.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":M,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!q(),[`v-field--variant-${e.variant}`]:!0},r.value,I.value,l.value,i.value,f.value,m.value,e.class],style:[_.value,e.style],onClick:V},t),[v("div",{class:"v-field__overlay"},null),v(xs,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:s.loader}),M&&v("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&v(d,{key:"prepend-icon",name:"prependInner"},null),(P=s["prepend-inner"])==null?void 0:P.call(s,$.value)]),v("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&y.value&&v(Jt,{key:"floating-label",ref:T,class:[k.value],floating:!0,for:b.value,style:j.value},{default:()=>[q()]}),v(Jt,{ref:C,for:b.value},{default:()=>[q()]}),(x=s.default)==null?void 0:x.call(s,{...$.value,props:{id:b.value,class:"v-field__input","aria-describedby":p.value},focus:u,blur:c})]),N&&v(tr,{key:"clear"},{default:()=>[Re(v("div",{class:"v-field__clearable",onMousedown:R=>{R.preventDefault(),R.stopPropagation()}},[v(Ee,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[s.clear?s.clear({...$.value,props:{onKeydown:E,onFocus:u,onBlur:c,onClick:e["onClick:clear"]}}):v(d,{name:"clear",onKeydown:E,onFocus:u,onBlur:c},null)]})]),[[Rt,e.dirty]])]}),G&&v("div",{key:"append",class:"v-field__append-inner"},[(A=s["append-inner"])==null?void 0:A.call(s,$.value),e.appendInnerIcon&&v(d,{key:"append-icon",name:"appendInner"},null)]),v("div",{class:["v-field__outline",k.value],style:j.value},[L&&v(oe,null,[v("div",{class:"v-field__outline__start"},null),y.value&&v("div",{class:"v-field__outline__notch"},[v(Jt,{ref:T,floating:!0,for:b.value},{default:()=>[q()]})]),v("div",{class:"v-field__outline__end"},null)]),O.value&&y.value&&v(Jt,{ref:T,floating:!0,for:b.value},{default:()=>[q()]})])])}),{controlRef:S}}});function Tc(e){const n=Object.keys(Lr.props).filter(t=>!fn(t)&&t!=="class"&&t!=="style");return Oi(e,n)}const Ac=["color","file","time","date","datetime-local","week","month"],jr=F({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...cr(),...Vr()},"VTextField"),os=K()({name:"VTextField",directives:{Intersect:Hi},inheritAttrs:!1,props:jr(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:s}=n;const r=ue(e,"modelValue"),{isFocused:i,focus:l,blur:o}=or(e),u=w(()=>typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:(r.value??"").toString().length),c=w(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=w(()=>["plain","underlined"].includes(e.variant));function f(O,I){var _,k;!e.autofocus||!O||(k=(_=I[0].target)==null?void 0:_.focus)==null||k.call(_)}const m=H(),h=H(),y=H(),g=w(()=>Ac.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function b(){var O;y.value!==document.activeElement&&((O=y.value)==null||O.focus()),i.value||l()}function p(O){a("mousedown:control",O),O.target!==y.value&&(b(),O.preventDefault())}function C(O){b(),a("click:control",O)}function T(O){O.stopPropagation(),b(),Pe(()=>{r.value=null,Ri(e["onClick:clear"],O)})}function S(O){var _;const I=O.target;if(r.value=I.value,(_=e.modelModifiers)!=null&&_.trim&&["text","search","password","tel","url"].includes(e.type)){const k=[I.selectionStart,I.selectionEnd];Pe(()=>{I.selectionStart=k[0],I.selectionEnd=k[1]})}}return Z(()=>{const O=!!(s.counter||e.counter!==!1&&e.counter!=null),I=!!(O||s.details),[_,k]=hs(t),{modelValue:j,...$}=Xa.filterProps(e),V=Tc(e);return v(Xa,z({ref:m,modelValue:r.value,"onUpdate:modelValue":E=>r.value=E,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},_,$,{centerAffix:!d.value,focused:i.value}),{...s,default:E=>{let{id:L,isDisabled:M,isDirty:N,isReadonly:G,isValid:q}=E;return v(Lr,z({ref:h,onMousedown:p,onClick:C,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},V,{id:L.value,active:g.value||N.value,dirty:N.value||e.dirty,disabled:M.value,focused:i.value,error:q.value===!1}),{...s,default:P=>{let{props:{class:x,...A}}=P;const R=Re(v("input",z({ref:y,value:r.value,onInput:S,autofocus:e.autofocus,readonly:G.value,disabled:M.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:b,onBlur:o},A,k),null),[[At("intersect"),{handler:f},null,{once:!0}]]);return v(oe,null,[e.prefix&&v("span",{class:"v-text-field__prefix"},[v("span",{class:"v-text-field__prefix__text"},[e.prefix])]),s.default?v("div",{class:x,"data-no-activator":""},[s.default(),R]):$i(R,{class:x}),e.suffix&&v("span",{class:"v-text-field__suffix"},[v("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:I?E=>{var L;return v(oe,null,[(L=s.details)==null?void 0:L.call(s,E),O&&v(oe,null,[v("span",null,null),v(Pc,{active:e.persistentCounter||i.value,value:u.value,max:c.value,disabled:e.disabled},s.counter)])])}:void 0})}),ba({},m,h,y)}}),Ic=F({renderless:Boolean,...ie()},"VVirtualScrollItem"),Ec=K()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ic(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:s}=n;const{resizeRef:r,contentRect:i}=_t(void 0,"border");ae(()=>{var l;return(l=i.value)==null?void 0:l.height},l=>{l!=null&&a("update:height",l)}),Z(()=>{var l,o;return e.renderless?v(oe,null,[(l=s.default)==null?void 0:l.call(s,{itemRef:r})]):v("div",z({ref:r,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(o=s.default)==null?void 0:o.call(s)])})}}),Oc=-1,$c=1,Bn=100,Rc=F({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Vc(e,n){const t=Qe(),a=ne(0);Ne(()=>{a.value=parseFloat(e.itemHeight||0)});const s=ne(0),r=ne(Math.ceil((parseInt(e.height)||t.height.value)/(a.value||16))||1),i=ne(0),l=ne(0),o=H(),u=H();let c=0;const{resizeRef:d,contentRect:f}=_t();Ne(()=>{d.value=o.value});const m=w(()=>{var P;return o.value===document.documentElement?t.height.value:((P=f.value)==null?void 0:P.height)||parseInt(e.height)||0}),h=w(()=>!!(o.value&&u.value&&m.value&&a.value));let y=Array.from({length:n.value.length}),g=Array.from({length:n.value.length});const b=ne(0);let p=-1;function C(P){return y[P]||a.value}const T=Vi(()=>{const P=performance.now();g[0]=0;const x=n.value.length;for(let A=1;A<=x-1;A++)g[A]=(g[A-1]||0)+C(A-1);b.value=Math.max(b.value,performance.now()-P)},b),S=ae(h,P=>{P&&(S(),c=u.value.offsetTop,T.immediate(),M(),~p&&Pe(()=>{xe&&window.requestAnimationFrame(()=>{G(p),p=-1})}))});Te(()=>{T.clear()});function O(P,x){const A=y[P],R=a.value;a.value=R?Math.min(a.value,x):x,(A!==x||R!==a.value)&&(y[P]=x,T())}function I(P){return P=Me(P,0,n.value.length-1),g[P]||0}function _(P){return Lc(g,P)}let k=0,j=0,$=0;ae(m,(P,x)=>{x&&(M(),P<x&&requestAnimationFrame(()=>{j=0,M()}))});function V(){if(!o.value||!u.value)return;const P=o.value.scrollTop,x=performance.now();x-$>500?(j=Math.sign(P-k),c=u.value.offsetTop):j=P-k,k=P,$=x,M()}function E(){!o.value||!u.value||(j=0,$=0,M())}let L=-1;function M(){cancelAnimationFrame(L),L=requestAnimationFrame(N)}function N(){if(!o.value||!m.value)return;const P=k-c,x=Math.sign(j),A=Math.max(0,P-Bn),R=Me(_(A),0,n.value.length),J=P+m.value+Bn,U=Me(_(J)+1,R+1,n.value.length);if((x!==Oc||R<s.value)&&(x!==$c||U>r.value)){const X=I(s.value)-I(R),B=I(U)-I(r.value);Math.max(X,B)>Bn?(s.value=R,r.value=U):(R<=0&&(s.value=R),U>=n.value.length&&(r.value=U))}i.value=I(s.value),l.value=I(n.value.length)-I(r.value)}function G(P){const x=I(P);!o.value||P&&!x?p=P:o.value.scrollTop=x}const q=w(()=>n.value.slice(s.value,r.value).map((P,x)=>({raw:P,index:x+s.value})));return ae(n,()=>{y=Array.from({length:n.value.length}),g=Array.from({length:n.value.length}),T.immediate(),M()},{deep:!0}),{calculateVisibleItems:M,containerRef:o,markerRef:u,computedItems:q,paddingTop:i,paddingBottom:l,scrollToIndex:G,handleScroll:V,handleScrollend:E,handleItemResize:O}}function Lc(e,n){let t=e.length-1,a=0,s=0,r=null,i=-1;if(e[t]<n)return t;for(;a<=t;)if(s=a+t>>1,r=e[s],r>n)t=s-1;else if(r<n)i=s,a=s+1;else return r===n?s:a;return i}const jc=F({items:{type:Array,default:()=>[]},renderless:Boolean,...Rc(),...ie(),...Ot()},"VVirtualScroll"),Dc=K()({name:"VVirtualScroll",props:jc(),setup(e,n){let{slots:t}=n;const a=Ve("VVirtualScroll"),{dimensionStyles:s}=$t(e),{calculateVisibleItems:r,containerRef:i,markerRef:l,handleScroll:o,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:f,paddingBottom:m,computedItems:h}=Vc(e,D(e,"items"));return ot(()=>e.renderless,()=>{function y(){var p,C;const b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[b]("scroll",o,{passive:!0}),document[b]("scrollend",u)):((p=i.value)==null||p[b]("scroll",o,{passive:!0}),(C=i.value)==null||C[b]("scrollend",u))}ta(()=>{i.value=As(a.vnode.el,!0),y(!0)}),Te(y)}),Z(()=>{const y=h.value.map(g=>v(Ec,{key:g.index,renderless:e.renderless,"onUpdate:height":b=>c(g.index,b)},{default:b=>{var p;return(p=t.default)==null?void 0:p.call(t,{item:g.raw,index:g.index,...b})}}));return e.renderless?v(oe,null,[v("div",{ref:l,class:"v-virtual-scroll__spacer",style:{paddingTop:re(f.value)}},null),y,v("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:re(m.value)}},null)]):v("div",{ref:i,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:u,style:[s.value,e.style]},[v("div",{ref:l,class:"v-virtual-scroll__container",style:{paddingTop:re(f.value),paddingBottom:re(m.value)}},[y])])}),{calculateVisibleItems:r,scrollToIndex:d}}});function Bc(e,n){const t=ne(!1);let a;function s(l){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function r(){await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>requestAnimationFrame(l)),await new Promise(l=>{if(t.value){const o=ae(t,()=>{o(),l()})}else l()})}async function i(l){var c,d;if(l.key==="Tab"&&((c=n.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(l.key))return;const o=(d=e.value)==null?void 0:d.$el;if(!o)return;(l.key==="Home"||l.key==="End")&&o.scrollTo({top:l.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await r();const u=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(l.key==="PageDown"||l.key==="Home"){const f=o.getBoundingClientRect().top;for(const m of u)if(m.getBoundingClientRect().top>=f){m.focus();break}}else{const f=o.getBoundingClientRect().bottom;for(const m of[...u].reverse())if(m.getBoundingClientRect().bottom<=f){m.focus();break}}}return{onScrollPassive:s,onKeydown:i}}const Fc=F({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ee,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Pr({itemChildren:!1})},"Select"),Mc=F({...Fc(),...It(jr({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...mn({transition:{component:Zs}})},"VSelect"),Dr=K()({name:"VSelect",props:Mc(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:a}=Ue(),s=H(),r=H(),i=H(),l=ue(e,"menu"),o=w({get:()=>l.value,set:P=>{var x;l.value&&!P&&((x=r.value)!=null&&x.ΨopenChildren.size)||(l.value=P)}}),{items:u,transformIn:c,transformOut:d}=zu(e),f=ue(e,"modelValue",[],P=>c(P===null?[null]:ve(P)),P=>{const x=d(P);return e.multiple?x:x[0]??null}),m=w(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),h=ur(),y=w(()=>f.value.map(P=>P.value)),g=ne(!1),b=w(()=>o.value?e.closeText:e.openText);let p="",C;const T=w(()=>e.hideSelected?u.value.filter(P=>!f.value.some(x=>e.valueComparator(x,P))):u.value),S=w(()=>e.hideNoData&&!T.value.length||e.readonly||(h==null?void 0:h.isReadonly.value)),O=w(()=>{var P;return{...e.menuProps,activatorProps:{...((P=e.menuProps)==null?void 0:P.activatorProps)||{},"aria-haspopup":"listbox"}}}),I=H(),_=Bc(I,s);function k(P){e.openOnClear&&(o.value=!0)}function j(){S.value||(o.value=!o.value)}function $(P){xa(P)&&V(P)}function V(P){var J,U;if(!P.key||e.readonly||h!=null&&h.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(P.key)&&P.preventDefault(),["Enter","ArrowDown"," "].includes(P.key)&&(o.value=!0),["Escape","Tab"].includes(P.key)&&(o.value=!1),P.key==="Home"?(J=I.value)==null||J.focus("first"):P.key==="End"&&((U=I.value)==null||U.focus("last"));const x=1e3;if(e.multiple||!xa(P))return;const A=performance.now();A-C>x&&(p=""),p+=P.key.toLowerCase(),C=A;const R=u.value.find(X=>X.title.toLowerCase().startsWith(p));if(R!==void 0){f.value=[R];const X=T.value.indexOf(R);xe&&window.requestAnimationFrame(()=>{var B;X>=0&&((B=i.value)==null||B.scrollToIndex(X))})}}function E(P){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!P.props.disabled)if(e.multiple){const A=f.value.findIndex(J=>e.valueComparator(J.value,P.value)),R=x??!~A;if(~A){const J=R?[...f.value,P]:[...f.value];J.splice(A,1),f.value=J}else R&&(f.value=[...f.value,P])}else{const A=x!==!1;f.value=A?[P]:[],Pe(()=>{o.value=!1})}}function L(P){var x;(x=I.value)!=null&&x.$el.contains(P.relatedTarget)||(o.value=!1)}function M(){var P;e.eager&&((P=i.value)==null||P.calculateVisibleItems())}function N(){var P;g.value&&((P=s.value)==null||P.focus())}function G(P){g.value=!0}function q(P){if(P==null)f.value=[];else if(Zt(s.value,":autofill")||Zt(s.value,":-webkit-autofill")){const x=u.value.find(A=>A.title===P);x&&E(x)}else s.value&&(s.value.value="")}return ae(o,()=>{if(!e.hideSelected&&o.value&&f.value.length){const P=T.value.findIndex(x=>f.value.some(A=>e.valueComparator(A.value,x.value)));xe&&window.requestAnimationFrame(()=>{var x;P>=0&&((x=i.value)==null||x.scrollToIndex(P))})}}),ae(()=>e.items,(P,x)=>{o.value||g.value&&!x.length&&P.length&&(o.value=!0)}),Z(()=>{const P=!!(e.chips||t.chip),x=!!(!e.hideNoData||T.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),A=f.value.length>0,R=os.filterProps(e),J=A||!g.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return v(os,z({ref:s},R,{modelValue:f.value.map(U=>U.props.value).join(", "),"onUpdate:modelValue":q,focused:g.value,"onUpdate:focused":U=>g.value=U,validationValue:f.externalValue,counterValue:m.value,dirty:A,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:J,"onClick:clear":k,"onMousedown:control":j,onBlur:L,onKeydown:V,"aria-label":a(b.value),title:a(b.value)}),{...t,default:()=>v(oe,null,[v(Sc,z({ref:r,modelValue:o.value,"onUpdate:modelValue":U=>o.value=U,activator:"parent",contentClass:"v-select__content",disabled:S.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:M,onAfterLeave:N},O.value),{default:()=>[x&&v(Ku,z({ref:I,selected:y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:U=>U.preventDefault(),onKeydown:$,onFocusin:G,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},_,e.listProps),{default:()=>{var U,X,B;return[(U=t["prepend-item"])==null?void 0:U.call(t),!T.value.length&&!e.hideNoData&&(((X=t["no-data"])==null?void 0:X.call(t))??v(sn,{title:a(e.noDataText)},null)),v(Dc,{ref:i,renderless:!0,items:T.value},{default:Q=>{var vt;let{item:le,index:me,itemRef:te}=Q;const Le=z(le.props,{ref:te,key:me,onClick:()=>E(le,null)});return((vt=t.item)==null?void 0:vt.call(t,{item:le,index:me,props:Le}))??v(sn,z(Le,{role:"option"}),{prepend:Nt=>{let{isSelected:Ut}=Nt;return v(oe,null,[e.multiple&&!e.hideSelected?v(Pn,{key:le.value,modelValue:Ut,ripple:!1,tabindex:"-1"},null):void 0,le.props.prependAvatar&&v(Pt,{image:le.props.prependAvatar},null),le.props.prependIcon&&v(he,{icon:le.props.prependIcon},null)])}})}}),(B=t["append-item"])==null?void 0:B.call(t)]}})]}),f.value.map((U,X)=>{function B(te){te.stopPropagation(),te.preventDefault(),E(U,!1)}const Q={"onClick:close":B,onKeydown(te){te.key!=="Enter"&&te.key!==" "||(te.preventDefault(),te.stopPropagation(),B(te))},onMousedown(te){te.preventDefault(),te.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},le=P?!!t.chip:!!t.selection,me=le?Li(P?t.chip({item:U,index:X,props:Q}):t.selection({item:U,index:X})):void 0;if(!(le&&!me))return v("div",{key:U.value,class:"v-select__selection"},[P?t.chip?v(Ee,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:U.title}}},{default:()=>[me]}):v(gr,z({key:"chip",closable:e.closableChips,size:"small",text:U.title,disabled:U.props.disabled},Q),null):me??v("span",{class:"v-select__selection-text"},[U.title,e.multiple&&X<f.value.length-1&&v("span",{class:"v-select__selection-comma"},[Mn(",")])])])})]),"append-inner":function(){var Q;for(var U=arguments.length,X=new Array(U),B=0;B<U;B++)X[B]=arguments[B];return v(oe,null,[(Q=t["append-inner"])==null?void 0:Q.call(t,...X),e.menuIcon?v(he,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),ba({isFocused:g,menu:o,select:E},s)}}),Br=F({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Fr=Symbol.for("vuetify:data-table-pagination");function Mr(e){const n=ue(e,"page",void 0,a=>+(a??1)),t=ue(e,"itemsPerPage",void 0,a=>+(a??10));return{page:n,itemsPerPage:t}}function Nr(e){const{page:n,itemsPerPage:t,itemsLength:a}=e,s=w(()=>t.value===-1?0:t.value*(n.value-1)),r=w(()=>t.value===-1?a.value:Math.min(a.value,s.value+t.value)),i=w(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));Ne(()=>{n.value>i.value&&(n.value=i.value)});function l(f){t.value=f,n.value=1}function o(){n.value=Me(n.value+1,1,i.value)}function u(){n.value=Me(n.value-1,1,i.value)}function c(f){n.value=Me(f,1,i.value)}const d={page:n,itemsPerPage:t,startIndex:s,stopIndex:r,pageCount:i,itemsLength:a,nextPage:o,prevPage:u,setPage:c,setItemsPerPage:l};return pe(Fr,d),d}function Nc(){const e=ge(Fr);if(!e)throw new Error("Missing pagination!");return e}function Uc(e){const n=Ve("usePaginatedItems"),{items:t,startIndex:a,stopIndex:s,itemsPerPage:r}=e,i=w(()=>r.value<=0?t.value:t.value.slice(a.value,s.value));return ae(i,l=>{n.emit("update:currentItems",l)}),{paginatedItems:i}}const pa=F({prevIcon:{type:ee,default:"$prev"},nextIcon:{type:ee,default:"$next"},firstIcon:{type:ee,default:"$first"},lastIcon:{type:ee,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ln=K()({name:"VDataTableFooter",props:pa(),setup(e,n){let{slots:t}=n;const{t:a}=Ue(),{page:s,pageCount:r,startIndex:i,stopIndex:l,itemsLength:o,itemsPerPage:u,setItemsPerPage:c}=Nc(),d=w(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?a(f.title):f.title}));return Z(()=>{var m;const f=Wa.filterProps(e);return v("div",{class:"v-data-table-footer"},[(m=t.prepend)==null?void 0:m.call(t),v("div",{class:"v-data-table-footer__items-per-page"},[v("span",null,[a(e.itemsPerPageText)]),v(Dr,{items:d.value,modelValue:u.value,"onUpdate:modelValue":h=>c(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),v("div",{class:"v-data-table-footer__info"},[v("div",null,[a(e.pageText,o.value?i.value+1:0,l.value,o.value)])]),v("div",{class:"v-data-table-footer__pagination"},[v(Wa,z({modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:r.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),on=ji({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,n)=>{let{slots:t}=n;const a=e.tag??"td";return v(a,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:re(e.height),width:re(e.width),maxWidth:re(e.maxWidth),left:re(e.fixedOffset||null)}},{default:()=>{var s;return[(s=t.default)==null?void 0:s.call(t)]}})}),zc=F({headers:Array},"DataTable-header"),Ur=Symbol.for("vuetify:data-table-headers"),zr={title:"",sortable:!1},Hc={...zr,width:48};function qc(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(t=>({element:t,priority:0}));return{enqueue:(t,a)=>{let s=!1;for(let r=0;r<n.length;r++)if(n[r].priority>a){n.splice(r,0,{element:t,priority:a}),s=!0;break}s||n.push({element:t,priority:a})},size:()=>n.length,count:()=>{let t=0;if(!n.length)return 0;const a=Math.floor(n[0].priority);for(let s=0;s<n.length;s++)Math.floor(n[s].priority)===a&&(t+=1);return t},dequeue:()=>n.shift()}}function Zn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)n.push(e);else for(const t of e.children)Zn(t,n);return n}function Hr(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const t of e)t.key&&n.add(t.key),t.children&&Hr(t.children,n);return n}function Gc(e){if(e.key){if(e.key==="data-table-group")return zr;if(["data-table-expand","data-table-select"].includes(e.key))return Hc}}function wa(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(n,...e.children.map(t=>wa(t,n+1))):n}function Wc(e){let n=!1;function t(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(i&&(r.fixed=!0),r.fixed)if(r.children)for(let l=r.children.length-1;l>=0;l--)t(r.children[l],!0);else n?isNaN(+r.width)&&Di(`Multiple fixed columns should have a static width (key: ${r.key})`):r.lastFixed=!0,n=!0;else if(r.children)for(let l=r.children.length-1;l>=0;l--)t(r.children[l]);else n=!1}for(let r=e.length-1;r>=0;r--)t(e[r]);function a(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return i;if(r.children){r.fixedOffset=i;for(const l of r.children)i=a(l,i)}else r.fixed&&(r.fixedOffset=i,i+=parseFloat(r.width||"0")||0);return i}let s=0;for(const r of e)s=a(r,s)}function Kc(e,n){const t=[];let a=0;const s=qc(e);for(;s.size()>0;){let i=s.count();const l=[];let o=1;for(;i>0;){const{element:u,priority:c}=s.dequeue(),d=n-a-wa(u);if(l.push({...u,rowspan:d??1,colspan:u.children?Zn(u).length:1}),u.children)for(const f of u.children){const m=c%1+o/Math.pow(10,a+2);s.enqueue(f,a+d+m)}o+=1,i-=1}a+=1,t.push(l)}return{columns:e.map(i=>Zn(i)).flat(),headers:t}}function qr(e){const n=[];for(const t of e){const a={...Gc(t),...t},s=a.key??(typeof a.value=="string"?a.value:null),r=a.value??s??null,i={...a,key:s,value:r,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?qr(a.children):void 0};n.push(i)}return n}function Gr(e,n){const t=H([]),a=H([]),s=H({}),r=H({}),i=H({});Ne(()=>{var y,g,b;const u=(e.headers||Object.keys(e.items[0]??{}).map(p=>({key:p,title:cs(p)}))).slice(),c=Hr(u);(y=n==null?void 0:n.groupBy)!=null&&y.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(g=n==null?void 0:n.showSelect)!=null&&g.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(b=n==null?void 0:n.showExpand)!=null&&b.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const d=qr(u);Wc(d);const f=Math.max(...d.map(p=>wa(p)))+1,m=Kc(d,f);t.value=m.headers,a.value=m.columns;const h=m.headers.flat(1);for(const p of h)p.key&&(p.sortable&&(p.sort&&(s.value[p.key]=p.sort),p.sortRaw&&(r.value[p.key]=p.sortRaw)),p.filter&&(i.value[p.key]=p.filter))});const l={headers:t,columns:a,sortFunctions:s,sortRawFunctions:r,filterFunctions:i};return pe(Ur,l),l}function xn(){const e=ge(Ur);if(!e)throw new Error("Missing headers!");return e}const Jc={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:n,value:t}=e;return new Set(t?[(a=n[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:n}=e;return n}},Wr={showSelectAll:!0,allSelected:e=>{let{currentPage:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const s of n)t?a.add(s.value):a.delete(s.value);return a},selectAll:e=>{let{value:n,currentPage:t,selected:a}=e;return Wr.select({items:t,value:n,selected:a})}},Kr={showSelectAll:!0,allSelected:e=>{let{allItems:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const s of n)t?a.add(s.value):a.delete(s.value);return a},selectAll:e=>{let{value:n,allItems:t,selected:a}=e;return Kr.select({items:t,value:n,selected:a})}},Qc=F({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Tt}},"DataTable-select"),Jr=Symbol.for("vuetify:data-table-selection");function Qr(e,n){let{allItems:t,currentPage:a}=n;const s=ue(e,"modelValue",e.modelValue,b=>new Set(ve(b).map(p=>{var C;return((C=t.value.find(T=>e.valueComparator(p,T.value)))==null?void 0:C.value)??p})),b=>[...b.values()]),r=w(()=>t.value.filter(b=>b.selectable)),i=w(()=>a.value.filter(b=>b.selectable)),l=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Jc;case"all":return Kr;case"page":default:return Wr}});function o(b){return ve(b).every(p=>s.value.has(p.value))}function u(b){return ve(b).some(p=>s.value.has(p.value))}function c(b,p){const C=l.value.select({items:b,value:p,selected:new Set(s.value)});s.value=C}function d(b){c([b],!o([b]))}function f(b){const p=l.value.selectAll({value:b,allItems:r.value,currentPage:i.value,selected:new Set(s.value)});s.value=p}const m=w(()=>s.value.size>0),h=w(()=>{const b=l.value.allSelected({allItems:r.value,currentPage:i.value});return!!b.length&&o(b)}),y=w(()=>l.value.showSelectAll),g={toggleSelect:d,select:c,selectAll:f,isSelected:o,isSomeSelected:u,someSelected:m,allSelected:h,showSelectAll:y};return pe(Jr,g),g}function Cn(){const e=ge(Jr);if(!e)throw new Error("Missing selection!");return e}const Yc=F({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Yr=Symbol.for("vuetify:data-table-sort");function Xr(e){const n=ue(e,"sortBy"),t=D(e,"mustSort"),a=D(e,"multiSort");return{sortBy:n,mustSort:t,multiSort:a}}function Zr(e){const{sortBy:n,mustSort:t,multiSort:a,page:s}=e,r=o=>{if(o.key==null)return;let u=n.value.map(d=>({...d}))??[];const c=u.find(d=>d.key===o.key);c?c.order==="desc"?t.value?c.order="asc":u=u.filter(d=>d.key!==o.key):c.order="desc":a.value?u=[...u,{key:o.key,order:"asc"}]:u=[{key:o.key,order:"asc"}],n.value=u,s&&(s.value=1)};function i(o){return!!n.value.find(u=>u.key===o.key)}const l={sortBy:n,toggleSort:r,isSorted:i};return pe(Yr,l),l}function ei(){const e=ge(Yr);if(!e)throw new Error("Missing sort!");return e}function Xc(e,n,t,a){const s=Ue();return{sortedItems:w(()=>{var i,l;return t.value.length?Zc(n.value,t.value,s.current.value,{transform:a==null?void 0:a.transform,sortFunctions:{...e.customKeySort,...(i=a==null?void 0:a.sortFunctions)==null?void 0:i.value},sortRawFunctions:(l=a==null?void 0:a.sortRawFunctions)==null?void 0:l.value}):n.value})}}function Zc(e,n,t,a){const s=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return e.map(i=>[i,a!=null&&a.transform?a.transform(i):i]).sort((i,l)=>{var o,u;for(let c=0;c<n.length;c++){let d=!1;const f=n[c].key,m=n[c].order??"asc";if(m===!1)continue;let h=en(i[1],f),y=en(l[1],f),g=i[0].raw,b=l[0].raw;if(m==="desc"&&([h,y]=[y,h],[g,b]=[b,g]),(o=a==null?void 0:a.sortRawFunctions)!=null&&o[f]){const p=a.sortRawFunctions[f](g,b);if(p==null)continue;if(d=!0,p)return p}if((u=a==null?void 0:a.sortFunctions)!=null&&u[f]){const p=a.sortFunctions[f](h,y);if(p==null)continue;if(d=!0,p)return p}if(!d){if(h instanceof Date&&y instanceof Date)return h.getTime()-y.getTime();if([h,y]=[h,y].map(p=>p!=null?p.toString().toLocaleLowerCase():p),h!==y)return Ht(h)&&Ht(y)?0:Ht(h)?-1:Ht(y)?1:!isNaN(h)&&!isNaN(y)?Number(h)-Number(y):s.compare(h,y)}}return 0}).map(i=>{let[l]=i;return l})}const ti=F({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:ee,default:"$sortAsc"},sortDescIcon:{type:ee,default:"$sortDesc"},headerProps:{type:Object},...hn(),...ks()},"VDataTableHeaders"),un=K()({name:"VDataTableHeaders",props:ti(),setup(e,n){let{slots:t}=n;const{t:a}=Ue(),{toggleSort:s,sortBy:r,isSorted:i}=ei(),{someSelected:l,allSelected:o,selectAll:u,showSelectAll:c}=Cn(),{columns:d,headers:f}=xn(),{loaderClasses:m}=Ps(e);function h(_,k){if(!(!e.sticky&&!_.fixed))return{position:"sticky",left:_.fixed?re(_.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${k})`:void 0}}function y(_){const k=r.value.find(j=>j.key===_.key);return k?k.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:g,backgroundColorStyles:b}=Dt(e,"color"),{displayClasses:p,mobile:C}=Qe(e),T=w(()=>({headers:f.value,columns:d.value,toggleSort:s,isSorted:i,sortBy:r.value,someSelected:l.value,allSelected:o.value,selectAll:u,getSortIcon:y})),S=w(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},p.value,m.value]),O=_=>{let{column:k,x:j,y:$}=_;const V=k.key==="data-table-select"||k.key==="data-table-expand",E=z(e.headerProps??{},k.headerProps??{});return v(on,z({tag:"th",align:k.align,class:[{"v-data-table__th--sortable":k.sortable&&!e.disableSort,"v-data-table__th--sorted":i(k),"v-data-table__th--fixed":k.fixed},...S.value],style:{width:re(k.width),minWidth:re(k.minWidth),maxWidth:re(k.maxWidth),...h(k,$)},colspan:k.colspan,rowspan:k.rowspan,onClick:k.sortable?()=>s(k):void 0,fixed:k.fixed,nowrap:k.nowrap,lastFixed:k.lastFixed,noPadding:V},E),{default:()=>{var N;const L=`header.${k.key}`,M={column:k,selectAll:u,isSorted:i,toggleSort:s,sortBy:r.value,someSelected:l.value,allSelected:o.value,getSortIcon:y};return t[L]?t[L](M):k.key==="data-table-select"?((N=t["header.data-table-select"])==null?void 0:N.call(t,M))??(c.value&&v(Pn,{modelValue:o.value,indeterminate:l.value&&!o.value,"onUpdate:modelValue":u},null)):v("div",{class:"v-data-table-header__content"},[v("span",null,[k.title]),k.sortable&&!e.disableSort&&v(he,{key:"icon",class:"v-data-table-header__sort-icon",icon:y(k)},null),e.multiSort&&i(k)&&v("div",{key:"badge",class:["v-data-table-header__sort-badge",...g.value],style:b.value},[r.value.findIndex(G=>G.key===k.key)+1])])}})},I=()=>{const _=z(e.headerProps??{}??{}),k=w(()=>d.value.filter($=>($==null?void 0:$.sortable)&&!e.disableSort)),j=w(()=>{if(d.value.find(V=>V.key==="data-table-select")!=null)return o.value?"$checkboxOn":l.value?"$checkboxIndeterminate":"$checkboxOff"});return v(on,z({tag:"th",class:[...S.value],colspan:f.value.length+1},_),{default:()=>[v("div",{class:"v-data-table-header__content"},[v(Dr,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:k.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:j.value,"onClick:append":()=>u(!o.value)},{...t,chip:$=>{var V;return v(gr,{onClick:(V=$.item.raw)!=null&&V.sortable?()=>s($.item.raw):void 0,onMousedown:E=>{E.preventDefault(),E.stopPropagation()}},{default:()=>[$.item.title,v(he,{class:["v-data-table__td-sort-icon",i($.item.raw)&&"v-data-table__td-sort-icon-active"],icon:y($.item.raw),size:"small"},null)]})}})])]})};Z(()=>C.value?v("tr",null,[v(I,null,null)]):v(oe,null,[t.headers?t.headers(T.value):f.value.map((_,k)=>v("tr",null,[_.map((j,$)=>v(O,{column:j,x:$,y:k},null))])),e.loading&&v("tr",{class:"v-data-table-progress"},[v("th",{colspan:d.value.length},[v(xs,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),ed=F({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ni=Symbol.for("vuetify:data-table-group");function ai(e){return{groupBy:ue(e,"groupBy")}}function si(e){const{disableSort:n,groupBy:t,sortBy:a}=e,s=H(new Set),r=w(()=>t.value.map(c=>({...c,order:c.order??!1})).concat(n!=null&&n.value?[]:a.value));function i(c){return s.value.has(c.id)}function l(c){const d=new Set(s.value);i(c)?d.delete(c.id):d.add(c.id),s.value=d}function o(c){function d(f){const m=[];for(const h of f.items)"type"in h&&h.type==="group"?m.push(...d(h)):m.push(h);return m}return d({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:r,toggleGroup:l,opened:s,groupBy:t,extractRows:o,isGroupOpen:i};return pe(ni,u),u}function ri(){const e=ge(ni);if(!e)throw new Error("Missing group!");return e}function td(e,n){if(!e.length)return[];const t=new Map;for(const a of e){const s=en(a.raw,n);t.has(s)||t.set(s,[]),t.get(s).push(a)}return t}function ii(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const s=td(e,n[0]),r=[],i=n.slice(1);return s.forEach((l,o)=>{const u=n[0],c=`${a}_${u}_${o}`;r.push({depth:t,id:c,key:u,value:o,items:i.length?ii(l,i,t+1,c):l,type:"group"})}),r}function li(e,n){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(n.has(a.id)||a.value==null)&&t.push(...li(a.items,n))):t.push(a);return t}function oi(e,n,t){return{flatItems:w(()=>{if(!n.value.length)return e.value;const s=ii(e.value,n.value.map(r=>r.key));return li(s,t.value)})}}const nd=F({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ad=K()({name:"VDataTableGroupHeaderRow",props:nd(),setup(e,n){let{slots:t}=n;const{isGroupOpen:a,toggleGroup:s,extractRows:r}=ri(),{isSelected:i,isSomeSelected:l,select:o}=Cn(),{columns:u}=xn(),c=w(()=>r([e.item]));return()=>v("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(d=>{var f,m;if(d.key==="data-table-group"){const h=a(e.item)?"$expand":"$next",y=()=>s(e.item);return((f=t["data-table-group"])==null?void 0:f.call(t,{item:e.item,count:c.value.length,props:{icon:h,onClick:y}}))??v(on,{class:"v-data-table-group-header-row__column"},{default:()=>[v(Ge,{size:"small",variant:"text",icon:h,onClick:y},null),v("span",null,[e.item.value]),v("span",null,[Mn("("),c.value.length,Mn(")")])]})}if(d.key==="data-table-select"){const h=i(c.value),y=l(c.value)&&!h,g=b=>o(c.value,b);return((m=t["data-table-select"])==null?void 0:m.call(t,{props:{modelValue:h,indeterminate:y,"onUpdate:modelValue":g}}))??v("td",null,[v(Pn,{modelValue:h,indeterminate:y,"onUpdate:modelValue":g},null)])}return v("td",null,null)})])}}),sd=F({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),ui=Symbol.for("vuetify:datatable:expanded");function ci(e){const n=D(e,"expandOnClick"),t=ue(e,"expanded",e.expanded,l=>new Set(l),l=>[...l.values()]);function a(l,o){const u=new Set(t.value);o?u.add(l.value):u.delete(l.value),t.value=u}function s(l){return t.value.has(l.value)}function r(l){a(l,!s(l))}const i={expand:a,expanded:t,expandOnClick:n,isExpanded:s,toggleExpand:r};return pe(ui,i),i}function di(){const e=ge(ui);if(!e)throw new Error("foo");return e}const rd=F({index:Number,item:Object,cellProps:[Object,Function],onClick:fe(),onContextmenu:fe(),onDblclick:fe(),...hn()},"VDataTableRow"),id=K()({name:"VDataTableRow",props:rd(),setup(e,n){let{slots:t}=n;const{displayClasses:a,mobile:s}=Qe(e,"v-data-table__tr"),{isSelected:r,toggleSelect:i,someSelected:l,allSelected:o,selectAll:u}=Cn(),{isExpanded:c,toggleExpand:d}=di(),{toggleSort:f,sortBy:m,isSorted:h}=ei(),{columns:y}=xn();Z(()=>v("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((g,b)=>{const p=e.item,C=`item.${g.key}`,T=`header.${g.key}`,S={index:e.index,item:p.raw,internalItem:p,value:en(p.columns,g.key),column:g,isSelected:r,toggleSelect:i,isExpanded:c,toggleExpand:d},O={column:g,selectAll:u,isSorted:h,toggleSort:f,sortBy:m.value,someSelected:l.value,allSelected:o.value,getSortIcon:()=>""},I=typeof e.cellProps=="function"?e.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value,column:g}):e.cellProps,_=typeof g.cellProps=="function"?g.cellProps({index:S.index,item:S.item,internalItem:S.internalItem,value:S.value}):g.cellProps;return v(on,z({align:g.align,class:{"v-data-table__td--expanded-row":g.key==="data-table-expand","v-data-table__td--select-row":g.key==="data-table-select"},fixed:g.fixed,fixedOffset:g.fixedOffset,lastFixed:g.lastFixed,maxWidth:s.value?void 0:g.maxWidth,noPadding:g.key==="data-table-select"||g.key==="data-table-expand",nowrap:g.nowrap,width:s.value?void 0:g.width},I,_),{default:()=>{var j,$,V,E,L;if(t[C]&&!s.value)return(j=t[C])==null?void 0:j.call(t,S);if(g.key==="data-table-select")return(($=t["item.data-table-select"])==null?void 0:$.call(t,S))??v(Pn,{disabled:!p.selectable,modelValue:r([p]),onClick:Ca(()=>i(p),["stop"])},null);if(g.key==="data-table-expand")return((V=t["item.data-table-expand"])==null?void 0:V.call(t,S))??v(Ge,{icon:c(p)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ca(()=>d(p),["stop"])},null);const k=Bi(S.value);return s.value?v(oe,null,[v("div",{class:"v-data-table__td-title"},[((E=t[T])==null?void 0:E.call(t,O))??g.title]),v("div",{class:"v-data-table__td-value"},[((L=t[C])==null?void 0:L.call(t,S))??k])]):k}})})]))}}),fi=F({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...hn()},"VDataTableRows"),cn=K()({name:"VDataTableRows",inheritAttrs:!1,props:fi(),setup(e,n){let{attrs:t,slots:a}=n;const{columns:s}=xn(),{expandOnClick:r,toggleExpand:i,isExpanded:l}=di(),{isSelected:o,toggleSelect:u}=Cn(),{toggleGroup:c,isGroupOpen:d}=ri(),{t:f}=Ue(),{mobile:m}=Qe(e);return Z(()=>{var h,y;return e.loading&&(!e.items.length||a.loading)?v("tr",{class:"v-data-table-rows-loading",key:"loading"},[v("td",{colspan:s.value.length},[((h=a.loading)==null?void 0:h.call(a))??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?v("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[v("td",{colspan:s.value.length},[((y=a["no-data"])==null?void 0:y.call(a))??f(e.noDataText)])]):v(oe,null,[e.items.map((g,b)=>{var T;if(g.type==="group"){const S={index:b,item:g,columns:s.value,isExpanded:l,toggleExpand:i,isSelected:o,toggleSelect:u,toggleGroup:c,isGroupOpen:d};return a["group-header"]?a["group-header"](S):v(ad,z({key:`group-header_${g.id}`,item:g},Oa(t,":group-header",()=>S)),a)}const p={index:b,item:g.raw,internalItem:g,columns:s.value,isExpanded:l,toggleExpand:i,isSelected:o,toggleSelect:u},C={...p,props:z({key:`item_${g.key??g.index}`,onClick:r.value?()=>{i(g)}:void 0,index:b,item:g,cellProps:e.cellProps,mobile:m.value},Oa(t,":row",()=>p),typeof e.rowProps=="function"?e.rowProps({item:p.item,index:p.index,internalItem:p.internalItem}):e.rowProps)};return v(oe,{key:C.props.key},[a.item?a.item(C):v(id,C.props,a),l(g)&&((T=a["expanded-row"])==null?void 0:T.call(a,p))])})])}),{}}}),hi=F({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ie(),...ze(),...Oe(),..._e()},"VTable"),dn=K()({name:"VTable",props:hi(),setup(e,n){let{slots:t,emit:a}=n;const{themeClasses:s}=$e(e),{densityClasses:r}=Xe(e);return Z(()=>v(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},s.value,r.value,e.class],style:e.style},{default:()=>{var i,l,o;return[(i=t.top)==null?void 0:i.call(t),t.default?v("div",{class:"v-table__wrapper",style:{height:re(e.height)}},[v("table",null,[t.default()])]):(l=t.wrapper)==null?void 0:l.call(t),(o=t.bottom)==null?void 0:o.call(t)]}})),{}}}),ld=F({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function od(e,n,t,a){const s=e.returnObject?n:be(n,e.itemValue),r=be(n,e.itemSelectable,!0),i=a.reduce((l,o)=>(o.key!=null&&(l[o.key]=be(n,o.value)),l),{});return{type:"item",key:e.returnObject?be(n,e.itemValue):s,index:t,value:s,selectable:r,columns:i,raw:n}}function ud(e,n,t){return n.map((a,s)=>od(e,a,s,t))}function vi(e,n){return{items:w(()=>ud(e,e.items,n.value))}}function gi(e){let{page:n,itemsPerPage:t,sortBy:a,groupBy:s,search:r}=e;const i=Ve("VDataTable"),l=w(()=>({page:n.value,itemsPerPage:t.value,sortBy:a.value,groupBy:s.value,search:r.value}));let o=null;ae(l,()=>{Tt(o,l.value)||(o&&o.search!==l.value.search&&(n.value=1),i.emit("update:options",l.value),o=l.value)},{deep:!0,immediate:!0})}const cd=(e,n,t)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),dd=F({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function fd(e,n,t){var l;const a=[],s=(t==null?void 0:t.default)??cd,r=t!=null&&t.filterKeys?ve(t.filterKeys):!1,i=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let o=0;o<e.length;o++){const[u,c=u]=ve(e[o]),d={},f={};let m=-1;if((n||i>0)&&!(t!=null&&t.noFilter)){if(typeof u=="object"){const g=r||Object.keys(c);for(const b of g){const p=be(c,b),C=(l=t==null?void 0:t.customKeyFilter)==null?void 0:l[b];if(m=C?C(p,n,u):s(p,n,u),m!==-1&&m!==!1)C?d[b]=m:f[b]=m;else if((t==null?void 0:t.filterMode)==="every")continue e}}else m=s(u,n,u),m!==-1&&m!==!1&&(f.title=m);const h=Object.keys(f).length,y=Object.keys(d).length;if(!h&&!y||(t==null?void 0:t.filterMode)==="union"&&y!==i&&!h||(t==null?void 0:t.filterMode)==="intersection"&&(y!==i||!h))continue}a.push({index:o,matches:{...f,...d}})}return a}function hd(e,n,t,a){const s=H([]),r=H(new Map),i=w(()=>a!=null&&a.transform?st(n).map(o=>[o,a.transform(o)]):st(n));Ne(()=>{const o=typeof t=="function"?t():st(t),u=typeof o!="string"&&typeof o!="number"?"":String(o),c=fd(i.value,u,{customKeyFilter:{...e.customKeyFilter,...st(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=st(n),f=[],m=new Map;c.forEach(h=>{let{index:y,matches:g}=h;const b=d[y];f.push(b),m.set(b.value,g)}),s.value=f,r.value=m});function l(o){return r.value.get(o.value)}return{filteredItems:s,filteredMatches:r,getMatches:l}}const mi=F({...fi(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...sd(),...ed(),...zc(),...ld(),...Qc(),...Yc(),...ti(),...hi()},"DataTable"),vd=F({...Br(),...mi(),...dd(),...pa()},"VDataTable");K()({name:"VDataTable",props:vd(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{groupBy:s}=ai(e),{sortBy:r,multiSort:i,mustSort:l}=Xr(e),{page:o,itemsPerPage:u}=Mr(e),{disableSort:c}=ys(e),{columns:d,headers:f,sortFunctions:m,sortRawFunctions:h,filterFunctions:y}=Gr(e,{groupBy:s,showSelect:D(e,"showSelect"),showExpand:D(e,"showExpand")}),{items:g}=vi(e,d),b=D(e,"search"),{filteredItems:p}=hd(e,g,b,{transform:Q=>Q.columns,customKeyFilter:y}),{toggleSort:C}=Zr({sortBy:r,multiSort:i,mustSort:l,page:o}),{sortByWithGroups:T,opened:S,extractRows:O,isGroupOpen:I,toggleGroup:_}=si({groupBy:s,sortBy:r,disableSort:c}),{sortedItems:k}=Xc(e,p,T,{transform:Q=>({...Q.raw,...Q.columns}),sortFunctions:m,sortRawFunctions:h}),{flatItems:j}=oi(k,s,S),$=w(()=>j.value.length),{startIndex:V,stopIndex:E,pageCount:L,setItemsPerPage:M}=Nr({page:o,itemsPerPage:u,itemsLength:$}),{paginatedItems:N}=Uc({items:j,startIndex:V,stopIndex:E,itemsPerPage:u}),G=w(()=>O(N.value)),{isSelected:q,select:P,selectAll:x,toggleSelect:A,someSelected:R,allSelected:J}=Qr(e,{allItems:g,currentPage:G}),{isExpanded:U,toggleExpand:X}=ci(e);gi({page:o,itemsPerPage:u,sortBy:r,groupBy:s,search:b}),Je({VDataTableRows:{hideNoData:D(e,"hideNoData"),noDataText:D(e,"noDataText"),loading:D(e,"loading"),loadingText:D(e,"loadingText")}});const B=w(()=>({page:o.value,itemsPerPage:u.value,sortBy:r.value,pageCount:L.value,toggleSort:C,setItemsPerPage:M,someSelected:R.value,allSelected:J.value,isSelected:q,select:P,selectAll:x,toggleSelect:A,isExpanded:U,toggleExpand:X,isGroupOpen:I,toggleGroup:_,items:G.value.map(Q=>Q.raw),internalItems:G.value,groupedItems:N.value,columns:d.value,headers:f.value}));return Z(()=>{const Q=ln.filterProps(e),le=un.filterProps(e),me=cn.filterProps(e),te=dn.filterProps(e);return v(dn,z({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},te),{top:()=>{var Le;return(Le=a.top)==null?void 0:Le.call(a,B.value)},default:()=>{var Le,vt,Nt,Ut,_a,Sa;return a.default?a.default(B.value):v(oe,null,[(Le=a.colgroup)==null?void 0:Le.call(a,B.value),!e.hideDefaultHeader&&v("thead",{key:"thead"},[v(un,le,a)]),(vt=a.thead)==null?void 0:vt.call(a,B.value),!e.hideDefaultBody&&v("tbody",null,[(Nt=a["body.prepend"])==null?void 0:Nt.call(a,B.value),a.body?a.body(B.value):v(cn,z(t,me,{items:N.value}),a),(Ut=a["body.append"])==null?void 0:Ut.call(a,B.value)]),(_a=a.tbody)==null?void 0:_a.call(a,B.value),(Sa=a.tfoot)==null?void 0:Sa.call(a,B.value)])},bottom:()=>a.bottom?a.bottom(B.value):!e.hideDefaultFooter&&v(oe,null,[v(ya,null,null),v(ln,Q,{prepend:a["footer.prepend"]})])})}),{}}});const gd=F({itemsLength:{type:[Number,String],required:!0},...Br(),...mi(),...pa()},"VDataTableServer"),Ed=K()({name:"VDataTableServer",props:gd(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,n){let{attrs:t,slots:a}=n;const{groupBy:s}=ai(e),{sortBy:r,multiSort:i,mustSort:l}=Xr(e),{page:o,itemsPerPage:u}=Mr(e),{disableSort:c}=ys(e),d=w(()=>parseInt(e.itemsLength,10)),{columns:f,headers:m}=Gr(e,{groupBy:s,showSelect:D(e,"showSelect"),showExpand:D(e,"showExpand")}),{items:h}=vi(e,f),{toggleSort:y}=Zr({sortBy:r,multiSort:i,mustSort:l,page:o}),{opened:g,isGroupOpen:b,toggleGroup:p,extractRows:C}=si({groupBy:s,sortBy:r,disableSort:c}),{pageCount:T,setItemsPerPage:S}=Nr({page:o,itemsPerPage:u,itemsLength:d}),{flatItems:O}=oi(h,s,g),{isSelected:I,select:_,selectAll:k,toggleSelect:j,someSelected:$,allSelected:V}=Qr(e,{allItems:h,currentPage:h}),{isExpanded:E,toggleExpand:L}=ci(e),M=w(()=>C(h.value));gi({page:o,itemsPerPage:u,sortBy:r,groupBy:s,search:D(e,"search")}),pe("v-data-table",{toggleSort:y,sortBy:r}),Je({VDataTableRows:{hideNoData:D(e,"hideNoData"),noDataText:D(e,"noDataText"),loading:D(e,"loading"),loadingText:D(e,"loadingText")}});const N=w(()=>({page:o.value,itemsPerPage:u.value,sortBy:r.value,pageCount:T.value,toggleSort:y,setItemsPerPage:S,someSelected:$.value,allSelected:V.value,isSelected:I,select:_,selectAll:k,toggleSelect:j,isExpanded:E,toggleExpand:L,isGroupOpen:b,toggleGroup:p,items:M.value.map(G=>G.raw),internalItems:M.value,groupedItems:O.value,columns:f.value,headers:m.value}));Z(()=>{const G=ln.filterProps(e),q=un.filterProps(e),P=cn.filterProps(e),x=dn.filterProps(e);return v(dn,z({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},x),{top:()=>{var A;return(A=a.top)==null?void 0:A.call(a,N.value)},default:()=>{var A,R,J,U,X,B;return a.default?a.default(N.value):v(oe,null,[(A=a.colgroup)==null?void 0:A.call(a,N.value),!e.hideDefaultHeader&&v("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[v(un,z(q,{sticky:e.fixedHeader}),a)]),(R=a.thead)==null?void 0:R.call(a,N.value),!e.hideDefaultBody&&v("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(J=a["body.prepend"])==null?void 0:J.call(a,N.value),a.body?a.body(N.value):v(cn,z(t,P,{items:O.value}),a),(U=a["body.append"])==null?void 0:U.call(a,N.value)]),(X=a.tbody)==null?void 0:X.call(a,N.value),(B=a.tfoot)==null?void 0:B.call(a,N.value)])},bottom:()=>a.bottom?a.bottom(N.value):!e.hideDefaultFooter&&v(oe,null,[v(ya,null,null),v(ln,G,{prepend:a["footer.prepend"]})])})})}});export{Ed as V,os as a,wd as g,Id as s};
