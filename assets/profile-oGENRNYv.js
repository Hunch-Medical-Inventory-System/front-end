import{s as _}from"./forwardRefs-CATNDdFm.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{q as D}from"./VDataTable-CuH9JP11.js";import{V}from"./VTextField-0h40sPRU.js";import{V as h}from"./VContainer-gyyw63QA.js";import{r as i,B as w,o as P,l as k,n as l,i as f,x as t,X as o,a4 as I,V as b}from"./index-DFfHnzbP.js";import"./VAvatar-dB8KASTQ.js";import"./density-BsbZuh53.js";import"./VGrid-CoQxen0d.js";import"./VImg-BXbMzzdb.js";import"./VSelect-foHw0ahH.js";import"./VList-CRdxQi_g.js";import"./index-BMJh7i7d.js";import"./VDivider-BF_S4Agg.js";import"./VOverlay-BWFy8R-r.js";import"./scopeId-CGHdeld2.js";import"./VTable-Caw4KTrj.js";const C={colspan:"6"},S={__name:"profile",setup(B){const s=i(10),g=i([{title:"ID",key:"id",align:"center",divider:!0},{title:"Created At",key:"created_at",align:"center",divider:!0},{title:"Is Deleted",key:"is_deleted",align:"center",divider:!0},{title:"Supply ID",key:"supply_id",align:"center",divider:!0},{title:"Expiry Date",key:"expiry_date",align:"center",divider:!0},{title:"Crew Member",key:"crew_member",align:"center",divider:!0}]),n=i([]),d=i(!0),p=i(0),u=i(""),y=c=>{const r=new Date,a=new Date(c)-r,m=Math.ceil(a/(1e3*60*60*24));return m<=0?"expired":m<=7?"about-to-expire":m<=30?"expiring-soon":""},v=async({page:c,itemsPerPage:r})=>{d.value=!0;const{data:e,error:a}=await _.from("inventory").select("id, supply_id, created_at").limit(10);a&&console.error("Error:",a),a?(console.error("Error fetching data:",a),n.value=[],p.value=0):(n.value=e||[],p.value=count||0),d.value=!1};return w(()=>{v({page:1,itemsPerPage:s.value})}),(c,r)=>(P(),k(b,{class:"bg-container"},{default:l(()=>[f(h,{rounded:"10px",class:"profile-container"},{default:l(()=>[r[2]||(r[2]=t("h1",null,"Inventory Profile",-1)),f(D,{"items-per-page":s.value,"onUpdate:itemsPerPage":r[1]||(r[1]=e=>s.value=e),headers:g.value,items:n.value,"items-length":p.value,loading:d.value,search:u.value,"item-value":"id","onUpdate:options":v},{item:l(({item:e})=>[t("tr",{class:I(y(e.expiry_date))},[t("td",null,o(e.id),1),t("td",null,o(new Date(e.created_at).toLocaleDateString()),1),t("td",null,o(e.is_deleted),1),t("td",null,o(e.supply_id),1),t("td",null,o(new Date(e.expiry_date).toLocaleDateString()),1),t("td",null,o(e.crew_member),1)],2)]),tfoot:l(()=>[t("tr",null,[t("td",C,[f(V,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=e=>u.value=e),class:"ma-2",density:"compact",placeholder:"Search inventory...","hide-details":""},null,8,["modelValue"])])])]),_:1},8,["items-per-page","headers","items","items-length","loading","search"])]),_:1})]),_:1}))}},Q=x(S,[["__scopeId","data-v-5320a525"]]);export{Q as default};
