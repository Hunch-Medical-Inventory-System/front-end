import{s as y}from"./VTextField-j2UAlX67.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as d,B as x,o as p,l as _,n as u,x as t,i as D,L as n,O as v,q as w,M as b}from"./index-Bs7as7vK.js";import{V as h}from"./VDataTableServer-og9qUzru.js";import{V}from"./VContainer-DAPFHBoP.js";import"./VBtn-BwPj0Eav.js";import"./index-B_ECWDhT.js";import"./VDataTable-C6KrFVMB.js";import"./VSelect-DSUXNz2w.js";import"./VAvatar-4GYBVBdu.js";const P={key:0},k={__name:"expired",setup(B){const l=d([]);async function m(){const{data:a}=await y.from("Inventory").select();l.value=a}const o=d([]);function f(){const a=new Date;o.value=l.value.filter(r=>{const s=new Date(r.exp_date)-a;return Math.ceil(s/(1e3*60*60*24))<=7})}x(()=>{m().then(()=>{f()})});const c=a=>{const r=new Date,s=new Date(a)-r,i=Math.ceil(s/(1e3*60*60*24));return i<=0?"expired":i<=7?"about-to-expire":""};return(a,r)=>(p(),_(V,{rounded:"10px",class:"expired-container"},{default:u(()=>[r[2]||(r[2]=t("h1",null,"Epiry Alert",-1)),D(h,{"items-per-page":a.itemsPerPage,"onUpdate:itemsPerPage":r[0]||(r[0]=e=>a.itemsPerPage=e),headers:a.headers,items:o.value,"items-length":o.value.length,loading:a.loading},{item:u(({item:e})=>[t("tr",{class:v(c(e.exp_date))},[t("td",null,n(e.id),1),t("td",null,n(e.supply_name),1),t("td",null,n(e.crew_members),1),t("td",null,n(e.dosage),1),t("td",null,n(e.quantity),1),t("td",null,n(e.units_per_package),1),t("td",null,n(new Date(e.exp_date).toLocaleDateString()),1),t("td",null,n(new Date(e.created_at).toLocaleDateString()),1),t("td",null,n(e.crew_member_name),1)],2)]),_:1},8,["items-per-page","headers","items","items-length","loading"]),o.value.length?b("",!0):(p(),w("div",P,r[1]||(r[1]=[t("p",null,"No expired or about-to-expire medications found.",-1)])))]),_:1}))}},z=g(k,[["__scopeId","data-v-93b24f12"]]);export{z as default};
